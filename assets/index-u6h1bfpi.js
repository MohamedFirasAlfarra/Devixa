var Mg=e=>{throw TypeError(e)};var Dd=(e,t,r)=>t.has(e)||Mg("Cannot "+r);var I=(e,t,r)=>(Dd(e,t,"read from private field"),r?r.call(e):t.get(e)),Ne=(e,t,r)=>t.has(e)?Mg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ge=(e,t,r,n)=>(Dd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),St=(e,t,r)=>(Dd(e,t,"access private method"),r);var Vl=(e,t,r,n)=>({set _(s){ge(e,t,s,r)},get _(){return I(e,t,n)}});function OC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Kx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gx={exports:{}},Au={},Yx={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),IC=Symbol.for("react.portal"),DC=Symbol.for("react.fragment"),LC=Symbol.for("react.strict_mode"),$C=Symbol.for("react.profiler"),MC=Symbol.for("react.provider"),FC=Symbol.for("react.context"),UC=Symbol.for("react.forward_ref"),zC=Symbol.for("react.suspense"),BC=Symbol.for("react.memo"),VC=Symbol.for("react.lazy"),Fg=Symbol.iterator;function qC(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var Qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zx=Object.assign,Jx={};function Mi(e,t,r){this.props=e,this.context=t,this.refs=Jx,this.updater=r||Qx}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xx(){}Xx.prototype=Mi.prototype;function xp(e,t,r){this.props=e,this.context=t,this.refs=Jx,this.updater=r||Qx}var wp=xp.prototype=new Xx;wp.constructor=xp;Zx(wp,Mi.prototype);wp.isPureReactComponent=!0;var Ug=Array.isArray,ew=Object.prototype.hasOwnProperty,bp={current:null},tw={key:!0,ref:!0,__self:!0,__source:!0};function rw(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ew.call(t,n)&&!tw.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Sl,type:e,key:o,ref:i,props:s,_owner:bp.current}}function WC(e,t){return{$$typeof:Sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _p(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sl}function HC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zg=/\/+/g;function Ld(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HC(""+e.key):t.toString(36)}function wc(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Sl:case IC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ld(i,0):n,Ug(s)?(r="",e!=null&&(r=e.replace(zg,"$&/")+"/"),wc(s,t,r,"",function(u){return u})):s!=null&&(_p(s)&&(s=WC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(zg,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Ug(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Ld(o,l);i+=wc(o,t,r,c,s)}else if(c=qC(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Ld(o,l++),i+=wc(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ql(e,t,r){if(e==null)return e;var n=[],s=0;return wc(e,n,"","",function(o){return t.call(r,o,s++)}),n}function KC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},bc={transition:null},GC={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:bc,ReactCurrentOwner:bp};function nw(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:ql,forEach:function(e,t,r){ql(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!_p(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Mi;xe.Fragment=DC;xe.Profiler=$C;xe.PureComponent=xp;xe.StrictMode=LC;xe.Suspense=zC;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;xe.act=nw;xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Zx({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=bp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ew.call(t,c)&&!tw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Sl,type:e.type,key:s,ref:o,props:n,_owner:i}};xe.createContext=function(e){return e={$$typeof:FC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MC,_context:e},e.Consumer=e};xe.createElement=rw;xe.createFactory=function(e){var t=rw.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:UC,render:e}};xe.isValidElement=_p;xe.lazy=function(e){return{$$typeof:VC,_payload:{_status:-1,_result:e},_init:KC}};xe.memo=function(e,t){return{$$typeof:BC,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=bc.transition;bc.transition={};try{e()}finally{bc.transition=t}};xe.unstable_act=nw;xe.useCallback=function(e,t){return Ut.current.useCallback(e,t)};xe.useContext=function(e){return Ut.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};xe.useEffect=function(e,t){return Ut.current.useEffect(e,t)};xe.useId=function(){return Ut.current.useId()};xe.useImperativeHandle=function(e,t,r){return Ut.current.useImperativeHandle(e,t,r)};xe.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Ut.current.useMemo(e,t)};xe.useReducer=function(e,t,r){return Ut.current.useReducer(e,t,r)};xe.useRef=function(e){return Ut.current.useRef(e)};xe.useState=function(e){return Ut.current.useState(e)};xe.useSyncExternalStore=function(e,t,r){return Ut.current.useSyncExternalStore(e,t,r)};xe.useTransition=function(){return Ut.current.useTransition()};xe.version="18.3.1";Yx.exports=xe;var h=Yx.exports;const V=Kx(h),Sp=OC({__proto__:null,default:V},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=h,QC=Symbol.for("react.element"),ZC=Symbol.for("react.fragment"),JC=Object.prototype.hasOwnProperty,XC=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eN={key:!0,ref:!0,__self:!0,__source:!0};function sw(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)JC.call(t,n)&&!eN.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:QC,type:e,key:o,ref:i,props:s,_owner:XC.current}}Au.Fragment=ZC;Au.jsx=sw;Au.jsxs=sw;Gx.exports=Au;var a=Gx.exports,ow={exports:{}},cr={},iw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,A){var U=P.length;P.push(A);e:for(;0<U;){var J=U-1>>>1,K=P[J];if(0<s(K,A))P[J]=A,P[U]=K,U=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],U=P.pop();if(U!==A){P[0]=U;e:for(var J=0,K=P.length,ie=K>>>1;J<ie;){var se=2*(J+1)-1,Te=P[se],Ae=se+1,z=P[Ae];if(0>s(Te,U))Ae<K&&0>s(z,Te)?(P[J]=z,P[Ae]=U,J=Ae):(P[J]=Te,P[se]=U,J=se);else if(Ae<K&&0>s(z,U))P[J]=z,P[Ae]=U,J=Ae;else break e}}return A}function s(P,A){var U=P.sortIndex-A.sortIndex;return U!==0?U:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,g=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=P)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function _(P){if(p=!1,w(P),!b)if(r(c)!==null)b=!0,O(C);else{var A=r(u);A!==null&&B(_,A.startTime-P)}}function C(P,A){b=!1,p&&(p=!1,v(E),E=-1),m=!0;var U=g;try{for(w(A),f=r(c);f!==null&&(!(f.expirationTime>A)||P&&!T());){var J=f.callback;if(typeof J=="function"){f.callback=null,g=f.priorityLevel;var K=J(f.expirationTime<=A);A=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),w(A)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var se=r(u);se!==null&&B(_,se.startTime-A),ie=!1}return ie}finally{f=null,g=U,m=!1}}var j=!1,S=null,E=-1,N=5,k=-1;function T(){return!(e.unstable_now()-k<N)}function R(){if(S!==null){var P=e.unstable_now();k=P;var A=!0;try{A=S(!0,P)}finally{A?q():(j=!1,S=null)}}else j=!1}var q;if(typeof y=="function")q=function(){y(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=R,q=function(){G.postMessage(null)}}else q=function(){x(R,0)};function O(P){S=P,j||(j=!0,q())}function B(P,A){E=x(function(){P(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,O(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var U=g;g=A;try{return P()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=g;g=P;try{return A()}finally{g=U}},e.unstable_scheduleCallback=function(P,A,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,P={id:d++,callback:A,priorityLevel:P,startTime:U,expirationTime:K,sortIndex:-1},U>J?(P.sortIndex=U,t(u,P),r(c)===null&&P===r(u)&&(p?(v(E),E=-1):p=!0,B(_,U-J))):(P.sortIndex=K,t(c,P),b||m||(b=!0,O(C))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var A=g;return function(){var U=g;g=A;try{return P.apply(this,arguments)}finally{g=U}}}})(aw);iw.exports=aw;var tN=iw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN=h,ar=tN;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lw=new Set,Oa={};function ho(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(Oa[e]=t,e=0;e<t.length;e++)lw.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ff=Object.prototype.hasOwnProperty,nN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},Vg={};function sN(e){return Ff.call(Vg,e)?!0:Ff.call(Bg,e)?!1:nN.test(e)?Vg[e]=!0:(Bg[e]=!0,!1)}function oN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iN(e,t,r,n){if(t===null||typeof t>"u"||oN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function Cp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jp,Cp);bt[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jp,Cp);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jp,Cp);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Np(e,t,r,n){var s=bt.hasOwnProperty(t)?bt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iN(t,r,s,n)&&(r=null),n||s===null?sN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rn=rN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),cw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),dw=Symbol.for("react.offscreen"),qg=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=qg&&e[qg]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,$d;function ca(e){if($d===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$d=t&&t[1]||""}return`
`+$d+e}var Md=!1;function Fd(e,t){if(!e||Md)return"";Md=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Md=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ca(e):""}function aN(e){switch(e.tag){case 5:return ca(e.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return e=Fd(e.type,!1),e;case 11:return e=Fd(e.type.render,!1),e;case 1:return e=Fd(e.type,!0),e;default:return""}}function Vf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case Lo:return"Portal";case Uf:return"Profiler";case Ep:return"StrictMode";case zf:return"Suspense";case Bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uw:return(e.displayName||"Context")+".Consumer";case cw:return(e._context.displayName||"Context")+".Provider";case kp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tp:return t=e.displayName||null,t!==null?t:Vf(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return Vf(e(t))}catch{}}return null}function lN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(t);case 8:return t===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cN(e){var t=fw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=cN(e))}function hw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $c(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qf(e,t){var r=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ys(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pw(e,t){t=t.checked,t!=null&&Np(e,"checked",t,!1)}function Wf(e,t){pw(e,t);var r=ys(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hf(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hf(e,t,r){(t!=="number"||$c(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ua=Array.isArray;function Yo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ys(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(ua(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ys(r)}}function mw(e,t){var r=ys(t.value),n=ys(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kl,vw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ia(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uN=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(e){uN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),va[t]=va[e]})});function yw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||va.hasOwnProperty(e)&&va[e]?(""+t).trim():t+"px"}function xw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var dN=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yf(e,t){if(t){if(dN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zf=null;function Pp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jf=null,Qo=null,Zo=null;function Yg(e){if(e=Nl(e)){if(typeof Jf!="function")throw Error(L(280));var t=e.stateNode;t&&(t=$u(t),Jf(e.stateNode,e.type,t))}}function ww(e){Qo?Zo?Zo.push(e):Zo=[e]:Qo=e}function bw(){if(Qo){var e=Qo,t=Zo;if(Zo=Qo=null,Yg(e),t)for(e=0;e<t.length;e++)Yg(t[e])}}function _w(e,t){return e(t)}function Sw(){}var Ud=!1;function jw(e,t,r){if(Ud)return e(t,r);Ud=!0;try{return _w(e,t,r)}finally{Ud=!1,(Qo!==null||Zo!==null)&&(Sw(),bw())}}function Da(e,t){var r=e.stateNode;if(r===null)return null;var n=$u(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Xf=!1;if(Cn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Xf=!1}function fN(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ya=!1,Mc=null,Fc=!1,eh=null,hN={onError:function(e){ya=!0,Mc=e}};function pN(e,t,r,n,s,o,i,l,c){ya=!1,Mc=null,fN.apply(hN,arguments)}function mN(e,t,r,n,s,o,i,l,c){if(pN.apply(this,arguments),ya){if(ya){var u=Mc;ya=!1,Mc=null}else throw Error(L(198));Fc||(Fc=!0,eh=u)}}function po(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qg(e){if(po(e)!==e)throw Error(L(188))}function gN(e){var t=e.alternate;if(!t){if(t=po(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Qg(s),e;if(o===n)return Qg(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Nw(e){return e=gN(e),e!==null?Ew(e):null}function Ew(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ew(e);if(t!==null)return t;e=e.sibling}return null}var kw=ar.unstable_scheduleCallback,Zg=ar.unstable_cancelCallback,vN=ar.unstable_shouldYield,yN=ar.unstable_requestPaint,tt=ar.unstable_now,xN=ar.unstable_getCurrentPriorityLevel,Rp=ar.unstable_ImmediatePriority,Tw=ar.unstable_UserBlockingPriority,Uc=ar.unstable_NormalPriority,wN=ar.unstable_LowPriority,Pw=ar.unstable_IdlePriority,Ou=null,nn=null;function bN(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ou,e,void 0,(e.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:jN,_N=Math.log,SN=Math.LN2;function jN(e){return e>>>=0,e===0?32:31-(_N(e)/SN|0)|0}var Gl=64,Yl=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=da(l):(o&=i,o!==0&&(n=da(o)))}else i=r&~s,i!==0?n=da(i):o!==0&&(n=da(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ur(t),s=1<<r,n|=e[r],t&=~s;return n}function CN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ur(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=CN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rw(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function zd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ur(t),e[t]=r}function EN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ur(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ap(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ur(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function Aw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ow,Op,Iw,Dw,Lw,rh=!1,Ql=[],as=null,ls=null,cs=null,La=new Map,$a=new Map,Yn=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(e,t){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(t.pointerId)}}function ea(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Nl(t),t!==null&&Op(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function TN(e,t,r,n,s){switch(t){case"focusin":return as=ea(as,e,t,r,n,s),!0;case"dragenter":return ls=ea(ls,e,t,r,n,s),!0;case"mouseover":return cs=ea(cs,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return La.set(o,ea(La.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,$a.set(o,ea($a.get(o)||null,e,t,r,n,s)),!0}return!1}function $w(e){var t=Us(e.target);if(t!==null){var r=po(t);if(r!==null){if(t=r.tag,t===13){if(t=Cw(r),t!==null){e.blockedOn=t,Lw(e.priority,function(){Iw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zf=n,r.target.dispatchEvent(n),Zf=null}else return t=Nl(r),t!==null&&Op(t),e.blockedOn=r,!1;t.shift()}return!0}function Xg(e,t,r){_c(e)&&r.delete(t)}function PN(){rh=!1,as!==null&&_c(as)&&(as=null),ls!==null&&_c(ls)&&(ls=null),cs!==null&&_c(cs)&&(cs=null),La.forEach(Xg),$a.forEach(Xg)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,rh||(rh=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,PN)))}function Ma(e){function t(s){return ta(s,e)}if(0<Ql.length){ta(Ql[0],e);for(var r=1;r<Ql.length;r++){var n=Ql[r];n.blockedOn===e&&(n.blockedOn=null)}}for(as!==null&&ta(as,e),ls!==null&&ta(ls,e),cs!==null&&ta(cs,e),La.forEach(t),$a.forEach(t),r=0;r<Yn.length;r++)n=Yn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yn.length&&(r=Yn[0],r.blockedOn===null);)$w(r),r.blockedOn===null&&Yn.shift()}var Jo=Rn.ReactCurrentBatchConfig,Bc=!0;function RN(e,t,r,n){var s=Re,o=Jo.transition;Jo.transition=null;try{Re=1,Ip(e,t,r,n)}finally{Re=s,Jo.transition=o}}function AN(e,t,r,n){var s=Re,o=Jo.transition;Jo.transition=null;try{Re=4,Ip(e,t,r,n)}finally{Re=s,Jo.transition=o}}function Ip(e,t,r,n){if(Bc){var s=nh(e,t,r,n);if(s===null)Zd(e,t,n,Vc,r),Jg(e,n);else if(TN(s,e,t,r,n))n.stopPropagation();else if(Jg(e,n),t&4&&-1<kN.indexOf(e)){for(;s!==null;){var o=Nl(s);if(o!==null&&Ow(o),o=nh(e,t,r,n),o===null&&Zd(e,t,n,Vc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Zd(e,t,n,null,r)}}var Vc=null;function nh(e,t,r,n){if(Vc=null,e=Pp(n),e=Us(e),e!==null)if(t=po(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function Mw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xN()){case Rp:return 1;case Tw:return 4;case Uc:case wN:return 16;case Pw:return 536870912;default:return 16}default:return 16}}var ns=null,Dp=null,Sc=null;function Fw(){if(Sc)return Sc;var e,t=Dp,r=t.length,n,s="value"in ns?ns.value:ns.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Sc=s.slice(e,1<n?1-n:void 0)}function jc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function ev(){return!1}function ur(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zl:ev,this.isPropagationStopped=ev,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=ur(Fi),Cl=Ge({},Fi,{view:0,detail:0}),ON=ur(Cl),Bd,Vd,ra,Iu=Ge({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Bd=e.screenX-ra.screenX,Vd=e.screenY-ra.screenY):Vd=Bd=0,ra=e),Bd)},movementY:function(e){return"movementY"in e?e.movementY:Vd}}),tv=ur(Iu),IN=Ge({},Iu,{dataTransfer:0}),DN=ur(IN),LN=Ge({},Cl,{relatedTarget:0}),qd=ur(LN),$N=Ge({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=ur($N),FN=Ge({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UN=ur(FN),zN=Ge({},Fi,{data:0}),rv=ur(zN),BN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qN[e])?!!t[e]:!1}function $p(){return WN}var HN=Ge({},Cl,{key:function(e){if(e.key){var t=BN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(e){return e.type==="keypress"?jc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KN=ur(HN),GN=Ge({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nv=ur(GN),YN=Ge({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),QN=ur(YN),ZN=Ge({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=ur(ZN),XN=Ge({},Iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eE=ur(XN),tE=[9,13,27,32],Mp=Cn&&"CompositionEvent"in window,xa=null;Cn&&"documentMode"in document&&(xa=document.documentMode);var rE=Cn&&"TextEvent"in window&&!xa,Uw=Cn&&(!Mp||xa&&8<xa&&11>=xa),sv=" ",ov=!1;function zw(e,t){switch(e){case"keyup":return tE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function nE(e,t){switch(e){case"compositionend":return Bw(t);case"keypress":return t.which!==32?null:(ov=!0,sv);case"textInput":return e=t.data,e===sv&&ov?null:e;default:return null}}function sE(e,t){if(Mo)return e==="compositionend"||!Mp&&zw(e,t)?(e=Fw(),Sc=Dp=ns=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uw&&t.locale!=="ko"?null:t.data;default:return null}}var oE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oE[e.type]:t==="textarea"}function Vw(e,t,r,n){ww(n),t=qc(t,"onChange"),0<t.length&&(r=new Lp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wa=null,Fa=null;function iE(e){e0(e,0)}function Du(e){var t=zo(e);if(hw(t))return e}function aE(e,t){if(e==="change")return t}var qw=!1;if(Cn){var Wd;if(Cn){var Hd="oninput"in document;if(!Hd){var av=document.createElement("div");av.setAttribute("oninput","return;"),Hd=typeof av.oninput=="function"}Wd=Hd}else Wd=!1;qw=Wd&&(!document.documentMode||9<document.documentMode)}function lv(){wa&&(wa.detachEvent("onpropertychange",Ww),Fa=wa=null)}function Ww(e){if(e.propertyName==="value"&&Du(Fa)){var t=[];Vw(t,Fa,e,Pp(e)),jw(iE,t)}}function lE(e,t,r){e==="focusin"?(lv(),wa=t,Fa=r,wa.attachEvent("onpropertychange",Ww)):e==="focusout"&&lv()}function cE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Fa)}function uE(e,t){if(e==="click")return Du(t)}function dE(e,t){if(e==="input"||e==="change")return Du(t)}function fE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:fE;function Ua(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ff.call(t,s)||!Vr(e[s],t[s]))return!1}return!0}function cv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uv(e,t){var r=cv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cv(r)}}function Hw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kw(){for(var e=window,t=$c();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$c(e.document)}return t}function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hE(e){var t=Kw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hw(r.ownerDocument.documentElement,r)){if(n!==null&&Fp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=uv(r,o);var i=uv(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pE=Cn&&"documentMode"in document&&11>=document.documentMode,Fo=null,sh=null,ba=null,oh=!1;function dv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oh||Fo==null||Fo!==$c(n)||(n=Fo,"selectionStart"in n&&Fp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ba&&Ua(ba,n)||(ba=n,n=qc(sh,"onSelect"),0<n.length&&(t=new Lp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fo)))}function Jl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Uo={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Kd={},Gw={};Cn&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Lu(e){if(Kd[e])return Kd[e];if(!Uo[e])return e;var t=Uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gw)return Kd[e]=t[r];return e}var Yw=Lu("animationend"),Qw=Lu("animationiteration"),Zw=Lu("animationstart"),Jw=Lu("transitionend"),Xw=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(e,t){Xw.set(e,t),ho(t,[e])}for(var Gd=0;Gd<fv.length;Gd++){var Yd=fv[Gd],mE=Yd.toLowerCase(),gE=Yd[0].toUpperCase()+Yd.slice(1);js(mE,"on"+gE)}js(Yw,"onAnimationEnd");js(Qw,"onAnimationIteration");js(Zw,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(Jw,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vE=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function hv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mN(n,t,void 0,e),e.currentTarget=null}function e0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;hv(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;hv(s,l,u),o=c}}}if(Fc)throw e=eh,Fc=!1,eh=null,e}function Me(e,t){var r=t[uh];r===void 0&&(r=t[uh]=new Set);var n=e+"__bubble";r.has(n)||(t0(t,e,2,!1),r.add(n))}function Qd(e,t,r){var n=0;t&&(n|=4),t0(r,e,n,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function za(e){if(!e[Xl]){e[Xl]=!0,lw.forEach(function(r){r!=="selectionchange"&&(vE.has(r)||Qd(r,!1,e),Qd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,Qd("selectionchange",!1,t))}}function t0(e,t,r,n){switch(Mw(t)){case 1:var s=RN;break;case 4:s=AN;break;default:s=Ip}r=s.bind(null,t,r,e),s=void 0,!Xf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Zd(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Us(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}jw(function(){var u=o,d=Pp(r),f=[];e:{var g=Xw.get(e);if(g!==void 0){var m=Lp,b=e;switch(e){case"keypress":if(jc(r)===0)break e;case"keydown":case"keyup":m=KN;break;case"focusin":b="focus",m=qd;break;case"focusout":b="blur",m=qd;break;case"beforeblur":case"afterblur":m=qd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QN;break;case Yw:case Qw:case Zw:m=MN;break;case Jw:m=JN;break;case"scroll":m=ON;break;case"wheel":m=eE;break;case"copy":case"cut":case"paste":m=UN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nv}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?g!==null?g+"Capture":null:g;p=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,v!==null&&(_=Da(y,v),_!=null&&p.push(Ba(y,_,w)))),x)break;y=y.return}0<p.length&&(g=new m(g,b,null,r,d),f.push({event:g,listeners:p}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&r!==Zf&&(b=r.relatedTarget||r.fromElement)&&(Us(b)||b[Nn]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=r.relatedTarget||r.toElement,m=u,b=b?Us(b):null,b!==null&&(x=po(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(p=tv,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=nv,_="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?g:zo(m),w=b==null?g:zo(b),g=new p(_,y+"leave",m,r,d),g.target=x,g.relatedTarget=w,_=null,Us(d)===u&&(p=new p(v,y+"enter",b,r,d),p.target=w,p.relatedTarget=x,_=p),x=_,m&&b)t:{for(p=m,v=b,y=0,w=p;w;w=bo(w))y++;for(w=0,_=v;_;_=bo(_))w++;for(;0<y-w;)p=bo(p),y--;for(;0<w-y;)v=bo(v),w--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=bo(p),v=bo(v)}p=null}else p=null;m!==null&&pv(f,g,m,p,!1),b!==null&&x!==null&&pv(f,x,b,p,!0)}}e:{if(g=u?zo(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var C=aE;else if(iv(g))if(qw)C=dE;else{C=cE;var j=lE}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=uE);if(C&&(C=C(e,u))){Vw(f,C,r,d);break e}j&&j(e,g,u),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&Hf(g,"number",g.value)}switch(j=u?zo(u):window,e){case"focusin":(iv(j)||j.contentEditable==="true")&&(Fo=j,sh=u,ba=null);break;case"focusout":ba=sh=Fo=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,dv(f,r,d);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":dv(f,r,d)}var S;if(Mp)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mo?zw(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Uw&&r.locale!=="ko"&&(Mo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Mo&&(S=Fw()):(ns=d,Dp="value"in ns?ns.value:ns.textContent,Mo=!0)),j=qc(u,E),0<j.length&&(E=new rv(E,e,null,r,d),f.push({event:E,listeners:j}),S?E.data=S:(S=Bw(r),S!==null&&(E.data=S)))),(S=rE?nE(e,r):sE(e,r))&&(u=qc(u,"onBeforeInput"),0<u.length&&(d=new rv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}e0(f,t)})}function Ba(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Da(e,r),o!=null&&n.unshift(Ba(e,o,s)),o=Da(e,t),o!=null&&n.push(Ba(e,o,s))),e=e.return}return n}function bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pv(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Da(r,o),c!=null&&i.unshift(Ba(r,c,l))):s||(c=Da(r,o),c!=null&&i.push(Ba(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var yE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function mv(e){return(typeof e=="string"?e:""+e).replace(yE,`
`).replace(xE,"")}function ec(e,t,r){if(t=mv(t),mv(e)!==t&&r)throw Error(L(425))}function Wc(){}var ih=null,ah=null;function lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(e){return gv.resolve(null).then(e).catch(_E)}:ch;function _E(e){setTimeout(function(){throw e})}function Jd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ma(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ma(t)}function us(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),en="__reactFiber$"+Ui,Va="__reactProps$"+Ui,Nn="__reactContainer$"+Ui,uh="__reactEvents$"+Ui,SE="__reactListeners$"+Ui,jE="__reactHandles$"+Ui;function Us(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nn]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vv(e);e!==null;){if(r=e[en])return r;e=vv(e)}return t}e=r,r=e.parentNode}return null}function Nl(e){return e=e[en]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function $u(e){return e[Va]||null}var dh=[],Bo=-1;function Cs(e){return{current:e}}function Ue(e){0>Bo||(e.current=dh[Bo],dh[Bo]=null,Bo--)}function Le(e,t){Bo++,dh[Bo]=e.current,e.current=t}var xs={},Rt=Cs(xs),Gt=Cs(!1),Xs=xs;function mi(e,t){var r=e.type.contextTypes;if(!r)return xs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(e){return e=e.childContextTypes,e!=null}function Hc(){Ue(Gt),Ue(Rt)}function yv(e,t,r){if(Rt.current!==xs)throw Error(L(168));Le(Rt,t),Le(Gt,r)}function r0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,lN(e)||"Unknown",s));return Ge({},r,n)}function Kc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,Xs=Rt.current,Le(Rt,e),Le(Gt,Gt.current),!0}function xv(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=r0(e,t,Xs),n.__reactInternalMemoizedMergedChildContext=e,Ue(Gt),Ue(Rt),Le(Rt,e)):Ue(Gt),Le(Gt,r)}var xn=null,Mu=!1,Xd=!1;function n0(e){xn===null?xn=[e]:xn.push(e)}function CE(e){Mu=!0,n0(e)}function Ns(){if(!Xd&&xn!==null){Xd=!0;var e=0,t=Re;try{var r=xn;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xn=null,Mu=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),kw(Rp,Ns),s}finally{Re=t,Xd=!1}}return null}var Vo=[],qo=0,Gc=null,Yc=0,fr=[],hr=0,eo=null,bn=1,_n="";function Ds(e,t){Vo[qo++]=Yc,Vo[qo++]=Gc,Gc=e,Yc=t}function s0(e,t,r){fr[hr++]=bn,fr[hr++]=_n,fr[hr++]=eo,eo=e;var n=bn;e=_n;var s=32-Ur(n)-1;n&=~(1<<s),r+=1;var o=32-Ur(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,bn=1<<32-Ur(t)+s|r<<s|n,_n=o+e}else bn=1<<o|r<<s|n,_n=e}function Up(e){e.return!==null&&(Ds(e,1),s0(e,1,0))}function zp(e){for(;e===Gc;)Gc=Vo[--qo],Vo[qo]=null,Yc=Vo[--qo],Vo[qo]=null;for(;e===eo;)eo=fr[--hr],fr[hr]=null,_n=fr[--hr],fr[hr]=null,bn=fr[--hr],fr[hr]=null}var or=null,sr=null,ze=!1,Mr=null;function o0(e,t){var r=pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,sr=us(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=eo!==null?{id:bn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,sr=null,!0):!1;default:return!1}}function fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hh(e){if(ze){var t=sr;if(t){var r=t;if(!wv(e,t)){if(fh(e))throw Error(L(418));t=us(r.nextSibling);var n=or;t&&wv(e,t)?o0(n,r):(e.flags=e.flags&-4097|2,ze=!1,or=e)}}else{if(fh(e))throw Error(L(418));e.flags=e.flags&-4097|2,ze=!1,or=e}}}function bv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function tc(e){if(e!==or)return!1;if(!ze)return bv(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lh(e.type,e.memoizedProps)),t&&(t=sr)){if(fh(e))throw i0(),Error(L(418));for(;t;)o0(e,t),t=us(t.nextSibling)}if(bv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sr=us(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=or?us(e.stateNode.nextSibling):null;return!0}function i0(){for(var e=sr;e;)e=us(e.nextSibling)}function gi(){sr=or=null,ze=!1}function Bp(e){Mr===null?Mr=[e]:Mr.push(e)}var NE=Rn.ReactCurrentBatchConfig;function na(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function rc(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _v(e){var t=e._init;return t(e._payload)}function a0(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=ps(v,y),v.index=0,v.sibling=null,v}function o(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,_){return y===null||y.tag!==6?(y=af(w,v.mode,_),y.return=v,y):(y=s(y,w),y.return=v,y)}function c(v,y,w,_){var C=w.type;return C===$o?d(v,y,w.props.children,_,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wn&&_v(C)===y.type)?(_=s(y,w.props),_.ref=na(v,y,w),_.return=v,_):(_=Rc(w.type,w.key,w.props,null,v.mode,_),_.ref=na(v,y,w),_.return=v,_)}function u(v,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=lf(w,v.mode,_),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function d(v,y,w,_,C){return y===null||y.tag!==7?(y=Js(w,v.mode,_,C),y.return=v,y):(y=s(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=af(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:return w=Rc(y.type,y.key,y.props,null,v.mode,w),w.ref=na(v,null,y),w.return=v,w;case Lo:return y=lf(y,v.mode,w),y.return=v,y;case Wn:var _=y._init;return f(v,_(y._payload),w)}if(ua(y)||Ji(y))return y=Js(y,v.mode,w,null),y.return=v,y;rc(v,y)}return null}function g(v,y,w,_){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(v,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wl:return w.key===C?c(v,y,w,_):null;case Lo:return w.key===C?u(v,y,w,_):null;case Wn:return C=w._init,g(v,y,C(w._payload),_)}if(ua(w)||Ji(w))return C!==null?null:d(v,y,w,_,null);rc(v,w)}return null}function m(v,y,w,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(w)||null,l(y,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wl:return v=v.get(_.key===null?w:_.key)||null,c(y,v,_,C);case Lo:return v=v.get(_.key===null?w:_.key)||null,u(y,v,_,C);case Wn:var j=_._init;return m(v,y,w,j(_._payload),C)}if(ua(_)||Ji(_))return v=v.get(w)||null,d(y,v,_,C,null);rc(y,_)}return null}function b(v,y,w,_){for(var C=null,j=null,S=y,E=y=0,N=null;S!==null&&E<w.length;E++){S.index>E?(N=S,S=null):N=S.sibling;var k=g(v,S,w[E],_);if(k===null){S===null&&(S=N);break}e&&S&&k.alternate===null&&t(v,S),y=o(k,y,E),j===null?C=k:j.sibling=k,j=k,S=N}if(E===w.length)return r(v,S),ze&&Ds(v,E),C;if(S===null){for(;E<w.length;E++)S=f(v,w[E],_),S!==null&&(y=o(S,y,E),j===null?C=S:j.sibling=S,j=S);return ze&&Ds(v,E),C}for(S=n(v,S);E<w.length;E++)N=m(S,v,E,w[E],_),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?E:N.key),y=o(N,y,E),j===null?C=N:j.sibling=N,j=N);return e&&S.forEach(function(T){return t(v,T)}),ze&&Ds(v,E),C}function p(v,y,w,_){var C=Ji(w);if(typeof C!="function")throw Error(L(150));if(w=C.call(w),w==null)throw Error(L(151));for(var j=C=null,S=y,E=y=0,N=null,k=w.next();S!==null&&!k.done;E++,k=w.next()){S.index>E?(N=S,S=null):N=S.sibling;var T=g(v,S,k.value,_);if(T===null){S===null&&(S=N);break}e&&S&&T.alternate===null&&t(v,S),y=o(T,y,E),j===null?C=T:j.sibling=T,j=T,S=N}if(k.done)return r(v,S),ze&&Ds(v,E),C;if(S===null){for(;!k.done;E++,k=w.next())k=f(v,k.value,_),k!==null&&(y=o(k,y,E),j===null?C=k:j.sibling=k,j=k);return ze&&Ds(v,E),C}for(S=n(v,S);!k.done;E++,k=w.next())k=m(S,v,E,k.value,_),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?E:k.key),y=o(k,y,E),j===null?C=k:j.sibling=k,j=k);return e&&S.forEach(function(R){return t(v,R)}),ze&&Ds(v,E),C}function x(v,y,w,_){if(typeof w=="object"&&w!==null&&w.type===$o&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wl:e:{for(var C=w.key,j=y;j!==null;){if(j.key===C){if(C=w.type,C===$o){if(j.tag===7){r(v,j.sibling),y=s(j,w.props.children),y.return=v,v=y;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wn&&_v(C)===j.type){r(v,j.sibling),y=s(j,w.props),y.ref=na(v,j,w),y.return=v,v=y;break e}r(v,j);break}else t(v,j);j=j.sibling}w.type===$o?(y=Js(w.props.children,v.mode,_,w.key),y.return=v,v=y):(_=Rc(w.type,w.key,w.props,null,v.mode,_),_.ref=na(v,y,w),_.return=v,v=_)}return i(v);case Lo:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=lf(w,v.mode,_),y.return=v,v=y}return i(v);case Wn:return j=w._init,x(v,y,j(w._payload),_)}if(ua(w))return b(v,y,w,_);if(Ji(w))return p(v,y,w,_);rc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,w),y.return=v,v=y):(r(v,y),y=af(w,v.mode,_),y.return=v,v=y),i(v)):r(v,y)}return x}var vi=a0(!0),l0=a0(!1),Qc=Cs(null),Zc=null,Wo=null,Vp=null;function qp(){Vp=Wo=Zc=null}function Wp(e){var t=Qc.current;Ue(Qc),e._currentValue=t}function ph(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xo(e,t){Zc=e,Vp=Wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function gr(e){var t=e._currentValue;if(Vp!==e)if(e={context:e,memoizedValue:t,next:null},Wo===null){if(Zc===null)throw Error(L(308));Wo=e,Zc.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return t}var zs=null;function Hp(e){zs===null?zs=[e]:zs.push(e)}function c0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Hp(t)):(r.next=s.next,s.next=r),t.interleaved=r,En(e,n)}function En(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hn=!1;function Kp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ds(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,En(e,r)}return s=n.interleaved,s===null?(t.next=t,Hp(n)):(t.next=s.next,s.next=t),n.interleaved=t,En(e,r)}function Cc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ap(e,r)}}function Sv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jc(e,t,r,n){var s=e.updateQueue;Hn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var g=l.lane,m=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,p=l;switch(g=t,m=r,p.tag){case 1:if(b=p.payload,typeof b=="function"){f=b.call(m,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,g=typeof b=="function"?b.call(m,f,g):b,g==null)break e;f=Ge({},f,g);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ro|=i,e.lanes=i,e.memoizedState=f}}function jv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var El={},sn=Cs(El),qa=Cs(El),Wa=Cs(El);function Bs(e){if(e===El)throw Error(L(174));return e}function Gp(e,t){switch(Le(Wa,t),Le(qa,e),Le(sn,El),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gf(t,e)}Ue(sn),Le(sn,t)}function yi(){Ue(sn),Ue(qa),Ue(Wa)}function d0(e){Bs(Wa.current);var t=Bs(sn.current),r=Gf(t,e.type);t!==r&&(Le(qa,e),Le(sn,r))}function Yp(e){qa.current===e&&(Ue(sn),Ue(qa))}var qe=Cs(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ef=[];function Qp(){for(var e=0;e<ef.length;e++)ef[e]._workInProgressVersionPrimary=null;ef.length=0}var Nc=Rn.ReactCurrentDispatcher,tf=Rn.ReactCurrentBatchConfig,to=0,Ke=null,ut=null,ht=null,eu=!1,_a=!1,Ha=0,EE=0;function jt(){throw Error(L(321))}function Zp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vr(e[r],t[r]))return!1;return!0}function Jp(e,t,r,n,s,o){if(to=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nc.current=e===null||e.memoizedState===null?RE:AE,e=r(n,s),_a){o=0;do{if(_a=!1,Ha=0,25<=o)throw Error(L(301));o+=1,ht=ut=null,t.updateQueue=null,Nc.current=OE,e=r(n,s)}while(_a)}if(Nc.current=tu,t=ut!==null&&ut.next!==null,to=0,ht=ut=Ke=null,eu=!1,t)throw Error(L(300));return e}function Xp(){var e=Ha!==0;return Ha=0,e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=e:ht=ht.next=e,ht}function vr(){if(ut===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=ht===null?Ke.memoizedState:ht.next;if(t!==null)ht=t,ut=e;else{if(e===null)throw Error(L(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Ke.memoizedState=ht=e:ht=ht.next=e}return ht}function Ka(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=vr(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=ut,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((to&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ke.lanes|=d,ro|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Vr(n,t.memoizedState)||(Kt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ke.lanes|=o,ro|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nf(e){var t=vr(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Vr(o,t.memoizedState)||(Kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function f0(){}function h0(e,t){var r=Ke,n=vr(),s=t(),o=!Vr(n.memoizedState,s);if(o&&(n.memoizedState=s,Kt=!0),n=n.queue,em(g0.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(r.flags|=2048,Ga(9,m0.bind(null,r,n,s,t),void 0,null),pt===null)throw Error(L(349));to&30||p0(r,t,s)}return s}function p0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function m0(e,t,r,n){t.value=r,t.getSnapshot=n,v0(t)&&y0(e)}function g0(e,t,r){return r(function(){v0(t)&&y0(e)})}function v0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vr(e,r)}catch{return!0}}function y0(e){var t=En(e,1);t!==null&&zr(t,e,1,-1)}function Cv(e){var t=Qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t.queue=e,e=e.dispatch=PE.bind(null,Ke,e),[t.memoizedState,e]}function Ga(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function x0(){return vr().memoizedState}function Ec(e,t,r,n){var s=Qr();Ke.flags|=e,s.memoizedState=Ga(1|t,r,void 0,n===void 0?null:n)}function Fu(e,t,r,n){var s=vr();n=n===void 0?null:n;var o=void 0;if(ut!==null){var i=ut.memoizedState;if(o=i.destroy,n!==null&&Zp(n,i.deps)){s.memoizedState=Ga(t,r,o,n);return}}Ke.flags|=e,s.memoizedState=Ga(1|t,r,o,n)}function Nv(e,t){return Ec(8390656,8,e,t)}function em(e,t){return Fu(2048,8,e,t)}function w0(e,t){return Fu(4,2,e,t)}function b0(e,t){return Fu(4,4,e,t)}function _0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S0(e,t,r){return r=r!=null?r.concat([e]):null,Fu(4,4,_0.bind(null,t,e),r)}function tm(){}function j0(e,t){var r=vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function C0(e,t){var r=vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function N0(e,t,r){return to&21?(Vr(r,t)||(r=Rw(),Ke.lanes|=r,ro|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=r)}function kE(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=tf.transition;tf.transition={};try{e(!1),t()}finally{Re=r,tf.transition=n}}function E0(){return vr().memoizedState}function TE(e,t,r){var n=hs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k0(e))T0(t,r);else if(r=c0(e,t,r,n),r!==null){var s=Ft();zr(r,e,n,s),P0(r,t,n)}}function PE(e,t,r){var n=hs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k0(e))T0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Vr(l,i)){var c=t.interleaved;c===null?(s.next=s,Hp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=c0(e,t,s,n),r!==null&&(s=Ft(),zr(r,e,n,s),P0(r,t,n))}}function k0(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function T0(e,t){_a=eu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function P0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ap(e,r)}}var tu={readContext:gr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},RE={readContext:gr,useCallback:function(e,t){return Qr().memoizedState=[e,t===void 0?null:t],e},useContext:gr,useEffect:Nv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ec(4194308,4,_0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ec(4,2,e,t)},useMemo:function(e,t){var r=Qr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=TE.bind(null,Ke,e),[n.memoizedState,e]},useRef:function(e){var t=Qr();return e={current:e},t.memoizedState=e},useState:Cv,useDebugValue:tm,useDeferredValue:function(e){return Qr().memoizedState=e},useTransition:function(){var e=Cv(!1),t=e[0];return e=kE.bind(null,e[1]),Qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ke,s=Qr();if(ze){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),pt===null)throw Error(L(349));to&30||p0(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Nv(g0.bind(null,n,o,e),[e]),n.flags|=2048,Ga(9,m0.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Qr(),t=pt.identifierPrefix;if(ze){var r=_n,n=bn;r=(n&~(1<<32-Ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ha++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=EE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AE={readContext:gr,useCallback:j0,useContext:gr,useEffect:em,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:C0,useReducer:rf,useRef:x0,useState:function(){return rf(Ka)},useDebugValue:tm,useDeferredValue:function(e){var t=vr();return N0(t,ut.memoizedState,e)},useTransition:function(){var e=rf(Ka)[0],t=vr().memoizedState;return[e,t]},useMutableSource:f0,useSyncExternalStore:h0,useId:E0,unstable_isNewReconciler:!1},OE={readContext:gr,useCallback:j0,useContext:gr,useEffect:em,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:C0,useReducer:nf,useRef:x0,useState:function(){return nf(Ka)},useDebugValue:tm,useDeferredValue:function(e){var t=vr();return ut===null?t.memoizedState=e:N0(t,ut.memoizedState,e)},useTransition:function(){var e=nf(Ka)[0],t=vr().memoizedState;return[e,t]},useMutableSource:f0,useSyncExternalStore:h0,useId:E0,unstable_isNewReconciler:!1};function Rr(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uu={isMounted:function(e){return(e=e._reactInternals)?po(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),s=hs(e),o=Sn(n,s);o.payload=t,r!=null&&(o.callback=r),t=ds(e,o,s),t!==null&&(zr(t,e,s,n),Cc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),s=hs(e),o=Sn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ds(e,o,s),t!==null&&(zr(t,e,s,n),Cc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=hs(e),s=Sn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ds(e,s,n),t!==null&&(zr(t,e,n,r),Cc(t,e,n))}};function Ev(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ua(r,n)||!Ua(s,o):!0}function R0(e,t,r){var n=!1,s=xs,o=t.contextType;return typeof o=="object"&&o!==null?o=gr(o):(s=Yt(t)?Xs:Rt.current,n=t.contextTypes,o=(n=n!=null)?mi(e,s):xs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function kv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Uu.enqueueReplaceState(t,t.state,null)}function gh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Kp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gr(o):(o=Yt(t)?Xs:Rt.current,s.context=mi(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Uu.enqueueReplaceState(s,s.state,null),Jc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xi(e,t){try{var r="",n=t;do r+=aN(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function sf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var IE=typeof WeakMap=="function"?WeakMap:Map;function A0(e,t,r){r=Sn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nu||(nu=!0,Eh=n),vh(e,t)},r}function O0(e,t,r){r=Sn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){vh(e,t),typeof n!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Tv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new IE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=GE.bind(null,e,t,r),t.then(e,e))}function Pv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sn(-1,1),t.tag=2,ds(r,t,1))),r.lanes|=1),e)}var DE=Rn.ReactCurrentOwner,Kt=!1;function Lt(e,t,r,n){t.child=e===null?l0(t,null,r,n):vi(t,e.child,r,n)}function Av(e,t,r,n,s){r=r.render;var o=t.ref;return Xo(t,s),n=Jp(e,t,r,n,o,s),r=Xp(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kn(e,t,s)):(ze&&r&&Up(t),t.flags|=1,Lt(e,t,n,s),t.child)}function Ov(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!cm(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,I0(e,t,o,n,s)):(e=Rc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ua,r(i,n)&&e.ref===t.ref)return kn(e,t,s)}return t.flags|=1,e=ps(o,n),e.ref=t.ref,e.return=t,t.child=e}function I0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ua(o,n)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,kn(e,t,s)}return yh(e,t,r,n,s)}function D0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ko,er),er|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Ko,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Le(Ko,er),er|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Le(Ko,er),er|=n;return Lt(e,t,s,r),t.child}function L0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,r,n,s){var o=Yt(r)?Xs:Rt.current;return o=mi(t,o),Xo(t,s),r=Jp(e,t,r,n,o,s),n=Xp(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kn(e,t,s)):(ze&&n&&Up(t),t.flags|=1,Lt(e,t,r,s),t.child)}function Iv(e,t,r,n,s){if(Yt(r)){var o=!0;Kc(t)}else o=!1;if(Xo(t,s),t.stateNode===null)kc(e,t),R0(t,r,n),gh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Yt(r)?Xs:Rt.current,u=mi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&kv(t,i,n,u),Hn=!1;var g=t.memoizedState;i.state=g,Jc(t,n,i,s),c=t.memoizedState,l!==n||g!==c||Gt.current||Hn?(typeof d=="function"&&(mh(t,r,d,n),c=t.memoizedState),(l=Hn||Ev(t,r,l,n,g,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,u0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rr(t.type,l),i.props=u,f=t.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=Yt(r)?Xs:Rt.current,c=mi(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||g!==c)&&kv(t,i,n,c),Hn=!1,g=t.memoizedState,i.state=g,Jc(t,n,i,s);var b=t.memoizedState;l!==f||g!==b||Gt.current||Hn?(typeof m=="function"&&(mh(t,r,m,n),b=t.memoizedState),(u=Hn||Ev(t,r,u,n,g,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return xh(e,t,r,n,o,s)}function xh(e,t,r,n,s,o){L0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&xv(t,r,!1),kn(e,t,o);n=t.stateNode,DE.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=vi(t,e.child,null,o),t.child=vi(t,null,l,o)):Lt(e,t,l,o),t.memoizedState=n.state,s&&xv(t,r,!0),t.child}function $0(e){var t=e.stateNode;t.pendingContext?yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yv(e,t.context,!1),Gp(e,t.containerInfo)}function Dv(e,t,r,n,s){return gi(),Bp(s),t.flags|=256,Lt(e,t,r,n),t.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function bh(e){return{baseLanes:e,cachePool:null,transitions:null}}function M0(e,t,r){var n=t.pendingProps,s=qe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(qe,s&1),e===null)return hh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Vu(i,n,0,null),e=Js(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bh(r),t.memoizedState=wh,e):rm(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return LE(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ps(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ps(l,o):(o=Js(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?bh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=wh,n}return o=e.child,e=o.sibling,n=ps(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rm(e,t){return t=Vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nc(e,t,r,n){return n!==null&&Bp(n),vi(t,e.child,null,r),e=rm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LE(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=sf(Error(L(422))),nc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Vu({mode:"visible",children:n.children},s,0,null),o=Js(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&vi(t,e.child,null,i),t.child.memoizedState=bh(i),t.memoizedState=wh,o);if(!(t.mode&1))return nc(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(L(419)),n=sf(o,n,void 0),nc(e,t,i,n)}if(l=(i&e.childLanes)!==0,Kt||l){if(n=pt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,En(e,s),zr(n,e,s,-1))}return lm(),n=sf(Error(L(421))),nc(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,sr=us(s.nextSibling),or=t,ze=!0,Mr=null,e!==null&&(fr[hr++]=bn,fr[hr++]=_n,fr[hr++]=eo,bn=e.id,_n=e.overflow,eo=t),t=rm(t,n.children),t.flags|=4096,t)}function Lv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ph(e.return,t,r)}function of(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function F0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Lt(e,t,n.children,r),n=qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lv(e,r,t);else if(e.tag===19)Lv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(qe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Xc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),of(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}of(t,!0,r,null,o);break;case"together":of(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=ps(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ps(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $E(e,t,r){switch(t.tag){case 3:$0(t),gi();break;case 5:d0(t);break;case 1:Yt(t.type)&&Kc(t);break;case 4:Gp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Le(Qc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?M0(e,t,r):(Le(qe,qe.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Le(qe,qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return F0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(qe,qe.current),n)break;return null;case 22:case 23:return t.lanes=0,D0(e,t,r)}return kn(e,t,r)}var U0,_h,z0,B0;U0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_h=function(){};z0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Bs(sn.current);var o=null;switch(r){case"input":s=qf(e,s),n=qf(e,n),o=[];break;case"select":s=Ge({},s,{value:void 0}),n=Ge({},n,{value:void 0}),o=[];break;case"textarea":s=Kf(e,s),n=Kf(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wc)}Yf(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};B0=function(e,t,r,n){r!==n&&(t.flags|=4)};function sa(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ME(e,t,r){var n=t.pendingProps;switch(zp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Yt(t.type)&&Hc(),Ct(t),null;case 3:return n=t.stateNode,yi(),Ue(Gt),Ue(Rt),Qp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(Ph(Mr),Mr=null))),_h(e,t),Ct(t),null;case 5:Yp(t);var s=Bs(Wa.current);if(r=t.type,e!==null&&t.stateNode!=null)z0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Ct(t),null}if(e=Bs(sn.current),tc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[en]=t,n[Va]=o,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<fa.length;s++)Me(fa[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Wg(n,o),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Me("invalid",n);break;case"textarea":Kg(n,o),Me("invalid",n)}Yf(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ec(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ec(n.textContent,l,e),s=["children",""+l]):Oa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Me("scroll",n)}switch(r){case"input":Hl(n),Hg(n,o,!0);break;case"textarea":Hl(n),Gg(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Wc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[en]=t,e[Va]=n,U0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qf(r,n),r){case"dialog":Me("cancel",e),Me("close",e),s=n;break;case"iframe":case"object":case"embed":Me("load",e),s=n;break;case"video":case"audio":for(s=0;s<fa.length;s++)Me(fa[s],e);s=n;break;case"source":Me("error",e),s=n;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=n;break;case"details":Me("toggle",e),s=n;break;case"input":Wg(e,n),s=qf(e,n),Me("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ge({},n,{value:void 0}),Me("invalid",e);break;case"textarea":Kg(e,n),s=Kf(e,n),Me("invalid",e);break;default:s=n}Yf(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?xw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vw(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ia(e,c):typeof c=="number"&&Ia(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oa.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Me("scroll",e):c!=null&&Np(e,o,c,i))}switch(r){case"input":Hl(e),Hg(e,n,!1);break;case"textarea":Hl(e),Gg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ys(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Yo(e,!!n.multiple,o,!1):n.defaultValue!=null&&Yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)B0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Bs(Wa.current),Bs(sn.current),tc(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(o=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:ec(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ec(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return Ct(t),null;case 13:if(Ue(qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&sr!==null&&t.mode&1&&!(t.flags&128))i0(),gi(),t.flags|=98560,o=!1;else if(o=tc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[en]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),o=!1}else Mr!==null&&(Ph(Mr),Mr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?dt===0&&(dt=3):lm())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return yi(),_h(e,t),e===null&&za(t.stateNode.containerInfo),Ct(t),null;case 10:return Wp(t.type._context),Ct(t),null;case 17:return Yt(t.type)&&Hc(),Ct(t),null;case 19:if(Ue(qe),o=t.memoizedState,o===null)return Ct(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)sa(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Xc(e),i!==null){for(t.flags|=128,sa(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(qe,qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&tt()>wi&&(t.flags|=128,n=!0,sa(o,!1),t.lanes=4194304)}else{if(!n)if(e=Xc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ze)return Ct(t),null}else 2*tt()-o.renderingStartTime>wi&&r!==1073741824&&(t.flags|=128,n=!0,sa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tt(),t.sibling=null,r=qe.current,Le(qe,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return am(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?er&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function FE(e,t){switch(zp(t),t.tag){case 1:return Yt(t.type)&&Hc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),Ue(Gt),Ue(Rt),Qp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yp(t),null;case 13:if(Ue(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(qe),null;case 4:return yi(),null;case 10:return Wp(t.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var sc=!1,Pt=!1,UE=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ho(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xe(e,t,n)}else r.current=null}function Sh(e,t,r){try{r()}catch(n){Xe(e,t,n)}}var $v=!1;function zE(e,t){if(ih=Bc,e=Kw(),Fp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===r&&++u===s&&(l=i),g===o&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ah={focusedElem:e,selectionRange:r},Bc=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Rr(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){Xe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return b=$v,$v=!1,b}function Sa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Sh(t,r,o)}s=s.next}while(s!==n)}}function zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function V0(e){var t=e.alternate;t!==null&&(e.alternate=null,V0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Va],delete t[uh],delete t[SE],delete t[jE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function q0(e){return e.tag===5||e.tag===3||e.tag===4}function Mv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||q0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ch(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wc));else if(n!==4&&(e=e.child,e!==null))for(Ch(e,t,r),e=e.sibling;e!==null;)Ch(e,t,r),e=e.sibling}function Nh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nh(e,t,r),e=e.sibling;e!==null;)Nh(e,t,r),e=e.sibling}var yt=null,Lr=!1;function Un(e,t,r){for(r=r.child;r!==null;)W0(e,t,r),r=r.sibling}function W0(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ou,r)}catch{}switch(r.tag){case 5:Pt||Ho(r,t);case 6:var n=yt,s=Lr;yt=null,Un(e,t,r),yt=n,Lr=s,yt!==null&&(Lr?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(Lr?(e=yt,r=r.stateNode,e.nodeType===8?Jd(e.parentNode,r):e.nodeType===1&&Jd(e,r),Ma(e)):Jd(yt,r.stateNode));break;case 4:n=yt,s=Lr,yt=r.stateNode.containerInfo,Lr=!0,Un(e,t,r),yt=n,Lr=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Sh(r,t,i),s=s.next}while(s!==n)}Un(e,t,r);break;case 1:if(!Pt&&(Ho(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Xe(r,t,l)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Un(e,t,r),Pt=n):Un(e,t,r);break;default:Un(e,t,r)}}function Fv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new UE),t.forEach(function(n){var s=QE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:yt=l.stateNode,Lr=!1;break e;case 3:yt=l.stateNode.containerInfo,Lr=!0;break e;case 4:yt=l.stateNode.containerInfo,Lr=!0;break e}l=l.return}if(yt===null)throw Error(L(160));W0(o,i,s),yt=null,Lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H0(t,e),t=t.sibling}function H0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Er(t,e),Yr(e),n&4){try{Sa(3,e,e.return),zu(3,e)}catch(p){Xe(e,e.return,p)}try{Sa(5,e,e.return)}catch(p){Xe(e,e.return,p)}}break;case 1:Er(t,e),Yr(e),n&512&&r!==null&&Ho(r,r.return);break;case 5:if(Er(t,e),Yr(e),n&512&&r!==null&&Ho(r,r.return),e.flags&32){var s=e.stateNode;try{Ia(s,"")}catch(p){Xe(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&pw(s,o),Qf(l,i);var u=Qf(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?xw(s,f):d==="dangerouslySetInnerHTML"?vw(s,f):d==="children"?Ia(s,f):Np(s,d,f,u)}switch(l){case"input":Wf(s,o);break;case"textarea":mw(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Yo(s,!!o.multiple,m,!1):g!==!!o.multiple&&(o.defaultValue!=null?Yo(s,!!o.multiple,o.defaultValue,!0):Yo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Va]=o}catch(p){Xe(e,e.return,p)}}break;case 6:if(Er(t,e),Yr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){Xe(e,e.return,p)}}break;case 3:if(Er(t,e),Yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(t.containerInfo)}catch(p){Xe(e,e.return,p)}break;case 4:Er(t,e),Yr(e);break;case 13:Er(t,e),Yr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(om=tt())),n&4&&Fv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,Er(t,e),Pt=u):Er(t,e),Yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Q=e,d=e.child;d!==null;){for(f=Q=d;Q!==null;){switch(g=Q,m=g.child,g.tag){case 0:case 11:case 14:case 15:Sa(4,g,g.return);break;case 1:Ho(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){Xe(n,r,p)}}break;case 5:Ho(g,g.return);break;case 22:if(g.memoizedState!==null){zv(f);continue}}m!==null?(m.return=g,Q=m):zv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yw("display",i))}catch(p){Xe(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Xe(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(t,e),Yr(e),n&4&&Fv(e);break;case 21:break;default:Er(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(q0(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ia(s,""),n.flags&=-33);var o=Mv(e);Nh(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mv(e);Ch(e,l,i);break;default:throw Error(L(161))}}catch(c){Xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BE(e,t,r){Q=e,K0(e)}function K0(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||sc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=sc;var u=Pt;if(sc=i,(Pt=c)&&!u)for(Q=s;Q!==null;)i=Q,c=i.child,i.tag===22&&i.memoizedState!==null?Bv(s):c!==null?(c.return=i,Q=c):Bv(s);for(;o!==null;)Q=o,K0(o),o=o.sibling;Q=s,sc=l,Pt=u}Uv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):Uv(e)}}function Uv(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||zu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jv(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Pt||t.flags&512&&jh(t)}catch(g){Xe(t,t.return,g)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function zv(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Bv(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zu(4,t)}catch(c){Xe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Xe(t,s,c)}}var o=t.return;try{jh(t)}catch(c){Xe(t,o,c)}break;case 5:var i=t.return;try{jh(t)}catch(c){Xe(t,i,c)}}}catch(c){Xe(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var VE=Math.ceil,ru=Rn.ReactCurrentDispatcher,nm=Rn.ReactCurrentOwner,mr=Rn.ReactCurrentBatchConfig,_e=0,pt=null,it=null,wt=0,er=0,Ko=Cs(0),dt=0,Ya=null,ro=0,Bu=0,sm=0,ja=null,Ht=null,om=0,wi=1/0,vn=null,nu=!1,Eh=null,fs=null,oc=!1,ss=null,su=0,Ca=0,kh=null,Tc=-1,Pc=0;function Ft(){return _e&6?tt():Tc!==-1?Tc:Tc=tt()}function hs(e){return e.mode&1?_e&2&&wt!==0?wt&-wt:NE.transition!==null?(Pc===0&&(Pc=Rw()),Pc):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Mw(e.type)),e):1}function zr(e,t,r,n){if(50<Ca)throw Ca=0,kh=null,Error(L(185));jl(e,r,n),(!(_e&2)||e!==pt)&&(e===pt&&(!(_e&2)&&(Bu|=r),dt===4&&Qn(e,wt)),Qt(e,n),r===1&&_e===0&&!(t.mode&1)&&(wi=tt()+500,Mu&&Ns()))}function Qt(e,t){var r=e.callbackNode;NN(e,t);var n=zc(e,e===pt?wt:0);if(n===0)r!==null&&Zg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zg(r),t===1)e.tag===0?CE(Vv.bind(null,e)):n0(Vv.bind(null,e)),bE(function(){!(_e&6)&&Ns()}),r=null;else{switch(Aw(n)){case 1:r=Rp;break;case 4:r=Tw;break;case 16:r=Uc;break;case 536870912:r=Pw;break;default:r=Uc}r=tb(r,G0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function G0(e,t){if(Tc=-1,Pc=0,_e&6)throw Error(L(327));var r=e.callbackNode;if(ei()&&e.callbackNode!==r)return null;var n=zc(e,e===pt?wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ou(e,n);else{t=n;var s=_e;_e|=2;var o=Q0();(pt!==e||wt!==t)&&(vn=null,wi=tt()+500,Zs(e,t));do try{HE();break}catch(l){Y0(e,l)}while(!0);qp(),ru.current=o,_e=s,it!==null?t=0:(pt=null,wt=0,t=dt)}if(t!==0){if(t===2&&(s=th(e),s!==0&&(n=s,t=Th(e,s))),t===1)throw r=Ya,Zs(e,0),Qn(e,n),Qt(e,tt()),r;if(t===6)Qn(e,n);else{if(s=e.current.alternate,!(n&30)&&!qE(s)&&(t=ou(e,n),t===2&&(o=th(e),o!==0&&(n=o,t=Th(e,o))),t===1))throw r=Ya,Zs(e,0),Qn(e,n),Qt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Ls(e,Ht,vn);break;case 3:if(Qn(e,n),(n&130023424)===n&&(t=om+500-tt(),10<t)){if(zc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ch(Ls.bind(null,e,Ht,vn),t);break}Ls(e,Ht,vn);break;case 4:if(Qn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Ur(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VE(n/1960))-n,10<n){e.timeoutHandle=ch(Ls.bind(null,e,Ht,vn),n);break}Ls(e,Ht,vn);break;case 5:Ls(e,Ht,vn);break;default:throw Error(L(329))}}}return Qt(e,tt()),e.callbackNode===r?G0.bind(null,e):null}function Th(e,t){var r=ja;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),e=ou(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&Ph(t)),e}function Ph(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function qE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Vr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~sm,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ur(t),n=1<<r;e[r]=-1,t&=~n}}function Vv(e){if(_e&6)throw Error(L(327));ei();var t=zc(e,0);if(!(t&1))return Qt(e,tt()),null;var r=ou(e,t);if(e.tag!==0&&r===2){var n=th(e);n!==0&&(t=n,r=Th(e,n))}if(r===1)throw r=Ya,Zs(e,0),Qn(e,t),Qt(e,tt()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ls(e,Ht,vn),Qt(e,tt()),null}function im(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(wi=tt()+500,Mu&&Ns())}}function no(e){ss!==null&&ss.tag===0&&!(_e&6)&&ei();var t=_e;_e|=1;var r=mr.transition,n=Re;try{if(mr.transition=null,Re=1,e)return e()}finally{Re=n,mr.transition=r,_e=t,!(_e&6)&&Ns()}}function am(){er=Ko.current,Ue(Ko)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wE(r)),it!==null)for(r=it.return;r!==null;){var n=r;switch(zp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hc();break;case 3:yi(),Ue(Gt),Ue(Rt),Qp();break;case 5:Yp(n);break;case 4:yi();break;case 13:Ue(qe);break;case 19:Ue(qe);break;case 10:Wp(n.type._context);break;case 22:case 23:am()}r=r.return}if(pt=e,it=e=ps(e.current,null),wt=er=t,dt=0,Ya=null,sm=Bu=ro=0,Ht=ja=null,zs!==null){for(t=0;t<zs.length;t++)if(r=zs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}zs=null}return e}function Y0(e,t){do{var r=it;try{if(qp(),Nc.current=tu,eu){for(var n=Ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}eu=!1}if(to=0,ht=ut=Ke=null,_a=!1,Ha=0,nm.current=null,r===null||r.return===null){dt=1,Ya=t,it=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Pv(i);if(m!==null){m.flags&=-257,Rv(m,i,l,o,t),m.mode&1&&Tv(o,u,t),t=m,c=u;var b=t.updateQueue;if(b===null){var p=new Set;p.add(c),t.updateQueue=p}else b.add(c);break e}else{if(!(t&1)){Tv(o,u,t),lm();break e}c=Error(L(426))}}else if(ze&&l.mode&1){var x=Pv(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Rv(x,i,l,o,t),Bp(xi(c,l));break e}}o=c=xi(c,l),dt!==4&&(dt=2),ja===null?ja=[o]:ja.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=A0(o,c,t);Sv(o,v);break e;case 1:l=c;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fs===null||!fs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=O0(o,l,t);Sv(o,_);break e}}o=o.return}while(o!==null)}J0(r)}catch(C){t=C,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function Q0(){var e=ru.current;return ru.current=tu,e===null?tu:e}function lm(){(dt===0||dt===3||dt===2)&&(dt=4),pt===null||!(ro&268435455)&&!(Bu&268435455)||Qn(pt,wt)}function ou(e,t){var r=_e;_e|=2;var n=Q0();(pt!==e||wt!==t)&&(vn=null,Zs(e,t));do try{WE();break}catch(s){Y0(e,s)}while(!0);if(qp(),_e=r,ru.current=n,it!==null)throw Error(L(261));return pt=null,wt=0,dt}function WE(){for(;it!==null;)Z0(it)}function HE(){for(;it!==null&&!vN();)Z0(it)}function Z0(e){var t=eb(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?J0(e):it=t,nm.current=null}function J0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=FE(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,it=null;return}}else if(r=ME(r,t,er),r!==null){it=r;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);dt===0&&(dt=5)}function Ls(e,t,r){var n=Re,s=mr.transition;try{mr.transition=null,Re=1,KE(e,t,r,n)}finally{mr.transition=s,Re=n}return null}function KE(e,t,r,n){do ei();while(ss!==null);if(_e&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(EN(e,o),e===pt&&(it=pt=null,wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oc||(oc=!0,tb(Uc,function(){return ei(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=mr.transition,mr.transition=null;var i=Re;Re=1;var l=_e;_e|=4,nm.current=null,zE(e,r),H0(r,e),hE(ah),Bc=!!ih,ah=ih=null,e.current=r,BE(r),yN(),_e=l,Re=i,mr.transition=o}else e.current=r;if(oc&&(oc=!1,ss=e,su=s),o=e.pendingLanes,o===0&&(fs=null),bN(r.stateNode),Qt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(nu)throw nu=!1,e=Eh,Eh=null,e;return su&1&&e.tag!==0&&ei(),o=e.pendingLanes,o&1?e===kh?Ca++:(Ca=0,kh=e):Ca=0,Ns(),null}function ei(){if(ss!==null){var e=Aw(su),t=mr.transition,r=Re;try{if(mr.transition=null,Re=16>e?16:e,ss===null)var n=!1;else{if(e=ss,ss=null,su=0,_e&6)throw Error(L(331));var s=_e;for(_e|=4,Q=e.current;Q!==null;){var o=Q,i=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Sa(8,d,o)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var g=d.sibling,m=d.return;if(V0(d),d===u){Q=null;break}if(g!==null){g.return=m,Q=g;break}Q=m}}}var b=o.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Q=i;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sa(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Q=v;break e}Q=o.return}}var y=e.current;for(Q=y;Q!==null;){i=Q;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Q=w;else e:for(i=y;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zu(9,l)}}catch(C){Xe(l,l.return,C)}if(l===i){Q=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Q=_;break e}Q=l.return}}if(_e=s,Ns(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ou,e)}catch{}n=!0}return n}finally{Re=r,mr.transition=t}}return!1}function qv(e,t,r){t=xi(r,t),t=A0(e,t,1),e=ds(e,t,1),t=Ft(),e!==null&&(jl(e,1,t),Qt(e,t))}function Xe(e,t,r){if(e.tag===3)qv(e,e,r);else for(;t!==null;){if(t.tag===3){qv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fs===null||!fs.has(n))){e=xi(r,e),e=O0(t,e,1),t=ds(t,e,1),e=Ft(),t!==null&&(jl(t,1,e),Qt(t,e));break}}t=t.return}}function GE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(wt&r)===r&&(dt===4||dt===3&&(wt&130023424)===wt&&500>tt()-om?Zs(e,0):sm|=r),Qt(e,t)}function X0(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var r=Ft();e=En(e,t),e!==null&&(jl(e,t,r),Qt(e,r))}function YE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),X0(e,r)}function QE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),X0(e,r)}var eb;eb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)Kt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kt=!1,$E(e,t,r);Kt=!!(e.flags&131072)}else Kt=!1,ze&&t.flags&1048576&&s0(t,Yc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kc(e,t),e=t.pendingProps;var s=mi(t,Rt.current);Xo(t,r),s=Jp(null,t,n,e,s,r);var o=Xp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(n)?(o=!0,Kc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kp(t),s.updater=Uu,t.stateNode=s,s._reactInternals=t,gh(t,n,e,r),t=xh(null,t,n,!0,o,r)):(t.tag=0,ze&&o&&Up(t),Lt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=JE(n),e=Rr(n,e),s){case 0:t=yh(null,t,n,e,r);break e;case 1:t=Iv(null,t,n,e,r);break e;case 11:t=Av(null,t,n,e,r);break e;case 14:t=Ov(null,t,n,Rr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),yh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),Iv(e,t,n,s,r);case 3:e:{if($0(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,u0(e,t),Jc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=xi(Error(L(423)),t),t=Dv(e,t,n,r,s);break e}else if(n!==s){s=xi(Error(L(424)),t),t=Dv(e,t,n,r,s);break e}else for(sr=us(t.stateNode.containerInfo.firstChild),or=t,ze=!0,Mr=null,r=l0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gi(),n===s){t=kn(e,t,r);break e}Lt(e,t,n,r)}t=t.child}return t;case 5:return d0(t),e===null&&hh(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,lh(n,s)?i=null:o!==null&&lh(n,o)&&(t.flags|=32),L0(e,t),Lt(e,t,i,r),t.child;case 6:return e===null&&hh(t),null;case 13:return M0(e,t,r);case 4:return Gp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vi(t,null,n,r):Lt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),Av(e,t,n,s,r);case 7:return Lt(e,t,t.pendingProps,r),t.child;case 8:return Lt(e,t,t.pendingProps.children,r),t.child;case 12:return Lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Le(Qc,n._currentValue),n._currentValue=i,o!==null)if(Vr(o.value,i)){if(o.children===s.children&&!Gt.current){t=kn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Sn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ph(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ph(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Lt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Xo(t,r),s=gr(s),n=n(s),t.flags|=1,Lt(e,t,n,r),t.child;case 14:return n=t.type,s=Rr(n,t.pendingProps),s=Rr(n.type,s),Ov(e,t,n,s,r);case 15:return I0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),kc(e,t),t.tag=1,Yt(n)?(e=!0,Kc(t)):e=!1,Xo(t,r),R0(t,n,s),gh(t,n,s,r),xh(null,t,n,!0,e,r);case 19:return F0(e,t,r);case 22:return D0(e,t,r)}throw Error(L(156,t.tag))};function tb(e,t){return kw(e,t)}function ZE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,r,n){return new ZE(e,t,r,n)}function cm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JE(e){if(typeof e=="function")return cm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kp)return 11;if(e===Tp)return 14}return 2}function ps(e,t){var r=e.alternate;return r===null?(r=pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")cm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $o:return Js(r.children,s,o,t);case Ep:i=8,s|=8;break;case Uf:return e=pr(12,r,t,s|2),e.elementType=Uf,e.lanes=o,e;case zf:return e=pr(13,r,t,s),e.elementType=zf,e.lanes=o,e;case Bf:return e=pr(19,r,t,s),e.elementType=Bf,e.lanes=o,e;case dw:return Vu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cw:i=10;break e;case uw:i=9;break e;case kp:i=11;break e;case Tp:i=14;break e;case Wn:i=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=pr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Js(e,t,r,n){return e=pr(7,e,n,t),e.lanes=r,e}function Vu(e,t,r,n){return e=pr(22,e,n,t),e.elementType=dw,e.lanes=r,e.stateNode={isHidden:!1},e}function af(e,t,r){return e=pr(6,e,null,t),e.lanes=r,e}function lf(e,t,r){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function um(e,t,r,n,s,o,i,l,c){return e=new XE(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=pr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(o),e}function ek(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rb(e){if(!e)return xs;e=e._reactInternals;e:{if(po(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Yt(r))return r0(e,r,t)}return t}function nb(e,t,r,n,s,o,i,l,c){return e=um(r,n,!0,e,s,o,i,l,c),e.context=rb(null),r=e.current,n=Ft(),s=hs(r),o=Sn(n,s),o.callback=t??null,ds(r,o,s),e.current.lanes=s,jl(e,s,n),Qt(e,n),e}function qu(e,t,r,n){var s=t.current,o=Ft(),i=hs(s);return r=rb(r),t.context===null?t.context=r:t.pendingContext=r,t=Sn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ds(s,t,i),e!==null&&(zr(e,s,i,o),Cc(e,s,i)),i}function iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dm(e,t){Wv(e,t),(e=e.alternate)&&Wv(e,t)}function tk(){return null}var sb=typeof reportError=="function"?reportError:function(e){console.error(e)};function fm(e){this._internalRoot=e}Wu.prototype.render=fm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));qu(e,t,null,null)};Wu.prototype.unmount=fm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;no(function(){qu(null,e,null,null)}),t[Nn]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yn.length&&t!==0&&t<Yn[r].priority;r++);Yn.splice(r,0,e),r===0&&$w(e)}};function hm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hv(){}function rk(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=iu(i);o.call(u)}}var i=nb(t,n,e,0,null,!1,!1,"",Hv);return e._reactRootContainer=i,e[Nn]=i.current,za(e.nodeType===8?e.parentNode:e),no(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=iu(c);l.call(u)}}var c=um(e,0,!1,null,null,!1,!1,"",Hv);return e._reactRootContainer=c,e[Nn]=c.current,za(e.nodeType===8?e.parentNode:e),no(function(){qu(t,c,r,n)}),c}function Ku(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=iu(i);l.call(c)}}qu(t,i,e,s)}else i=rk(r,t,e,s,n);return iu(i)}Ow=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=da(t.pendingLanes);r!==0&&(Ap(t,r|1),Qt(t,tt()),!(_e&6)&&(wi=tt()+500,Ns()))}break;case 13:no(function(){var n=En(e,1);if(n!==null){var s=Ft();zr(n,e,1,s)}}),dm(e,1)}};Op=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var r=Ft();zr(t,e,134217728,r)}dm(e,134217728)}};Iw=function(e){if(e.tag===13){var t=hs(e),r=En(e,t);if(r!==null){var n=Ft();zr(r,e,t,n)}dm(e,t)}};Dw=function(){return Re};Lw=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};Jf=function(e,t,r){switch(t){case"input":if(Wf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$u(n);if(!s)throw Error(L(90));hw(n),Wf(n,s)}}}break;case"textarea":mw(e,r);break;case"select":t=r.value,t!=null&&Yo(e,!!r.multiple,t,!1)}};_w=im;Sw=no;var nk={usingClientEntryPoint:!1,Events:[Nl,zo,$u,ww,bw,im]},oa={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sk={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nw(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Ou=ic.inject(sk),nn=ic}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(t))throw Error(L(200));return ek(e,t,null,r)};cr.createRoot=function(e,t){if(!hm(e))throw Error(L(299));var r=!1,n="",s=sb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=um(e,1,!1,null,null,r,!1,n,s),e[Nn]=t.current,za(e.nodeType===8?e.parentNode:e),new fm(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Nw(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return no(e)};cr.hydrate=function(e,t,r){if(!Hu(t))throw Error(L(200));return Ku(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!hm(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=sb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=nb(t,null,e,1,r??null,s,!1,o,i),e[Nn]=t.current,za(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wu(t)};cr.render=function(e,t,r){if(!Hu(t))throw Error(L(200));return Ku(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!Hu(e))throw Error(L(40));return e._reactRootContainer?(no(function(){Ku(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1};cr.unstable_batchedUpdates=im;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hu(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ku(e,t,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function ob(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ob)}catch(e){console.error(e)}}ob(),ow.exports=cr;var mo=ow.exports;const ib=Kx(mo);var ab,Kv=mo;ab=Kv.createRoot,Kv.hydrateRoot;const ok=1,ik=1e6;let cf=0;function ak(){return cf=(cf+1)%Number.MAX_SAFE_INTEGER,cf.toString()}const uf=new Map,Gv=e=>{if(uf.has(e))return;const t=setTimeout(()=>{uf.delete(e),Na({type:"REMOVE_TOAST",toastId:e})},ik);uf.set(e,t)},lk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ok)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Gv(r):e.toasts.forEach(n=>{Gv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ac=[];let Oc={toasts:[]};function Na(e){Oc=lk(Oc,e),Ac.forEach(t=>{t(Oc)})}function ck({...e}){const t=ak(),r=s=>Na({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Na({type:"DISMISS_TOAST",toastId:t});return Na({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Zt(){const[e,t]=h.useState(Oc);return h.useEffect(()=>(Ac.push(t),()=>{const r=Ac.indexOf(t);r>-1&&Ac.splice(r,1)}),[e]),{...e,toast:ck,dismiss:r=>Na({type:"DISMISS_TOAST",toastId:r})}}function Y(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Yv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lb(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Yv(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Yv(e[s],null)}}}}function pe(...e){return h.useCallback(lb(...e),e)}function uk(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function _t(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var v;const{scope:g,children:m,...b}=f,p=((v=g==null?void 0:g[e])==null?void 0:v[c])||l,x=h.useMemo(()=>b,Object.values(b));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=o+"Provider";function d(f,g){var p;const m=((p=g==null?void 0:g[e])==null?void 0:p[c])||l,b=h.useContext(m);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,dk(s,...t)]}function dk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function so(e){const t=hk(e),r=h.forwardRef((n,s)=>{const{children:o,...i}=n,l=h.Children.toArray(o),c=l.find(pk);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var fk=so("Slot");function hk(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const i=gk(s),l=mk(o,s.props);return s.type!==h.Fragment&&(l.ref=n?lb(n,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cb=Symbol("radix.slottable");function ub(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=cb,t}function pk(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cb}function mk(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function gk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pm(e){const t=e+"CollectionProvider",[r,n]=_t(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:v}=p,y=V.useRef(null),w=V.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=so(l),u=V.forwardRef((p,x)=>{const{scope:v,children:y}=p,w=o(l,v),_=pe(x,w.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",g=so(d),m=V.forwardRef((p,x)=>{const{scope:v,children:y,...w}=p,_=V.useRef(null),C=pe(x,_),j=o(d,v);return V.useEffect(()=>(j.itemMap.set(_,{ref:_,...w}),()=>void j.itemMap.delete(_))),a.jsx(g,{[f]:"",ref:C,children:y})});m.displayName=d;function b(p){const x=o(e+"CollectionConsumer",p);return V.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,S)=>w.indexOf(j.ref.current)-w.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},b,n]}var vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=vk.reduce((e,t)=>{const r=so(`Primitive.${t}`),n=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function db(e,t){e&&mo.flushSync(()=>e.dispatchEvent(t))}function at(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function yk(e,t=globalThis==null?void 0:globalThis.document){const r=at(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var xk="DismissableLayer",Rh="dismissableLayer.update",wk="dismissableLayer.pointerDownOutside",bk="dismissableLayer.focusOutside",Qv,fb=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(fb),[d,f]=h.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),b=pe(t,S=>f(S)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,C=Sk(S=>{const E=S.target,N=[...u.branches].some(k=>k.contains(E));!_||N||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},g),j=jk(S=>{const E=S.target;[...u.branches].some(k=>k.contains(E))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},g);return yk(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},g),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qv=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Qv)}},[d,g,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zv())},[d,u]),h.useEffect(()=>{const S=()=>m({});return document.addEventListener(Rh,S),()=>document.removeEventListener(Rh,S)},[]),a.jsx(te.div,{...c,ref:b,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,C.onPointerDownCapture)})});zi.displayName=xk;var _k="DismissableLayerBranch",hb=h.forwardRef((e,t)=>{const r=h.useContext(fb),n=h.useRef(null),s=pe(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(te.div,{...e,ref:s})});hb.displayName=_k;function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=at(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){pb(wk,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jk(e,t=globalThis==null?void 0:globalThis.document){const r=at(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&pb(bk,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zv(){const e=new CustomEvent(Rh);document.dispatchEvent(e)}function pb(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?db(s,o):s.dispatchEvent(o)}var Ck=zi,Nk=hb,et=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Ek="Portal",kl=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);et(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?ib.createPortal(a.jsx(te.div,{...n,ref:t}),i):null});kl.displayName=Ek;function kk(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Bt=e=>{const{present:t,children:r}=e,n=Tk(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=pe(n.ref,Pk(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Bt.displayName="Presence";function Tk(e){const[t,r]=h.useState(),n=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=kk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=ac(n.current);o.current=l==="mounted"?u:"none"},[l]),et(()=>{const u=n.current,d=s.current;if(d!==e){const g=o.current,m=ac(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=ac(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=m=>{m.target===t&&(o.current=ac(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ac(e){return(e==null?void 0:e.animationName)||"none"}function Pk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rk=Sp[" useInsertionEffect ".trim().toString()]||et;function ln({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=Ak({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=h.useCallback(d=>{var f;if(l){const g=Ok(d)?d(e):d;g!==e&&((f=i.current)==null||f.call(i,g))}else o(d)},[l,e,o,i]);return[c,u]}function Ak({defaultProp:e,onChange:t}){const[r,n]=h.useState(e),s=h.useRef(r),o=h.useRef(t);return Rk(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function Ok(e){return typeof e=="function"}var mb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ik="VisuallyHidden",Gu=h.forwardRef((e,t)=>a.jsx(te.span,{...e,ref:t,style:{...mb,...e.style}}));Gu.displayName=Ik;var Dk=Gu,mm="ToastProvider",[gm,Lk,$k]=pm("Toast"),[gb,c3]=_t("Toast",[$k]),[Mk,Yu]=gb(mm),vb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),g=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${mm}\`. Expected non-empty \`string\`.`),a.jsx(gm.Provider,{scope:t,children:a.jsx(Mk,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(m=>m+1),[]),onToastRemove:h.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:i})})};vb.displayName=mm;var yb="ToastViewport",Fk=["F8"],Ah="toast.viewportPause",Oh="toast.viewportResume",xb=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Fk,label:s="Notifications ({hotkey})",...o}=e,i=Yu(yb,r),l=Lk(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),g=pe(t,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const x=v=>{var w;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),h.useEffect(()=>{const x=c.current,v=f.current;if(b&&x&&v){const y=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(Ah);v.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(Oh);v.dispatchEvent(j),i.isClosePausedRef.current=!1}},_=j=>{!x.contains(j.relatedTarget)&&w()},C=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",_),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const p=h.useCallback(({tabbingDirection:x})=>{const y=l().map(w=>{const _=w.ref.current,C=[_,...Jk(_)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return h.useEffect(()=>{const x=f.current;if(x){const v=y=>{var C,j,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,N=y.shiftKey;if(y.target===x&&N){(C=u.current)==null||C.focus();return}const R=p({tabbingDirection:N?"backwards":"forwards"}),q=R.findIndex(D=>D===E);df(R.slice(q+1))?y.preventDefault():N?(j=u.current)==null||j.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),a.jsxs(Nk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Ih,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});df(x)}}),a.jsx(gm.Slot,{scope:r,children:a.jsx(te.ol,{tabIndex:-1,...o,ref:g})}),b&&a.jsx(Ih,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});df(x)}})]})});xb.displayName=yb;var wb="ToastFocusProxy",Ih=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Yu(wb,r);return a.jsx(Gu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Ih.displayName=wb;var Tl="Toast",Uk="toast.swipeStart",zk="toast.swipeMove",Bk="toast.swipeCancel",Vk="toast.swipeEnd",bb=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=ln({prop:n,defaultProp:s??!0,onChange:o,caller:Tl});return a.jsx(Bt,{present:r||l,children:a.jsx(Hk,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:at(e.onPause),onResume:at(e.onResume),onSwipeStart:Y(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});bb.displayName=Tl;var[qk,Wk]=gb(Tl,{onClose(){}}),Hk=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:m,...b}=e,p=Yu(Tl,r),[x,v]=h.useState(null),y=pe(t,D=>v(D)),w=h.useRef(null),_=h.useRef(null),C=s||p.duration,j=h.useRef(0),S=h.useRef(C),E=h.useRef(0),{onToastAdd:N,onToastRemove:k}=p,T=at(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=p.viewport)==null||G.focus()),i()}),R=h.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(T,D))},[T]);h.useEffect(()=>{const D=p.viewport;if(D){const G=()=>{R(S.current),u==null||u()},O=()=>{const B=new Date().getTime()-j.current;S.current=S.current-B,window.clearTimeout(E.current),c==null||c()};return D.addEventListener(Ah,O),D.addEventListener(Oh,G),()=>{D.removeEventListener(Ah,O),D.removeEventListener(Oh,G)}}},[p.viewport,C,c,u,R]),h.useEffect(()=>{o&&!p.isClosePausedRef.current&&R(C)},[o,C,p.isClosePausedRef,R]),h.useEffect(()=>(N(),()=>k()),[N,k]);const q=h.useMemo(()=>x?kb(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[q&&a.jsx(Kk,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),a.jsx(qk,{scope:r,onClose:T,children:mo.createPortal(a.jsx(gm.ItemSlot,{scope:r,children:a.jsx(Ck,{asChild:!0,onEscapeKeyDown:Y(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||T(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Y(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:Y(e.onPointerMove,D=>{if(!w.current)return;const G=D.clientX-w.current.x,O=D.clientY-w.current.y,B=!!_.current,P=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,U=P?A(0,G):0,J=P?0:A(0,O),K=D.pointerType==="touch"?10:2,ie={x:U,y:J},se={originalEvent:D,delta:ie};B?(_.current=ie,lc(zk,f,se,{discrete:!1})):Jv(ie,p.swipeDirection,K)?(_.current=ie,lc(Uk,d,se,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(G)>K||Math.abs(O)>K)&&(w.current=null)}),onPointerUp:Y(e.onPointerUp,D=>{const G=_.current,O=D.target;if(O.hasPointerCapture(D.pointerId)&&O.releasePointerCapture(D.pointerId),_.current=null,w.current=null,G){const B=D.currentTarget,P={originalEvent:D,delta:G};Jv(G,p.swipeDirection,p.swipeThreshold)?lc(Vk,m,P,{discrete:!0}):lc(Bk,g,P,{discrete:!0}),B.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Kk=e=>{const{__scopeToast:t,children:r,...n}=e,s=Yu(Tl,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return Qk(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(kl,{asChild:!0,children:a.jsx(Gu,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Gk="ToastTitle",_b=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(te.div,{...n,ref:t})});_b.displayName=Gk;var Yk="ToastDescription",Sb=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(te.div,{...n,ref:t})});Sb.displayName=Yk;var jb="ToastAction",Cb=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(Eb,{altText:r,asChild:!0,children:a.jsx(vm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jb}\`. Expected non-empty \`string\`.`),null)});Cb.displayName=jb;var Nb="ToastClose",vm=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Wk(Nb,r);return a.jsx(Eb,{asChild:!0,children:a.jsx(te.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,s.onClose)})})});vm.displayName=Nb;var Eb=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function kb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Zk(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...kb(n))}}),t}function lc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?db(s,o):s.dispatchEvent(o)}var Jv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function Qk(e=()=>{}){const t=at(e);et(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Zk(e){return e.nodeType===e.ELEMENT_NODE}function Jk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function df(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Xk=vb,Tb=xb,Pb=bb,Rb=_b,Ab=Sb,Ob=Cb,Ib=vm;function Db(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Db(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Db(e))&&(n&&(n+=" "),n+=t);return n}const Xv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ey=Lb,Qu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ey(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const g=Xv(d)||Xv(f);return s[u][g]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:g,...m}=d;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...o,...l}[p]):{...o,...l}[p]===x})?[...u,f,g]:u},[]);return ey(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$b=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...tT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$b("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(rT,{ref:o,iconNode:t,className:$b(`lucide-${eT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=oe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=oe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=oe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=oe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=oe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=oe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=oe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=oe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jm="-",jT=e=>{const t=NT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(jm);return l[0]===""&&l.length!==1&&l.shift(),Vb(l,t)||CT(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Vb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Vb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(jm);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},ry=/^\[(.+)\]$/,CT=e=>{if(ry.test(e)){const t=ry.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},NT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return kT(Object.entries(e.classGroups),r).forEach(([o,i])=>{Lh(i,n,o,t)}),n},Lh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:ny(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(ET(s)){Lh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Lh(i,ny(t,o),r,n)})})},ny=(e,t)=>{let r=e;return t.split(jm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ET=e=>e.isThemeGetter,kT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,TT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},qb="!",PT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===s&&(n||l.slice(x,x+o)===t)){c.push(l.slice(d,x)),d=x+o;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const g=c.length===0?l:l.substring(d),m=g.startsWith(qb),b=m?g.substring(1):g,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},RT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},AT=e=>({cache:TT(e.cacheSize),parseClassName:PT(e),...jT(e)}),OT=/\s+/,IT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(OT);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=r(u);let b=!!m,p=n(b?g.substring(0,m):g);if(!p){if(!b){l=u+(l.length>0?" "+l:l);continue}if(p=n(g),!p){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=RT(d).join(":"),v=f?x+qb:x,y=v+p;if(o.includes(y))continue;o.push(y);const w=s(p,b);for(let _=0;_<w.length;++_){const C=w[_];o.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function DT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Wb(t))&&(n&&(n+=" "),n+=r);return n}const Wb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Wb(e[n]))&&(r&&(r+=" "),r+=t);return r};function LT(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=AT(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=IT(c,r);return s(c,d),d}return function(){return o(DT.apply(null,arguments))}}const $e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Hb=/^\[(?:([a-z-]+):)?(.+)\]$/i,$T=/^\d+\/\d+$/,MT=new Set(["px","full","screen"]),FT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>ti(e)||MT.has(e)||$T.test(e),zn=e=>Bi(e,"length",ZT),ti=e=>!!e&&!Number.isNaN(Number(e)),ff=e=>Bi(e,"number",ti),ia=e=>!!e&&Number.isInteger(Number(e)),qT=e=>e.endsWith("%")&&ti(e.slice(0,-1)),ve=e=>Hb.test(e),Bn=e=>FT.test(e),WT=new Set(["length","size","percentage"]),HT=e=>Bi(e,WT,Kb),KT=e=>Bi(e,"position",Kb),GT=new Set(["image","url"]),YT=e=>Bi(e,GT,XT),QT=e=>Bi(e,"",JT),aa=()=>!0,Bi=(e,t,r)=>{const n=Hb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ZT=e=>UT.test(e)&&!zT.test(e),Kb=()=>!1,JT=e=>BT.test(e),XT=e=>VT.test(e),eP=()=>{const e=$e("colors"),t=$e("spacing"),r=$e("blur"),n=$e("brightness"),s=$e("borderColor"),o=$e("borderRadius"),i=$e("borderSpacing"),l=$e("borderWidth"),c=$e("contrast"),u=$e("grayscale"),d=$e("hueRotate"),f=$e("invert"),g=$e("gap"),m=$e("gradientColorStops"),b=$e("gradientColorStopPositions"),p=$e("inset"),x=$e("margin"),v=$e("opacity"),y=$e("padding"),w=$e("saturate"),_=$e("scale"),C=$e("sepia"),j=$e("skew"),S=$e("space"),E=$e("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ve,t],R=()=>[ve,t],q=()=>["",mn,zn],D=()=>["auto",ti,ve],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ve],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[ti,ve];return{cacheSize:500,separator:":",theme:{colors:[aa],spacing:[mn,zn],blur:["none","",Bn,ve],brightness:J(),borderColor:[e],borderRadius:["none","","full",Bn,ve],borderSpacing:R(),borderWidth:q(),contrast:J(),grayscale:A(),hueRotate:J(),invert:A(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[qT,zn],inset:T(),margin:T(),opacity:J(),padding:R(),saturate:J(),scale:J(),sepia:A(),skew:J(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ve]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ia,ve]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",ia,ve]}],"grid-cols":[{"grid-cols":[aa]}],"col-start-end":[{col:["auto",{span:["full",ia,ve]},ve]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[aa]}],"row-start-end":[{row:["auto",{span:[ia,ve]},ve]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[Bn]},Bn]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bn,zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ff]}],"font-family":[{font:[aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",ti,ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,zn]}],"underline-offset":[{"underline-offset":["auto",mn,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),KT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[mn,ve]}],"outline-w":[{outline:[mn,zn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mn,zn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bn,QT]}],"shadow-color":[{shadow:[aa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bn,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ia,ve]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,zn,ff]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tP=LT(eP);function W(...e){return tP(Lb(e))}const rP=Xk,Gb=h.forwardRef(({className:e,...t},r)=>a.jsx(Tb,{ref:r,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Gb.displayName=Tb.displayName;const nP=Qu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yb=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(Pb,{ref:n,className:W(nP({variant:t}),e),...r}));Yb.displayName=Pb.displayName;const sP=h.forwardRef(({className:e,...t},r)=>a.jsx(Ob,{ref:r,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));sP.displayName=Ob.displayName;const Qb=h.forwardRef(({className:e,...t},r)=>a.jsx(Ib,{ref:r,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Sm,{className:"h-4 w-4"})}));Qb.displayName=Ib.displayName;const Zb=h.forwardRef(({className:e,...t},r)=>a.jsx(Rb,{ref:r,className:W("text-sm font-semibold",e),...t}));Zb.displayName=Rb.displayName;const Jb=h.forwardRef(({className:e,...t},r)=>a.jsx(Ab,{ref:r,className:W("text-sm opacity-90",e),...t}));Jb.displayName=Ab.displayName;function oP(){const{toasts:e}=Zt();return a.jsxs(rP,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(Yb,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Zb,{children:r}),n&&a.jsx(Jb,{children:n})]}),s,a.jsx(Qb,{})]},t)}),a.jsx(Gb,{})]})}var sy=["light","dark"],iP="(prefers-color-scheme: dark)",aP=h.createContext(void 0),lP={setTheme:e=>{},themes:[]},cP=()=>{var e;return(e=h.useContext(aP))!=null?e:lP};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?sy.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,p=!1,x=!0)=>{let v=i?i[b]:b,y=p?b+"|| ''":`'${v}'`,w="";return s&&x&&!p&&sy.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),r==="class"?p||v?w+=`c.add(${y})`:w+="null":v&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${g(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${iP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var uP=e=>{switch(e){case"success":return hP;case"info":return mP;case"warning":return pP;case"error":return gP;default:return null}},dP=Array(12).fill(0),fP=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},dP.map((r,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),hP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yP=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},$h=1,xP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$h++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],V.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(bP(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||$h++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new xP,wP=(e,t)=>{let r=(t==null?void 0:t.id)||$h++;return Wt.addToast({title:e,...t,id:r}),r},bP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_P=wP,SP=()=>Wt.toasts,jP=()=>Wt.getActiveToasts(),la=Object.assign(_P,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:SP,getToasts:jP});function CP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}CP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cc(e){return e.label!==void 0}var NP=3,EP="32px",kP="16px",oy=4e3,TP=356,PP=14,RP=20,AP=200;function kr(...e){return e.filter(Boolean).join(" ")}function OP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var IP=e=>{var t,r,n,s,o,i,l,c,u,d,f;let{invert:g,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:v,heights:y,index:w,toasts:_,expanded:C,removeToast:j,defaultRichColors:S,closeButton:E,style:N,cancelButtonStyle:k,actionButtonStyle:T,className:R="",descriptionClassName:q="",duration:D,position:G,gap:O,loadingIcon:B,expandByDefault:P,classNames:A,icons:U,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:K}=e,[ie,se]=V.useState(null),[Te,Ae]=V.useState(null),[z,ue]=V.useState(!1),[Ce,de]=V.useState(!1),[re,$]=V.useState(!1),[me,we]=V.useState(!1),[Be,lt]=V.useState(!1),[mt,Jt]=V.useState(0),[It,Gr]=V.useState(0),wr=V.useRef(m.duration||D||oy),yo=V.useRef(null),br=V.useRef(null),Ml=w===0,Fl=w+1<=v,qt=m.type,pn=m.dismissible!==!1,Rd=m.className||"",Yi=m.descriptionClassName||"",_r=V.useMemo(()=>y.findIndex(ce=>ce.toastId===m.id)||0,[y,m.id]),Qi=V.useMemo(()=>{var ce;return(ce=m.closeButton)!=null?ce:E},[m.closeButton,E]),xo=V.useMemo(()=>m.duration||D||oy,[m.duration,D]),Dn=V.useRef(0),Ln=V.useRef(0),Ul=V.useRef(0),$n=V.useRef(null),[Ad,Od]=G.split("-"),Zi=V.useMemo(()=>y.reduce((ce,Pe,Ie)=>Ie>=_r?ce:ce+Pe.height,0),[y,_r]),zl=yP(),Bl=m.invert||g,wo=qt==="loading";Ln.current=V.useMemo(()=>_r*O+Zi,[_r,Zi]),V.useEffect(()=>{wr.current=xo},[xo]),V.useEffect(()=>{ue(!0)},[]),V.useEffect(()=>{let ce=br.current;if(ce){let Pe=ce.getBoundingClientRect().height;return Gr(Pe),x(Ie=>[{toastId:m.id,height:Pe,position:m.position},...Ie]),()=>x(Ie=>Ie.filter(jr=>jr.toastId!==m.id))}},[x,m.id]),V.useLayoutEffect(()=>{if(!z)return;let ce=br.current,Pe=ce.style.height;ce.style.height="auto";let Ie=ce.getBoundingClientRect().height;ce.style.height=Pe,Gr(Ie),x(jr=>jr.find(Cr=>Cr.toastId===m.id)?jr.map(Cr=>Cr.toastId===m.id?{...Cr,height:Ie}:Cr):[{toastId:m.id,height:Ie,position:m.position},...jr])},[z,m.title,m.description,x,m.id]);let Sr=V.useCallback(()=>{de(!0),Jt(Ln.current),x(ce=>ce.filter(Pe=>Pe.toastId!==m.id)),setTimeout(()=>{j(m)},AP)},[m,j,x,Ln]);V.useEffect(()=>{if(m.promise&&qt==="loading"||m.duration===1/0||m.type==="loading")return;let ce;return C||p||K&&zl?(()=>{if(Ul.current<Dn.current){let Pe=new Date().getTime()-Dn.current;wr.current=wr.current-Pe}Ul.current=new Date().getTime()})():wr.current!==1/0&&(Dn.current=new Date().getTime(),ce=setTimeout(()=>{var Pe;(Pe=m.onAutoClose)==null||Pe.call(m,m),Sr()},wr.current)),()=>clearTimeout(ce)},[C,p,m,qt,K,zl,Sr]),V.useEffect(()=>{m.delete&&Sr()},[Sr,m.delete]);function Id(){var ce,Pe,Ie;return U!=null&&U.loading?V.createElement("div",{className:kr(A==null?void 0:A.loader,(ce=m==null?void 0:m.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":qt==="loading"},U.loading):B?V.createElement("div",{className:kr(A==null?void 0:A.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":qt==="loading"},B):V.createElement(fP,{className:kr(A==null?void 0:A.loader,(Ie=m==null?void 0:m.classNames)==null?void 0:Ie.loader),visible:qt==="loading"})}return V.createElement("li",{tabIndex:0,ref:br,className:kr(R,Rd,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[qt],(r=m==null?void 0:m.classNames)==null?void 0:r[qt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":Be,"data-removed":Ce,"data-visible":Fl,"data-y-position":Ad,"data-x-position":Od,"data-index":w,"data-front":Ml,"data-swiping":re,"data-dismissible":pn,"data-type":qt,"data-invert":Bl,"data-swipe-out":me,"data-swipe-direction":Te,"data-expanded":!!(C||P&&z),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${Ce?mt:Ln.current}px`,"--initial-height":P?"auto":`${It}px`,...N,...m.style},onDragEnd:()=>{$(!1),se(null),$n.current=null},onPointerDown:ce=>{wo||!pn||(yo.current=new Date,Jt(Ln.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&($(!0),$n.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Pe,Ie,jr;if(me||!pn)return;$n.current=null;let Cr=Number(((ce=br.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mn=Number(((Pe=br.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),As=new Date().getTime()-((Ie=yo.current)==null?void 0:Ie.getTime()),Nr=ie==="x"?Cr:Mn,Fn=Math.abs(Nr)/As;if(Math.abs(Nr)>=RP||Fn>.11){Jt(Ln.current),(jr=m.onDismiss)==null||jr.call(m,m),Ae(ie==="x"?Cr>0?"right":"left":Mn>0?"down":"up"),Sr(),we(!0),lt(!1);return}$(!1),se(null)},onPointerMove:ce=>{var Pe,Ie,jr,Cr;if(!$n.current||!pn||((Pe=window.getSelection())==null?void 0:Pe.toString().length)>0)return;let Mn=ce.clientY-$n.current.y,As=ce.clientX-$n.current.x,Nr=(Ie=e.swipeDirections)!=null?Ie:OP(G);!ie&&(Math.abs(As)>1||Math.abs(Mn)>1)&&se(Math.abs(As)>Math.abs(Mn)?"x":"y");let Fn={x:0,y:0};ie==="y"?(Nr.includes("top")||Nr.includes("bottom"))&&(Nr.includes("top")&&Mn<0||Nr.includes("bottom")&&Mn>0)&&(Fn.y=Mn):ie==="x"&&(Nr.includes("left")||Nr.includes("right"))&&(Nr.includes("left")&&As<0||Nr.includes("right")&&As>0)&&(Fn.x=As),(Math.abs(Fn.x)>0||Math.abs(Fn.y)>0)&&lt(!0),(jr=br.current)==null||jr.style.setProperty("--swipe-amount-x",`${Fn.x}px`),(Cr=br.current)==null||Cr.style.setProperty("--swipe-amount-y",`${Fn.y}px`)}},Qi&&!m.jsx?V.createElement("button",{"aria-label":J,"data-disabled":wo,"data-close-button":!0,onClick:wo||!pn?()=>{}:()=>{var ce;Sr(),(ce=m.onDismiss)==null||ce.call(m,m)},className:kr(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=U==null?void 0:U.close)!=null?o:vP):null,m.jsx||h.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:V.createElement(V.Fragment,null,qt||m.icon||m.promise?V.createElement("div",{"data-icon":"",className:kr(A==null?void 0:A.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Id():null,m.type!=="loading"?m.icon||(U==null?void 0:U[qt])||uP(qt):null):null,V.createElement("div",{"data-content":"",className:kr(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},V.createElement("div",{"data-title":"",className:kr(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?V.createElement("div",{"data-description":"",className:kr(q,Yi,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),h.isValidElement(m.cancel)?m.cancel:m.cancel&&cc(m.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:ce=>{var Pe,Ie;cc(m.cancel)&&pn&&((Ie=(Pe=m.cancel).onClick)==null||Ie.call(Pe,ce),Sr())},className:kr(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,h.isValidElement(m.action)?m.action:m.action&&cc(m.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:ce=>{var Pe,Ie;cc(m.action)&&((Ie=(Pe=m.action).onClick)==null||Ie.call(Pe,ce),!ce.defaultPrevented&&Sr())},className:kr(A==null?void 0:A.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function iy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DP(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?kP:EP;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var LP=h.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:m,visibleToasts:b=NP,toastOptions:p,dir:x=iy(),gap:v=PP,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[j,S]=V.useState([]),E=V.useMemo(()=>Array.from(new Set([n].concat(j.filter(K=>K.position).map(K=>K.position)))),[j,n]),[N,k]=V.useState([]),[T,R]=V.useState(!1),[q,D]=V.useState(!1),[G,O]=V.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=V.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=V.useRef(null),U=V.useRef(!1),J=V.useCallback(K=>{S(ie=>{var se;return(se=ie.find(Te=>Te.id===K.id))!=null&&se.delete||Wt.dismiss(K.id),ie.filter(({id:Te})=>Te!==K.id)})},[]);return V.useEffect(()=>Wt.subscribe(K=>{if(K.dismiss){S(ie=>ie.map(se=>se.id===K.id?{...se,delete:!0}:se));return}setTimeout(()=>{ib.flushSync(()=>{S(ie=>{let se=ie.findIndex(Te=>Te.id===K.id);return se!==-1?[...ie.slice(0,se),{...ie[se],...K},...ie.slice(se+1)]:[K,...ie]})})})}),[]),V.useEffect(()=>{if(d!=="system"){O(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ie})=>{O(ie?"dark":"light")})}catch{K.addListener(({matches:se})=>{try{O(se?"dark":"light")}catch(Te){console.error(Te)}})}},[d]),V.useEffect(()=>{j.length<=1&&R(!1)},[j]),V.useEffect(()=>{let K=ie=>{var se,Te;s.every(Ae=>ie[Ae]||ie.code===Ae)&&(R(!0),(se=B.current)==null||se.focus()),ie.code==="Escape"&&(document.activeElement===B.current||(Te=B.current)!=null&&Te.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),V.useEffect(()=>{if(B.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,U.current=!1)}},[B.current]),V.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((K,ie)=>{var se;let[Te,Ae]=K.split("-");return j.length?V.createElement("ol",{key:K,dir:x==="auto"?iy():x,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Te,"data-lifted":T&&j.length>1&&!o,"data-x-position":Ae,style:{"--front-toast-height":`${((se=N[0])==null?void 0:se.height)||0}px`,"--width":`${TP}px`,"--gap":`${v}px`,...m,...DP(c,u)},onBlur:z=>{U.current&&!z.currentTarget.contains(z.relatedTarget)&&(U.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||U.current||(U.current=!0,A.current=z.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{q||R(!1)},onDragEnd:()=>R(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},j.filter(z=>!z.position&&ie===0||z.position===K).map((z,ue)=>{var Ce,de;return V.createElement(IP,{key:z.id,icons:w,index:ue,toast:z,defaultRichColors:f,duration:(Ce=p==null?void 0:p.duration)!=null?Ce:g,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:b,closeButton:(de=p==null?void 0:p.closeButton)!=null?de:i,interacting:q,position:K,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:J,toasts:j.filter(re=>re.position==z.position),heights:N.filter(re=>re.position==z.position),setHeights:k,expandByDefault:o,gap:v,loadingIcon:y,expanded:T,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const $P=({...e})=>{const{theme:t="system"}=cP();return a.jsx(LP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var MP=Sp[" useId ".trim().toString()]||(()=>{}),FP=0;function jn(e){const[t,r]=h.useState(MP());return et(()=>{r(n=>n??String(FP++))},[e]),t?`radix-${t}`:""}const UP=["top","right","bottom","left"],ws=Math.min,tr=Math.max,uu=Math.round,uc=Math.floor,on=e=>({x:e,y:e}),zP={left:"right",right:"left",bottom:"top",top:"bottom"},BP={start:"end",end:"start"};function Mh(e,t,r){return tr(e,ws(t,r))}function Tn(e,t){return typeof e=="function"?e(t):e}function Pn(e){return e.split("-")[0]}function Vi(e){return e.split("-")[1]}function Cm(e){return e==="x"?"y":"x"}function Nm(e){return e==="y"?"height":"width"}const VP=new Set(["top","bottom"]);function rn(e){return VP.has(Pn(e))?"y":"x"}function Em(e){return Cm(rn(e))}function qP(e,t,r){r===void 0&&(r=!1);const n=Vi(e),s=Em(e),o=Nm(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=du(i)),[i,du(i)]}function WP(e){const t=du(e);return[Fh(e),t,Fh(t)]}function Fh(e){return e.replace(/start|end/g,t=>BP[t])}const ay=["left","right"],ly=["right","left"],HP=["top","bottom"],KP=["bottom","top"];function GP(e,t,r){switch(e){case"top":case"bottom":return r?t?ly:ay:t?ay:ly;case"left":case"right":return t?HP:KP;default:return[]}}function YP(e,t,r,n){const s=Vi(e);let o=GP(Pn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Fh)))),o}function du(e){return e.replace(/left|right|bottom|top/g,t=>zP[t])}function QP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xb(e){return typeof e!="number"?QP(e):{top:e,right:e,bottom:e,left:e}}function fu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function cy(e,t,r){let{reference:n,floating:s}=e;const o=rn(t),i=Em(t),l=Nm(i),c=Pn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Vi(t)){case"start":m[i]-=g*(r&&u?-1:1);break;case"end":m[i]+=g*(r&&u?-1:1);break}return m}const ZP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=cy(u,n,c),g=n,m={},b=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:y,y:w,data:_,reset:C}=await v({x:d,y:f,initialPlacement:n,placement:g,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[x]:{...m[x],..._}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=cy(u,g,c)),p=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:m}};async function Xa(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=Tn(t,e),b=Xb(m),x=l[g?f==="floating"?"reference":"floating":f],v=fu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=fu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-C.top+b.top)/_.y,bottom:(C.bottom-v.bottom+b.bottom)/_.y,left:(v.left-C.left+b.left)/_.x,right:(C.right-v.right+b.right)/_.x}}const JP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Tn(e,t)||{};if(u==null)return{};const f=Xb(d),g={x:r,y:n},m=Em(s),b=Nm(m),p=await i.getDimensions(u),x=m==="y",v=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[m]-g[m]-o.floating[b],C=g[m]-o.reference[m],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=j?j[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(j)))&&(S=l.floating[w]||o.floating[b]);const E=_/2-C/2,N=S/2-p[b]/2-1,k=ws(f[v],N),T=ws(f[y],N),R=k,q=S-p[b]-T,D=S/2-p[b]/2+E,G=Mh(R,D,q),O=!c.arrow&&Vi(s)!=null&&D!==G&&o.reference[b]/2-(D<R?k:T)-p[b]/2<0,B=O?D<R?D-R:D-q:0;return{[m]:g[m]+B,data:{[m]:G,centerOffset:D-G-B,...O&&{alignmentOffset:B}},reset:O}}}),XP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=Tn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=Pn(s),y=rn(l),w=Pn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=g||(w||!p?[du(l)]:WP(l)),j=b!=="none";!g&&j&&C.push(...YP(l,p,b,_));const S=[l,...C],E=await Xa(t,x),N=[];let k=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&N.push(E[v]),f){const D=qP(s,i,_);N.push(E[D[0]],E[D[1]])}if(k=[...k,{placement:s,overflows:N}],!N.every(D=>D<=0)){var T,R;const D=(((T=o.flip)==null?void 0:T.index)||0)+1,G=S[D];if(G&&(!(f==="alignment"?y!==rn(G):!1)||k.every(P=>P.overflows[0]>0&&rn(P.placement)===y)))return{data:{index:D,overflows:k},reset:{placement:G}};let O=(R=k.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:R.placement;if(!O)switch(m){case"bestFit":{var q;const B=(q=k.filter(P=>{if(j){const A=rn(P.placement);return A===y||A==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(A=>A>0).reduce((A,U)=>A+U,0)]).sort((P,A)=>P[1]-A[1])[0])==null?void 0:q[0];B&&(O=B);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function uy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dy(e){return UP.some(t=>e[t]>=0)}const eR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Tn(e,t);switch(n){case"referenceHidden":{const o=await Xa(t,{...s,elementContext:"reference"}),i=uy(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:dy(i)}}}case"escaped":{const o=await Xa(t,{...s,altBoundary:!0}),i=uy(o,r.floating);return{data:{escapedOffsets:i,escaped:dy(i)}}}default:return{}}}}},e_=new Set(["left","top"]);async function tR(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Pn(r),l=Vi(r),c=rn(r)==="y",u=e_.has(i)?-1:1,d=o&&c?-1:1,f=Tn(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*d,y:g*u}:{x:g*u,y:m*d}}const rR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await tR(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},nR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=Tn(e,t),u={x:r,y:n},d=await Xa(t,c),f=rn(Pn(s)),g=Cm(f);let m=u[g],b=u[f];if(o){const x=g==="y"?"top":"left",v=g==="y"?"bottom":"right",y=m+d[x],w=m-d[v];m=Mh(y,m,w)}if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=b+d[x],w=b-d[v];b=Mh(y,b,w)}const p=l.fn({...t,[g]:m,[f]:b});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[g]:o,[f]:i}}}}}},sR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Tn(e,t),d={x:r,y:n},f=rn(s),g=Cm(f);let m=d[g],b=d[f];const p=Tn(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=g==="y"?"height":"width",_=o.reference[g]-o.floating[w]+x.mainAxis,C=o.reference[g]+o.reference[w]-x.mainAxis;m<_?m=_:m>C&&(m=C)}if(u){var v,y;const w=g==="y"?"width":"height",_=e_.has(Pn(s)),C=o.reference[f]-o.floating[w]+(_&&((v=i.offset)==null?void 0:v[f])||0)+(_?0:x.crossAxis),j=o.reference[f]+o.reference[w]+(_?0:((y=i.offset)==null?void 0:y[f])||0)-(_?x.crossAxis:0);b<C?b=C:b>j&&(b=j)}return{[g]:m,[f]:b}}}},oR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Tn(e,t),d=await Xa(t,u),f=Pn(s),g=Vi(s),m=rn(s)==="y",{width:b,height:p}=o.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=g==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=b-d.left-d.right,_=ws(p-d[x],y),C=ws(b-d[v],w),j=!t.middlewareData.shift;let S=_,E=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),j&&!g){const k=tr(d.left,0),T=tr(d.right,0),R=tr(d.top,0),q=tr(d.bottom,0);m?E=b-2*(k!==0||T!==0?k+T:tr(d.left,d.right)):S=p-2*(R!==0||q!==0?R+q:tr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const N=await i.getDimensions(l.floating);return b!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function Ju(){return typeof window<"u"}function qi(e){return t_(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fn(e){var t;return(t=(t_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function t_(e){return Ju()?e instanceof Node||e instanceof ir(e).Node:!1}function Wr(e){return Ju()?e instanceof Element||e instanceof ir(e).Element:!1}function un(e){return Ju()?e instanceof HTMLElement||e instanceof ir(e).HTMLElement:!1}function fy(e){return!Ju()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}const iR=new Set(["inline","contents"]);function Al(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!iR.has(s)}const aR=new Set(["table","td","th"]);function lR(e){return aR.has(qi(e))}const cR=[":popover-open",":modal"];function Xu(e){return cR.some(t=>{try{return e.matches(t)}catch{return!1}})}const uR=["transform","translate","scale","rotate","perspective"],dR=["transform","translate","scale","rotate","perspective","filter"],fR=["paint","layout","strict","content"];function km(e){const t=Tm(),r=Wr(e)?Hr(e):e;return uR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||dR.some(n=>(r.willChange||"").includes(n))||fR.some(n=>(r.contain||"").includes(n))}function hR(e){let t=bs(e);for(;un(t)&&!Si(t);){if(km(t))return t;if(Xu(t))return null;t=bs(t)}return null}function Tm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pR=new Set(["html","body","#document"]);function Si(e){return pR.has(qi(e))}function Hr(e){return ir(e).getComputedStyle(e)}function ed(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bs(e){if(qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fy(e)&&e.host||fn(e);return fy(t)?t.host:t}function r_(e){const t=bs(e);return Si(t)?e.ownerDocument?e.ownerDocument.body:e.body:un(t)&&Al(t)?t:r_(t)}function el(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=r_(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=ir(s);if(o){const l=Uh(i);return t.concat(i,i.visualViewport||[],Al(s)?s:[],l&&r?el(l):[])}return t.concat(s,el(s,[],r))}function Uh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function n_(e){const t=Hr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=un(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=uu(r)!==o||uu(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Pm(e){return Wr(e)?e:e.contextElement}function ri(e){const t=Pm(e);if(!un(t))return on(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=n_(t);let i=(o?uu(r.width):r.width)/n,l=(o?uu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const mR=on(0);function s_(e){const t=ir(e);return!Tm()||!t.visualViewport?mR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ir(e)?!1:t}function oo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Pm(e);let i=on(1);t&&(n?Wr(n)&&(i=ri(n)):i=ri(e));const l=gR(o,r,n)?s_(o):on(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const g=ir(o),m=n&&Wr(n)?ir(n):n;let b=g,p=Uh(b);for(;p&&n&&m!==b;){const x=ri(p),v=p.getBoundingClientRect(),y=Hr(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,_=v.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=_,b=ir(p),p=Uh(b)}}return fu({width:d,height:f,x:c,y:u})}function Rm(e,t){const r=ed(e).scrollLeft;return t?t.left+r:oo(fn(e)).left+r}function o_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Rm(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function vR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=fn(n),l=t?Xu(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=on(1);const d=on(0),f=un(n);if((f||!f&&!o)&&((qi(n)!=="body"||Al(i))&&(c=ed(n)),un(n))){const m=oo(n);u=ri(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const g=i&&!f&&!o?o_(i,c,!0):on(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function yR(e){return Array.from(e.getClientRects())}function xR(e){const t=fn(e),r=ed(e),n=e.ownerDocument.body,s=tr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=tr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Rm(e);const l=-r.scrollTop;return Hr(n).direction==="rtl"&&(i+=tr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function wR(e,t){const r=ir(e),n=fn(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Tm();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const bR=new Set(["absolute","fixed"]);function _R(e,t){const r=oo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=un(e)?ri(e):on(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function hy(e,t,r){let n;if(t==="viewport")n=wR(e,r);else if(t==="document")n=xR(fn(e));else if(Wr(t))n=_R(t,r);else{const s=s_(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fu(n)}function i_(e,t){const r=bs(e);return r===t||!Wr(r)||Si(r)?!1:Hr(r).position==="fixed"||i_(r,t)}function SR(e,t){const r=t.get(e);if(r)return r;let n=el(e,[],!1).filter(l=>Wr(l)&&qi(l)!=="body"),s=null;const o=Hr(e).position==="fixed";let i=o?bs(e):e;for(;Wr(i)&&!Si(i);){const l=Hr(i),c=km(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&bR.has(s.position)||Al(i)&&!c&&i_(e,i))?n=n.filter(d=>d!==i):s=l,i=bs(i)}return t.set(e,n),n}function jR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Xu(t)?[]:SR(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=hy(t,d,s);return u.top=tr(f.top,u.top),u.right=ws(f.right,u.right),u.bottom=ws(f.bottom,u.bottom),u.left=tr(f.left,u.left),u},hy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CR(e){const{width:t,height:r}=n_(e);return{width:t,height:r}}function NR(e,t,r){const n=un(t),s=fn(t),o=r==="fixed",i=oo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=on(0);function u(){c.x=Rm(s)}if(n||!n&&!o)if((qi(t)!=="body"||Al(s))&&(l=ed(t)),n){const m=oo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?o_(s,l):on(0),f=i.left+l.scrollLeft-c.x-d.x,g=i.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:i.width,height:i.height}}function hf(e){return Hr(e).position==="static"}function py(e,t){if(!un(e)||Hr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fn(e)===r&&(r=r.ownerDocument.body),r}function a_(e,t){const r=ir(e);if(Xu(e))return r;if(!un(e)){let s=bs(e);for(;s&&!Si(s);){if(Wr(s)&&!hf(s))return s;s=bs(s)}return r}let n=py(e,t);for(;n&&lR(n)&&hf(n);)n=py(n,t);return n&&Si(n)&&hf(n)&&!km(n)?r:n||hR(e)||r}const ER=async function(e){const t=this.getOffsetParent||a_,r=this.getDimensions,n=await r(e.floating);return{reference:NR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kR(e){return Hr(e).direction==="rtl"}const TR={convertOffsetParentRelativeRectToViewportRelativeRect:vR,getDocumentElement:fn,getClippingRect:jR,getOffsetParent:a_,getElementRects:ER,getClientRects:yR,getDimensions:CR,getScale:ri,isElement:Wr,isRTL:kR};function l_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PR(e,t){let r=null,n;const s=fn(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:g,height:m}=u;if(l||t(),!g||!m)return;const b=uc(f),p=uc(s.clientWidth-(d+g)),x=uc(s.clientHeight-(f+m)),v=uc(d),w={rootMargin:-b+"px "+-p+"px "+-x+"px "+-v+"px",threshold:tr(0,ws(1,c))||1};let _=!0;function C(j){const S=j[0].intersectionRatio;if(S!==c){if(!_)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!l_(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(e)}return i(!0),o}function RR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Pm(e),d=s||o?[...u?el(u):[],...el(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=u&&l?PR(u,r):null;let g=-1,m=null;i&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let b,p=c?oo(e):null;c&&x();function x(){const v=oo(e);p&&!l_(p,v)&&r(),p=v,b=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const AR=rR,OR=nR,IR=XP,DR=oR,LR=eR,my=JP,$R=sR,MR=(e,t,r)=>{const n=new Map,s={platform:TR,...r},o={...s.platform,_c:n};return ZP(e,t,{...s,platform:o})};var FR=typeof document<"u",UR=function(){},Ic=FR?h.useLayoutEffect:UR;function hu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!hu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function c_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gy(e,t){const r=c_(e);return Math.round(t*r)/r}function pf(e){const t=h.useRef(e);return Ic(()=>{t.current=e}),t}function zR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,m]=h.useState(n);hu(g,n)||m(n);const[b,p]=h.useState(null),[x,v]=h.useState(null),y=h.useCallback(P=>{P!==j.current&&(j.current=P,p(P))},[]),w=h.useCallback(P=>{P!==S.current&&(S.current=P,v(P))},[]),_=o||b,C=i||x,j=h.useRef(null),S=h.useRef(null),E=h.useRef(d),N=c!=null,k=pf(c),T=pf(s),R=pf(u),q=h.useCallback(()=>{if(!j.current||!S.current)return;const P={placement:t,strategy:r,middleware:g};T.current&&(P.platform=T.current),MR(j.current,S.current,P).then(A=>{const U={...A,isPositioned:R.current!==!1};D.current&&!hu(E.current,U)&&(E.current=U,mo.flushSync(()=>{f(U)}))})},[g,t,r,T,R]);Ic(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const D=h.useRef(!1);Ic(()=>(D.current=!0,()=>{D.current=!1}),[]),Ic(()=>{if(_&&(j.current=_),C&&(S.current=C),_&&C){if(k.current)return k.current(_,C,q);q()}},[_,C,q,k,N]);const G=h.useMemo(()=>({reference:j,floating:S,setReference:y,setFloating:w}),[y,w]),O=h.useMemo(()=>({reference:_,floating:C}),[_,C]),B=h.useMemo(()=>{const P={position:r,left:0,top:0};if(!O.floating)return P;const A=gy(O.floating,d.x),U=gy(O.floating,d.y);return l?{...P,transform:"translate("+A+"px, "+U+"px)",...c_(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:U}},[r,l,O.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:q,refs:G,elements:O,floatingStyles:B}),[d,q,G,O,B])}const BR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?my({element:n.current,padding:s}).fn(r):{}:n?my({element:n,padding:s}).fn(r):{}}}},VR=(e,t)=>({...AR(e),options:[e,t]}),qR=(e,t)=>({...OR(e),options:[e,t]}),WR=(e,t)=>({...$R(e),options:[e,t]}),HR=(e,t)=>({...IR(e),options:[e,t]}),KR=(e,t)=>({...DR(e),options:[e,t]}),GR=(e,t)=>({...LR(e),options:[e,t]}),YR=(e,t)=>({...BR(e),options:[e,t]});var QR="Arrow",u_=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(te.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});u_.displayName=QR;var ZR=u_;function td(e){const[t,r]=h.useState(void 0);return et(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Am="Popper",[d_,Wi]=_t(Am),[JR,f_]=d_(Am),h_=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(JR,{scope:t,anchor:n,onAnchorChange:s,children:r})};h_.displayName=Am;var p_="PopperAnchor",m_=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=f_(p_,r),i=h.useRef(null),l=pe(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(te.div,{...s,ref:l})});m_.displayName=p_;var Om="PopperContent",[XR,eA]=d_(Om),g_=h.forwardRef((e,t)=>{var z,ue,Ce,de,re,$;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=f_(Om,r),[v,y]=h.useState(null),w=pe(t,me=>y(me)),[_,C]=h.useState(null),j=td(_),S=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,N=n+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],R=T.length>0,q={padding:k,boundary:T.filter(rA),altBoundary:R},{refs:D,floatingStyles:G,placement:O,isPositioned:B,middlewareData:P}=zR({strategy:"fixed",placement:N,whileElementsMounted:(...me)=>RR(...me,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[VR({mainAxis:s+E,alignmentAxis:i}),c&&qR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WR():void 0,...q}),c&&HR({...q}),KR({...q,apply:({elements:me,rects:we,availableWidth:Be,availableHeight:lt})=>{const{width:mt,height:Jt}=we.reference,It=me.floating.style;It.setProperty("--radix-popper-available-width",`${Be}px`),It.setProperty("--radix-popper-available-height",`${lt}px`),It.setProperty("--radix-popper-anchor-width",`${mt}px`),It.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),_&&YR({element:_,padding:l}),nA({arrowWidth:S,arrowHeight:E}),g&&GR({strategy:"referenceHidden",...q})]}),[A,U]=x_(O),J=at(b);et(()=>{B&&(J==null||J())},[B,J]);const K=(z=P.arrow)==null?void 0:z.x,ie=(ue=P.arrow)==null?void 0:ue.y,se=((Ce=P.arrow)==null?void 0:Ce.centerOffset)!==0,[Te,Ae]=h.useState();return et(()=>{v&&Ae(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:B?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(de=P.transformOrigin)==null?void 0:de.x,(re=P.transformOrigin)==null?void 0:re.y].join(" "),...(($=P.hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(XR,{scope:r,placedSide:A,onArrowChange:C,arrowX:K,arrowY:ie,shouldHideArrow:se,children:a.jsx(te.div,{"data-side":A,"data-align":U,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});g_.displayName=Om;var v_="PopperArrow",tA={top:"bottom",right:"left",bottom:"top",left:"right"},y_=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=eA(v_,n),i=tA[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(ZR,{...s,ref:r,style:{...s.style,display:"block"}})})});y_.displayName=v_;function rA(e){return e!==null}var nA=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=x_(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",p="";return u==="bottom"?(b=i?f:`${g}px`,p=`${-c}px`):u==="top"?(b=i?f:`${g}px`,p=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(b=`${n.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:b,y:p}}}});function x_(e){const[t,r="center"]=e.split("-");return[t,r]}var w_=h_,rd=m_,Im=g_,Dm=y_,[nd,u3]=_t("Tooltip",[Wi]),Lm=Wi(),b_="TooltipProvider",sA=700,vy="tooltip.open",[oA,__]=nd(b_),S_=e=>{const{__scopeTooltip:t,delayDuration:r=sA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(oA,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};S_.displayName=b_;var j_="Tooltip",[d3,sd]=nd(j_),zh="TooltipTrigger",iA=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=sd(zh,r),o=__(zh,r),i=Lm(r),l=h.useRef(null),c=pe(t,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(rd,{asChild:!0,...i,children:a.jsx(te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Y(e.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Y(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Y(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Y(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Y(e.onBlur,s.onClose),onClick:Y(e.onClick,s.onClose)})})});iA.displayName=zh;var aA="TooltipPortal",[f3,lA]=nd(aA,{forceMount:void 0}),ji="TooltipContent",C_=h.forwardRef((e,t)=>{const r=lA(ji,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=sd(ji,e.__scopeTooltip);return a.jsx(Bt,{present:n||i.open,children:i.disableHoverableContent?a.jsx(N_,{side:s,...o,ref:t}):a.jsx(cA,{side:s,...o,ref:t})})}),cA=h.forwardRef((e,t)=>{const r=sd(ji,e.__scopeTooltip),n=__(ji,e.__scopeTooltip),s=h.useRef(null),o=pe(t,s),[i,l]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,g=h.useCallback(()=>{l(null),f(!1)},[f]),m=h.useCallback((b,p)=>{const x=b.currentTarget,v={x:b.clientX,y:b.clientY},y=pA(v,x.getBoundingClientRect()),w=mA(v,y),_=gA(p.getBoundingClientRect()),C=yA([...w,..._]);l(C),f(!0)},[f]);return h.useEffect(()=>()=>g(),[g]),h.useEffect(()=>{if(c&&d){const b=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",p)}}},[c,d,m,g]),h.useEffect(()=>{if(i){const b=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!vA(v,i);y?g():w&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,g]),a.jsx(N_,{...e,ref:o})}),[uA,dA]=nd(j_,{isInside:!1}),fA=ub("TooltipContent"),N_=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=sd(ji,r),u=Lm(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(vy,d),()=>document.removeEventListener(vy,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(zi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Im,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(fA,{children:n}),a.jsx(uA,{scope:r,isInside:!0,children:a.jsx(Dk,{id:c.contentId,role:"tooltip",children:s||n})})]})})});C_.displayName=ji;var E_="TooltipArrow",hA=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Lm(r);return dA(E_,r).isInside?null:a.jsx(Dm,{...s,...n,ref:t})});hA.displayName=E_;function pA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function gA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function vA(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(s=!s)}return s}function yA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),xA(t)}function xA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wA=S_,k_=C_;const bA=wA,_A=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(k_,{ref:n,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));_A.displayName=k_.displayName;var od=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},id=typeof window>"u"||"Deno"in globalThis;function Ar(){}function SA(e,t){return typeof e=="function"?e(t):e}function jA(e){return typeof e=="number"&&e>=0&&e!==1/0}function CA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bh(e,t){return typeof e=="function"?e(t):e}function NA(e,t){return typeof e=="function"?e(t):e}function yy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==$m(i,t.options))return!1}else if(!rl(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function xy(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(tl(t.options.mutationKey)!==tl(o))return!1}else if(!rl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function $m(e,t){return((t==null?void 0:t.queryKeyHashFn)||tl)(e)}function tl(e){return JSON.stringify(e,(t,r)=>Vh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function rl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>rl(e[r],t[r])):!1}function T_(e,t){if(e===t)return e;const r=wy(e)&&wy(t);if(r||Vh(e)&&Vh(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:o[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=T_(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function wy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vh(e){if(!by(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!by(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function by(e){return Object.prototype.toString.call(e)==="[object Object]"}function EA(e){return new Promise(t=>{setTimeout(t,e)})}function kA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?T_(e,t):t}function TA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function PA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Mm=Symbol();function P_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ws,Jn,ii,Fx,RA=(Fx=class extends od{constructor(){super();Ne(this,Ws);Ne(this,Jn);Ne(this,ii);ge(this,ii,t=>{if(!id&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){I(this,Jn)||this.setEventListener(I(this,ii))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Jn))==null||t.call(this),ge(this,Jn,void 0))}setEventListener(t){var r;ge(this,ii,t),(r=I(this,Jn))==null||r.call(this),ge(this,Jn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){I(this,Ws)!==t&&(ge(this,Ws,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof I(this,Ws)=="boolean"?I(this,Ws):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ws=new WeakMap,Jn=new WeakMap,ii=new WeakMap,Fx),R_=new RA,ai,Xn,li,Ux,AA=(Ux=class extends od{constructor(){super();Ne(this,ai,!0);Ne(this,Xn);Ne(this,li);ge(this,li,t=>{if(!id&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){I(this,Xn)||this.setEventListener(I(this,li))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Xn))==null||t.call(this),ge(this,Xn,void 0))}setEventListener(t){var r;ge(this,li,t),(r=I(this,Xn))==null||r.call(this),ge(this,Xn,t(this.setOnline.bind(this)))}setOnline(t){I(this,ai)!==t&&(ge(this,ai,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return I(this,ai)}},ai=new WeakMap,Xn=new WeakMap,li=new WeakMap,Ux),pu=new AA;function OA(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function IA(e){return Math.min(1e3*2**e,3e4)}function A_(e){return(e??"online")==="online"?pu.isOnline():!0}var O_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mf(e){return e instanceof O_}function I_(e){let t=!1,r=0,n=!1,s;const o=OA(),i=p=>{var x;n||(g(new O_(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>R_.isFocused()&&(e.networkMode==="always"||pu.isOnline())&&e.canRun(),d=()=>A_(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),o.resolve(p))},g=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),o.reject(p))},m=()=>new Promise(p=>{var x;s=v=>{(n||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var j;if(n)return;const y=e.retry??(id?0:3),w=e.retryDelay??IA,_=typeof w=="function"?w(r,v):w,C=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!C){g(v);return}r++,(j=e.onFail)==null||j.call(e,r,v),EA(_).then(()=>u()?void 0:m()).then(()=>{t?g(v):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():m().then(b),o)}}var DA=e=>setTimeout(e,0);function LA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=DA;const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var $t=LA(),Hs,zx,D_=(zx=class{constructor(){Ne(this,Hs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jA(this.gcTime)&&ge(this,Hs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(id?1/0:5*60*1e3))}clearGcTimeout(){I(this,Hs)&&(clearTimeout(I(this,Hs)),ge(this,Hs,void 0))}},Hs=new WeakMap,zx),ci,Ks,dr,Gs,Et,bl,Ys,Ir,gn,Bx,$A=(Bx=class extends D_{constructor(t){super();Ne(this,Ir);Ne(this,ci);Ne(this,Ks);Ne(this,dr);Ne(this,Gs);Ne(this,Et);Ne(this,bl);Ne(this,Ys);ge(this,Ys,!1),ge(this,bl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Gs,t.client),ge(this,dr,I(this,Gs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,ci,FA(this.options)),this.state=t.state??I(this,ci),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,Et))==null?void 0:t.promise}setOptions(t){this.options={...I(this,bl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,dr).remove(this)}setData(t,r){const n=kA(this.state.data,t,this.options);return St(this,Ir,gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){St(this,Ir,gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=I(this,Et))==null?void 0:n.promise;return(s=I(this,Et))==null||s.cancel(t),r?r.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,ci))}isActive(){return this.observers.some(t=>NA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!CA(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,Et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=I(this,Et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,dr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(I(this,Et)&&(I(this,Ys)?I(this,Et).cancel({revert:!0}):I(this,Et).cancelRetry()),this.scheduleGc()),I(this,dr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Ir,gn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(I(this,Et))return I(this,Et).continueRetry(),I(this,Et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(m=>m.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ge(this,Ys,!0),n.signal)})},o=()=>{const g=P_(this.options,r),b=(()=>{const p={client:I(this,Gs),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return ge(this,Ys,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:I(this,Gs),state:this.state,fetchFn:o};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(l,this),ge(this,Ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&St(this,Ir,gn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=g=>{var m,b,p,x;mf(g)&&g.silent||St(this,Ir,gn).call(this,{type:"error",error:g}),mf(g)||((b=(m=I(this,dr).config).onError)==null||b.call(m,g,this),(x=(p=I(this,dr).config).onSettled)==null||x.call(p,this.state.data,g,this)),this.scheduleGc()};return ge(this,Et,I_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var m,b,p,x;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){c(v);return}(b=(m=I(this,dr).config).onSuccess)==null||b.call(m,g,this),(x=(p=I(this,dr).config).onSettled)==null||x.call(p,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,m)=>{St(this,Ir,gn).call(this,{type:"failed",failureCount:g,error:m})},onPause:()=>{St(this,Ir,gn).call(this,{type:"pause"})},onContinue:()=>{St(this,Ir,gn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),I(this,Et).start()}},ci=new WeakMap,Ks=new WeakMap,dr=new WeakMap,Gs=new WeakMap,Et=new WeakMap,bl=new WeakMap,Ys=new WeakMap,Ir=new WeakSet,gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...MA(n.data,this.options),fetchMeta:t.meta??null};case"success":return ge(this,Ks,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return mf(s)&&s.revert&&I(this,Ks)?{...I(this,Ks),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),$t.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),I(this,dr).notify({query:this,type:"updated",action:t})})},Bx);function MA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zr,Vx,UA=(Vx=class extends od{constructor(t={}){super();Ne(this,Zr);this.config=t,ge(this,Zr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??$m(s,r);let i=this.get(o);return i||(i=new $A({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){I(this,Zr).has(t.queryHash)||(I(this,Zr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=I(this,Zr).get(t.queryHash);r&&(t.destroy(),r===t&&I(this,Zr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,Zr).get(t)}getAll(){return[...I(this,Zr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yy(t,n)):r}notify(t){$t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zr=new WeakMap,Vx),Jr,Dt,Qs,Xr,Vn,qx,zA=(qx=class extends D_{constructor(t){super();Ne(this,Xr);Ne(this,Jr);Ne(this,Dt);Ne(this,Qs);this.mutationId=t.mutationId,ge(this,Dt,t.mutationCache),ge(this,Jr,[]),this.state=t.state||BA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,Jr).includes(t)||(I(this,Jr).push(t),this.clearGcTimeout(),I(this,Dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Jr,I(this,Jr).filter(r=>r!==t)),this.scheduleGc(),I(this,Dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():I(this,Dt).remove(this))}continue(){var t;return((t=I(this,Qs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,d,f,g,m,b,p,x,v,y,w,_,C,j,S,E;const r=()=>{St(this,Xr,Vn).call(this,{type:"continue"})};ge(this,Qs,I_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{St(this,Xr,Vn).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{St(this,Xr,Vn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Dt).canRun(this)}));const n=this.state.status==="pending",s=!I(this,Qs).canStart();try{if(n)r();else{St(this,Xr,Vn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=I(this,Dt).config).onMutate)==null?void 0:i.call(o,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&St(this,Xr,Vn).call(this,{type:"pending",context:k,variables:t,isPaused:s})}const N=await I(this,Qs).start();return await((d=(u=I(this,Dt).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,N,t,this.state.context)),await((b=(m=I(this,Dt).config).onSettled)==null?void 0:b.call(m,N,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,N,null,t,this.state.context)),St(this,Xr,Vn).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(v=I(this,Dt).config).onError)==null?void 0:y.call(v,N,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,N,t,this.state.context)),await((j=(C=I(this,Dt).config).onSettled)==null?void 0:j.call(C,void 0,N,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,N,t,this.state.context)),N}finally{St(this,Xr,Vn).call(this,{type:"error",error:N})}}finally{I(this,Dt).runNext(this)}}},Jr=new WeakMap,Dt=new WeakMap,Qs=new WeakMap,Xr=new WeakSet,Vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$t.batch(()=>{I(this,Jr).forEach(n=>{n.onMutationUpdate(t)}),I(this,Dt).notify({mutation:this,type:"updated",action:t})})},qx);function BA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wn,Dr,_l,Wx,VA=(Wx=class extends od{constructor(t={}){super();Ne(this,wn);Ne(this,Dr);Ne(this,_l);this.config=t,ge(this,wn,new Set),ge(this,Dr,new Map),ge(this,_l,0)}build(t,r,n){const s=new zA({mutationCache:this,mutationId:++Vl(this,_l)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){I(this,wn).add(t);const r=dc(t);if(typeof r=="string"){const n=I(this,Dr).get(r);n?n.push(t):I(this,Dr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,wn).delete(t)){const r=dc(t);if(typeof r=="string"){const n=I(this,Dr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&I(this,Dr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=dc(t);if(typeof r=="string"){const n=I(this,Dr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=dc(t);if(typeof r=="string"){const s=(n=I(this,Dr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$t.batch(()=>{I(this,wn).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,wn).clear(),I(this,Dr).clear()})}getAll(){return Array.from(I(this,wn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>xy(r,n))}findAll(t={}){return this.getAll().filter(r=>xy(t,r))}notify(t){$t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return $t.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ar))))}},wn=new WeakMap,Dr=new WeakMap,_l=new WeakMap,Wx);function dc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function _y(e){return{onFetch:(t,r)=>{var d,f,g,m,b;const n=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=P_(t.options,t.fetchOptions),y=async(w,_,C)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return x(T),T})(),E=await v(S),{maxPages:N}=t.options,k=C?PA:TA;return{pages:k(w.pages,E,N),pageParams:k(w.pageParams,_,N)}};if(s&&o.length){const w=s==="backward",_=w?qA:Sy,C={pages:o,pageParams:i},j=_(n,C);l=await y(C,j,w)}else{const w=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:Sy(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Sy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Qe,es,ts,ui,di,rs,fi,hi,Hx,WA=(Hx=class{constructor(e={}){Ne(this,Qe);Ne(this,es);Ne(this,ts);Ne(this,ui);Ne(this,di);Ne(this,rs);Ne(this,fi);Ne(this,hi);ge(this,Qe,e.queryCache||new UA),ge(this,es,e.mutationCache||new VA),ge(this,ts,e.defaultOptions||{}),ge(this,ui,new Map),ge(this,di,new Map),ge(this,rs,0)}mount(){Vl(this,rs)._++,I(this,rs)===1&&(ge(this,fi,R_.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Qe).onFocus())})),ge(this,hi,pu.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Qe).onOnline())})))}unmount(){var e,t;Vl(this,rs)._--,I(this,rs)===0&&((e=I(this,fi))==null||e.call(this),ge(this,fi,void 0),(t=I(this,hi))==null||t.call(this),ge(this,hi,void 0))}isFetching(e){return I(this,Qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,es).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Qe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=I(this,Qe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Bh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return I(this,Qe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=I(this,Qe).get(n.queryHash),o=s==null?void 0:s.state.data,i=SA(t,o);if(i!==void 0)return I(this,Qe).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return $t.batch(()=>I(this,Qe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=I(this,Qe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=I(this,Qe);$t.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=I(this,Qe);return $t.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=$t.batch(()=>I(this,Qe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ar).catch(Ar)}invalidateQueries(e,t={}){return $t.batch(()=>(I(this,Qe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=$t.batch(()=>I(this,Qe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ar)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=I(this,Qe).build(this,t);return r.isStaleByTime(Bh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ar).catch(Ar)}fetchInfiniteQuery(e){return e.behavior=_y(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ar).catch(Ar)}ensureInfiniteQueryData(e){return e.behavior=_y(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pu.isOnline()?I(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Qe)}getMutationCache(){return I(this,es)}getDefaultOptions(){return I(this,ts)}setDefaultOptions(e){ge(this,ts,e)}setQueryDefaults(e,t){I(this,ui).set(tl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,ui).values()],r={};return t.forEach(n=>{rl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){I(this,di).set(tl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,di).values()],r={};return t.forEach(n=>{rl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,ts).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$m(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,ts).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Qe).clear(),I(this,es).clear()}},Qe=new WeakMap,es=new WeakMap,ts=new WeakMap,ui=new WeakMap,di=new WeakMap,rs=new WeakMap,fi=new WeakMap,hi=new WeakMap,Hx),HA=h.createContext(void 0),KA=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(HA.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nl.apply(this,arguments)}var os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(os||(os={}));const jy="popstate";function GA(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:l="",hash:c=""}=go(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),qh("",{pathname:i,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let i=s.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof o=="string"?o:mu(o))}function n(s,o){ad(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return QA(t,r,n,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ad(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YA(){return Math.random().toString(36).substr(2,8)}function Cy(e,t){return{usr:e.state,key:e.key,idx:t}}function qh(e,t,r,n){return r===void 0&&(r=null),nl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?go(t):t,{state:r,key:t&&t.key||n||YA()})}function mu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function QA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=os.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(nl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=os.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:v})}function g(x,v){l=os.Push;let y=qh(p.location,x,v);r&&r(y,x),u=d()+1;let w=Cy(y,u),_=p.createHref(y);try{i.pushState(w,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}o&&c&&c({action:l,location:p.location,delta:1})}function m(x,v){l=os.Replace;let y=qh(p.location,x,v);r&&r(y,x),u=d();let w=Cy(y,u),_=p.createHref(y);i.replaceState(w,"",_),o&&c&&c({action:l,location:p.location,delta:0})}function b(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:mu(x);return y=y.replace(/ $/,"%20"),rt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(jy,f),c=x,()=>{s.removeEventListener(jy,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let v=b(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:m,go(x){return i.go(x)}};return p}var Ny;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ny||(Ny={}));function ZA(e,t,r){return r===void 0&&(r="/"),JA(e,t,r,!1)}function JA(e,t,r,n){let s=typeof t=="string"?go(t):t,o=Fm(s.pathname||"/",r);if(o==null)return null;let i=L_(e);XA(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=u2(o);l=l2(i[c],u,n)}return l}function L_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ms([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(rt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L_(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:i2(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of $_(o.path))s(o,i,c)}),t}function $_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=$_(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function XA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:a2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const e2=/^:[\w-]+$/,t2=3,r2=2,n2=1,s2=10,o2=-2,Ey=e=>e==="*";function i2(e,t){let r=e.split("/"),n=r.length;return r.some(Ey)&&(n+=o2),t&&(n+=r2),r.filter(s=>!Ey(s)).reduce((s,o)=>s+(e2.test(o)?t2:o===""?n2:s2),n)}function a2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function l2(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ky({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=ky({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ms([o,f.pathname]),pathnameBase:m2(ms([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=ms([o,f.pathnameBase]))}return i}function ky(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=c2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:m}=d;if(g==="*"){let p=l[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const b=l[f];return m&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function c2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ad(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function u2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ad(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const d2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f2=e=>d2.test(e);function h2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?go(e):e,o;if(r)if(f2(r))o=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),ad(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?o=Ty(r.substring(1),"/"):o=Ty(r,t)}else o=t;return{pathname:o,search:g2(n),hash:v2(s)}}function Ty(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function gf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Um(e,t){let r=p2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zm(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=go(e):(s=nl({},e),rt(!s.pathname||!s.pathname.includes("?"),gf("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),gf("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),gf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=h2(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ms=e=>e.join("/").replace(/\/\/+/g,"/"),m2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const M_=["post","put","patch","delete"];new Set(M_);const x2=["get",...M_];new Set(x2);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}const Bm=h.createContext(null),w2=h.createContext(null),Es=h.createContext(null),ld=h.createContext(null),An=h.createContext({outlet:null,matches:[],isDataRoute:!1}),F_=h.createContext(null);function b2(e,t){let{relative:r}=t===void 0?{}:t;Hi()||rt(!1);let{basename:n,navigator:s}=h.useContext(Es),{hash:o,pathname:i,search:l}=z_(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ms([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Hi(){return h.useContext(ld)!=null}function vo(){return Hi()||rt(!1),h.useContext(ld).location}function U_(e){h.useContext(Es).static||h.useLayoutEffect(e)}function ks(){let{isDataRoute:e}=h.useContext(An);return e?D2():_2()}function _2(){Hi()||rt(!1);let e=h.useContext(Bm),{basename:t,future:r,navigator:n}=h.useContext(Es),{matches:s}=h.useContext(An),{pathname:o}=vo(),i=JSON.stringify(Um(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return U_(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=zm(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ms([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function S2(){let{matches:e}=h.useContext(An),t=e[e.length-1];return t?t.params:{}}function z_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Es),{matches:s}=h.useContext(An),{pathname:o}=vo(),i=JSON.stringify(Um(s,n.v7_relativeSplatPath));return h.useMemo(()=>zm(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function j2(e,t){return C2(e,t)}function C2(e,t,r,n){Hi()||rt(!1);let{navigator:s}=h.useContext(Es),{matches:o}=h.useContext(An),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=vo(),d;if(t){var f;let x=typeof t=="string"?go(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||rt(!1),d=x}else d=u;let g=d.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=ZA(e,{pathname:m}),p=P2(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ms([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ms([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&p?h.createElement(ld.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:os.Pop}},p):p}function N2(){let e=I2(),t=y2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const E2=h.createElement(N2,null);class k2 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(An.Provider,{value:this.props.routeContext},h.createElement(F_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T2(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Bm);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(An.Provider,{value:t},n)}function P2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||rt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:m}=r,b=f.route.loader&&g[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let m,b=!1,p=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||E2,c&&(u<0&&g===0?(b=!0,x=null):u===g&&(b=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),y=()=>{let w;return m?w=p:b?w=x:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(T2,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(k2,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var B_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B_||{}),gu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gu||{});function R2(e){let t=h.useContext(Bm);return t||rt(!1),t}function A2(e){let t=h.useContext(w2);return t||rt(!1),t}function O2(e){let t=h.useContext(An);return t||rt(!1),t}function V_(e){let t=O2(),r=t.matches[t.matches.length-1];return r.route.id||rt(!1),r.route.id}function I2(){var e;let t=h.useContext(F_),r=A2(gu.UseRouteError),n=V_(gu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function D2(){let{router:e}=R2(B_.UseNavigateStable),t=V_(gu.UseNavigateStable),r=h.useRef(!1);return U_(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sl({fromRouteId:t},o)))},[e,t])}function L2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Py(e){let{to:t,replace:r,state:n,relative:s}=e;Hi()||rt(!1);let{future:o,static:i}=h.useContext(Es),{matches:l}=h.useContext(An),{pathname:c}=vo(),u=ks(),d=zm(t,Um(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ye(e){rt(!1)}function $2(e){let{basename:t="/",children:r=null,location:n,navigationType:s=os.Pop,navigator:o,static:i=!1,future:l}=e;Hi()&&rt(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:sl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=go(n));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:b="default"}=n,p=h.useMemo(()=>{let x=Fm(d,c);return x==null?null:{location:{pathname:x,search:f,hash:g,state:m,key:b},navigationType:s}},[c,d,f,g,m,b,s]);return p==null?null:h.createElement(Es.Provider,{value:u},h.createElement(ld.Provider,{children:r,value:p}))}function M2(e){let{children:t,location:r}=e;return j2(Wh(t),r)}new Promise(()=>{});function Wh(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Wh(n.props.children,o));return}n.type!==Ye&&rt(!1),!n.props.index||!n.props.children||rt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Wh(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function F2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function U2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z2(e,t){return e.button===0&&(!t||t==="_self")&&!U2(e)}const B2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V2="6";try{window.__reactRouterVersion=V2}catch{}const q2="startTransition",Ry=Sp[q2];function W2(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=GA({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Ry?Ry(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>L2(n),[n]),h.createElement($2,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,g=F2(t,B2),{basename:m}=h.useContext(Es),b,p=!1;if(typeof u=="string"&&K2.test(u)&&(b=u,H2))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=Fm(_.pathname,m);_.origin===w.origin&&C!=null?u=C+_.search+_.hash:p=!0}catch{}let x=b2(u,{relative:s}),v=G2(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||v(w)}return h.createElement("a",Hh({},g,{href:b||x,onClick:p||o?n:y,ref:r,target:c}))});var Ay;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ay||(Ay={}));var Oy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Oy||(Oy={}));function G2(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=ks(),u=vo(),d=z_(e,{relative:i});return h.useCallback(f=>{if(z2(f,r)){f.preventDefault();let g=n!==void 0?n:mu(u)===mu(d);c(e,{replace:g,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}var tn=function(){return tn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},tn.apply(this,arguments)};function Ki(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Y2(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Q2(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const Z2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Vm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class J2 extends Vm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Iy extends Vm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dy extends Vm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kh||(Kh={}));class X2{constructor(t,{headers:r={},customFetch:n,region:s=Kh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Z2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Y2(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let g={},{region:m}=n;m||(m=this.region);const b=new URL(`${this.url}/${r}`);m&&m!=="any"&&(g["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(g["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(g["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const v=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:p,signal:x}).catch(C=>{throw new J2(C)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new Iy(v);if(!v.ok)throw new Dy(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield v.json():w==="application/octet-stream"||w==="application/pdf"?_=yield v.blob():w==="text/event-stream"?_=v:w==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof Dy||l instanceof Iy?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var eO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},tO=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,c=null,u=o.status,d=o.statusText;if(o.ok){var f,g;if(r.method!=="HEAD"){var m;const v=await o.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const p=await o.text();try{i=JSON.parse(p),Array.isArray(i)&&o.status===404&&(l=[],i=null,u=200,d="OK")}catch{o.status===404&&p===""?(u=204,d="No Content"):i={message:p}}if(i&&r.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&r.shouldThrowOnError)throw new eO(i)}return{error:i,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let l="";const c=o==null?void 0:o.cause;if(c){var u,d,f,g;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${b}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},rO=class extends tO{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ly=new RegExp("[,()]");var Ao=class extends rO{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ly.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ly.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},nO=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Ao({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(o.length>0){const i=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new Ao({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ao({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Ao({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ao({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},sO=class q_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nO(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new q_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{c.searchParams.append(f,g)})):(l="POST",u=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new Ao({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class oO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iO="2.89.0",aO=`realtime-js/${iO}`,W_="1.0.0",lO="2.0.0",$y=W_,Gh=1e4,cO=1e3,uO=100;var Kn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kn||(Kn={}));var ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ct||(ct={}));var $r;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($r||($r={}));var Yh;(function(e){e.websocket="websocket"})(Yh||(Yh={}));var Ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ms||(Ms={}));class dO{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,c.length),b.setUint8(p++,l.length),b.setUint8(p++,i.length),b.setUint8(p++,u.length),b.setUint8(p++,f.length),b.setUint8(p++,r),Array.from(c,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(l,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(i,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(u,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(f,v=>b.setUint8(p++,v.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,l,c]=n;return r({join_ref:s,ref:o,topic:i,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+o));c=c+o;const f=n.decode(t.slice(c,c+i));c=c+i;const g=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class H_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const My=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=fO(i,e,t,s),o),{}):{}},fO=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?K_(o,i):Qh(i)},K_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gO(t,r)}switch(e){case De.bool:return hO(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return pO(t);case De.json:case De.jsonb:return mO(t);case De.timestamp:return vO(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Qh(t);default:return Qh(t)}},Qh=e=>e,hO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},gO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>K_(t,l))}return e},vO=e=>typeof e=="string"?e.replace(" ","T"):e,G_=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vf{constructor(t,r,n={},s=Gh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fy||(Fy={}));class Pa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pa.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Pa.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pa.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const g=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),g=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...g)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uy||(Uy={}));var Ra;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ra||(Ra={}));var yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class Go{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vf(this,$r.join,this.params,this.timeout),this.rejoinTimer=new H_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on($r.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Pa(this),this.broadcastEndpointURL=G_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ra.PRESENCE]&&this.bindings[Ra.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},g={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(yn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(yn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,v=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:_,schema:C,table:j,filter:S}}=w,E=m&&m[y];if(E&&E.event===_&&Go.isFilterValueEqual(E.schema,C)&&Go.isFilterValueEqual(E.table,j)&&Go.isFilterValueEqual(E.filter,S))v.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=ct.errored,t==null||t(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(yn.SUBSCRIBED);return}}).receive("error",m=>{this.state=ct.errored,t==null||t(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ct.joined&&t===Ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($r.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new vf(this,$r.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vf(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>uO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=$r;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let g=this._onMessage(i,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(g,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var b,p,x,v,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,C=(b=m.filter)===null||b===void 0?void 0:b.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:p,table:x,commit_timestamp:v,type:y,errors:w}=b;g=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}m.callback(g,n)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Go.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($r.close,{},t)}_onError(t){this._on($r.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=My(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=My(t.columns,t.old_record)),r}}const yf=()=>{},fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yO=[1e3,2e3,5e3,1e4],xO=1e4,wO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bO{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gh,this.transport=null,this.heartbeatIntervalMs=fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yf,this.ref=0,this.reconnectTimer=null,this.vsn=$y,this.logger=yf,this.conn=null,this.sendBuffer=[],this.serializer=new dO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yh.websocket}`,this.httpEndpoint=G_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kn.connecting:return Ms.Connecting;case Kn.open:return Ms.Open;case Kn.closing:return Ms.Closing;default:return Ms.Closed}}isConnected(){return this.connectionState()===Ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Go(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Kn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kn.open||this.conn.readyState===Kn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($r.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:aO};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push($r.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new H_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,l,c,u,d,f,g,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:yf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:$y,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>yO[b-1]||xO,this.vsn){case W_:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,p)=>p(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,p)=>p(JSON.parse(b));break;case lO:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ol=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _O(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function SO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function jO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const l=_O(e.baseUrl,n,s),c=await SO(e.auth),u=await t(l,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),g=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?g:void 0,b=m==null?void 0:m.error;throw new ol((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:g}}}}function hc(e){return e.join("")}var CO=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hc(e.namespace)}`}),!0}catch(t){if(t instanceof ol&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ol&&r.status===409)return;throw r}}};function _o(e){return e.join("")}var NO=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ol&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ol&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},EO=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=jO({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new CO(this.client,t),this.tableOps=new NO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},cd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var kO=class extends cd{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zh=class extends cd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const qm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TO=()=>Response,Jh=e=>{if(Array.isArray(e))return e.map(r=>Jh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Jh(n)}),t},PO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},RO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function AO(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OO(e){var t=AO(e,"string");return il(t)=="symbol"?t:t+""}function IO(e,t,r){return(t=OO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(r),!0).forEach(function(n){IO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const xf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},DO=async(e,t,r)=>{e instanceof await TO()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,o=(n==null?void 0:n.statusCode)||s+"";t(new kO(xf(n),s,o))}).catch(n=>{t(new Zh(xf(n),n))}):t(new Zh(xf(e),e))},LO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(PO(n)?(s.headers=le({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),le(le({},s),r))};async function Ol(e,t,r,n,s,o){return new Promise((i,l)=>{e(r,LO(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>DO(c,l,n))})}async function al(e,t,r,n){return Ol(e,"GET",t,r,n)}async function Or(e,t,r,n,s){return Ol(e,"POST",t,n,s,r)}async function Xh(e,t,r,n,s){return Ol(e,"PUT",t,n,s,r)}async function $O(e,t,r,n){return Ol(e,"HEAD",t,le(le({},r),{},{noResolveJson:!0}),n)}async function Wm(e,t,r,n,s){return Ol(e,"DELETE",t,n,s,r)}var MO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}}};let Y_;Y_=Symbol.toStringTag;var FO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Y_]="BlobDownloadBuilder",this.promise=null}asStream(){return new MO(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}}};const UO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},By={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zO=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=qm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let o;const i=le(le({},By),n);let l=le(le({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(l=le(le({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Xh:Or)(s.fetch,`${s.url}/object/${d}`,o,le({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const u=le({upsert:By.upsert},n),d=le(le({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await Xh(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=le({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await Or(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),l=i.searchParams.get("token");if(!l)throw new cd("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Or(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Or(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),o=await Or(n.fetch,`${n.url}/object/sign/${s}`,le({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Or(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>le(le({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),i=()=>al(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new FO(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Jh(await al(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await $O(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n)&&n instanceof Zh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Wm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=le(le(le({},UO),t),{},{prefix:e||""});return{data:await Or(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=le({},e);return{data:await Or(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Q_="2.89.0",Z_={"X-Client-Info":`storage-js/${Q_}`};var BO=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=le(le({},Z_),t),this.fetch=qm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await al(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await al(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Or(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Xh(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Or(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Wm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},VO=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Z_),t),this.fetch=qm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Or(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await al(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Wm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!RO(e))throw new cd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new EO({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Hm={"X-Client-Info":`storage-js/${Q_}`,"Content-Type":"application/json"};var J_=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function rr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var wf=class extends J_{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qO=class extends J_{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Km=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HO=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";t(new wf(Vy(o),n,i))}).catch(()=>{const o=n+"";t(new wf(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";t(new wf(s.statusText||`HTTP ${n} error`,n,o))}}else t(new qO(Vy(e),e))},KO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(WO(n)?(s.headers=le({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,le(le({},s),r)):s};async function GO(e,t,r,n,s,o){return new Promise((i,l)=>{e(r,KO(t,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>HO(c,l,n))})}async function nr(e,t,r,n,s){return GO(e,"POST",t,n,s,r)}var YO=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Hm),t),this.fetch=Km(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await nr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await nr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}},QO=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Hm),t),this.fetch=Km(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await nr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await nr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await nr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}},ZO=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=le(le({},Hm),t),this.fetch=Km(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await nr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}},JO=class extends ZO{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new XO(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},XO=class extends YO{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new eI(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},eI=class extends QO{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,le(le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},tI=class extends BO{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new zO(this.url,this.headers,e,this.fetch)}get vectors(){return new JO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new VO(this.url+"/iceberg",this.headers,this.fetch)}};const X_="2.89.0",Oo=30*1e3,ep=3,bf=ep*Oo,rI="http://localhost:9999",nI="supabase.auth.token",sI={"X-Client-Info":`gotrue-js/${X_}`},tp="X-Supabase-Api-Version",e1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iI=10*60*1e3;class ll extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aI extends ll{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function lI(e){return ne(e)&&e.name==="AuthApiError"}class Fs extends ll{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class On extends ll{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Xt extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cI(e){return ne(e)&&e.name==="AuthSessionMissingError"}class So extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends On{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mc extends On{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uI(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class qy extends On{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dI extends On{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rp extends On{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function _f(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Wy extends On{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class np extends On{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hy=` 	
\r=`.split(""),fI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hy.length;t+=1)e[Hy[t].charCodeAt(0)]=-2;for(let t=0;t<vu.length;t+=1)e[vu[t].charCodeAt(0)]=t;return e})();function Ky(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vu[n]),t.queuedBits-=6}}function t1(e,t,r){const n=fI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{mI(i,n,r)};for(let i=0;i<e.length;i+=1)t1(e.charCodeAt(i),s,o);return t.join("")}function hI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}hI(n,t)}}function mI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ni(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)t1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function gI(e){const t=[];return pI(e,r=>t.push(r)),new Uint8Array(t)}function qs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ky(s,r,n)),Ky(null,r,n),t.join("")}function vI(e){return Math.round(Date.now()/1e3)+e}function yI(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Os={tested:!1,writable:!1},r1=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Os.tested)return Os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Os.tested=!0,Os.writable=!0}catch{Os.tested=!0,Os.writable=!1}return Os.writable};function xI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const n1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Is=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gt=async(e,t)=>{await e.removeItem(t)};class ud{constructor(){this.promise=new ud.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ud.promiseConstructor=Promise;function Sf(e){const t=e.split(".");if(t.length!==3)throw new np("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oI.test(t[n]))throw new np("JWT not in base64url format");return{header:JSON.parse(Gy(t[0])),payload:JSON.parse(Gy(t[1])),signature:ni(t[2]),raw:{header:t[0],payload:t[1]}}}async function bI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _I(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function SI(e){return("0"+e.toString(16)).substr(-2)}function jI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,SI).join("")}async function CI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function NI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await CI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jo(e,t,r=!1){const n=jI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Io(e,`${t}-code-verifier`,s);const o=await NI(n);return[o,n===o?"plain":"s256"]}const EI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kI(e){const t=e.headers.get(tp);if(!t||!t.match(EI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Co(e){if(!RI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AI(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Yy(e){return JSON.parse(JSON.stringify(e))}const $s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OI=[502,503,504];async function Qy(e){var t;if(!wI(e))throw new rp($s(e),0);if(OI.includes(e.status))throw new rp($s(e),e.status);let r;try{r=await e.json()}catch(o){throw new Fs($s(o),o)}let n;const s=kI(e);if(s&&s.getTime()>=e1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wy($s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Wy($s(r),e.status,r.weak_password.reasons);throw new aI($s(r),e.status||500,n)}const II=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ae(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[tp]||(o[tp]=e1["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await DI(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function DI(e,t,r,n,s,o){const i=II(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new rp($s(c),0)}if(l.ok||await Qy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Qy(c)}}function Tr(e){var t;let r=null;MI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Zy(e){const t=Tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LI(e){return{data:e,error:null}}function $I(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Ki(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Jy(e){return e}function MI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cf=["global","local","others"];class FI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=n1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Cf[0]){if(Cf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cf.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ki(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$I,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Jy});if(d.error)throw d.error;const f=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Co(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Co(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Co(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Co(t.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Co(t.userId),Co(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Jy});if(d.error)throw d.error;const f=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function Xy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const No={debug:!!(globalThis&&r1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UI extends s1{}async function zI(e,t,r){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function BI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function o1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function VI(e){return parseInt(e,16)}function qI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function WI(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:g}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=o1(e.address),b=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let v=`URI: ${f}
Version: ${g}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}v+=y}return`${x}
${v}`}class ot extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class yu extends ot{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function HI({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(i1(i)){if(o.rp.id!==i)return new ot({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function KI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(i1(n)){if(r.rpId!==n)return new ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class GI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YI=new GI;function QI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ki(e,["challenge","user","excludeCredentials"]),o=ni(t).buffer,i=Object.assign(Object.assign({},r),{id:ni(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ni(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function ZI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ki(e,["challenge","allowCredentials"]),s=ni(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:ni(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function JI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:qs(new Uint8Array(e.response.attestationObject)),clientDataJSON:qs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qs(new Uint8Array(s.authenticatorData)),clientDataJSON:qs(new Uint8Array(s.clientDataJSON)),signature:qs(new Uint8Array(s.signature)),userHandle:s.userHandle?qs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function i1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ex(){var e,t;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function eD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yu("Browser returned unexpected credential type",t)}:{data:null,error:new yu("Empty credential response",t)}}catch(t){return{data:null,error:HI({error:t,options:e})}}}async function tD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yu("Browser returned unexpected credential type",t)}:{data:null,error:new yu("Empty credential response",t)}}catch(t){return{data:null,error:KI({error:t,options:e})}}}const rD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const l=n[o];t(l)?n[o]=xu(l,i):n[o]=xu(i)}else n[o]=i}return n}function sD(e,t){return xu(rD,e,t||{})}function oD(e,t){return xu(nD,e,t||{})}class iD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??YI.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=sD(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await eD({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=oD(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await tD(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new Fs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!ex())return{data:null,error:new Fs("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new Fs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!ex())return{data:null,error:new Fs("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new Fs("Unexpected error in register",i)}}}}BI();const aD={url:rI,storageKey:nI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tx(e,t,r){return await r()}const Eo={};class cl{get jwks(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},aD),t);if(this.storageKey=o.storageKey,this.instanceID=(r=cl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,cl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&vt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new FI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=n1(o.fetch),this.lock=o.lock||tx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&vt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zI:this.lock=tx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:r1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Xy(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${X_}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(vt()&&(r=xI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),vt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uI(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new Fs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tr}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:g}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await jo(this.storage,this.storageKey)),o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:b},xform:Tr})}else if("phone"in t){const{phone:d,password:f,options:g}=t;o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Tr})}else throw new pc("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zy})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zy})}else throw new pc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new So;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,l,c,u,d,f,g;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:v,options:y}=t;let w;if(vt())if(typeof x=="object")w=x;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")w=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),C=await w.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=o1(C[0]);let S=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const N=await w.request({method:"eth_chainId"});S=VI(N)}const E={domain:_.host,address:j,statement:v,uri:_.href,version:"1",chainId:S,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=WI(E),b=await w.request({method:"personal_sign",params:[qI(m),j]})}try{const{data:p,error:x}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Tr});if(x)throw x;if(!p||!p.session||!p.user){const v=new So;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,o,i,l,c,u,d,f,g,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:v,statement:y,options:w}=t;let _;if(vt())if(typeof v=="object")_=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const C=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),y?{statement:y}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:v}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:qs(p)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tr});if(v)throw v;if(!x||!x.session||!x.user){const y=new So;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(ne(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Is(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new dI;const{data:o,error:i}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tr});if(await gt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new So;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await jo(this.storage,this.storageKey));const{error:f}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new pc("You must provide either an email or phone number.")}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Tr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await jo(this.storage,this.storageKey));const u=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:LI});return!((o=u.data)===null||o===void 0)&&o.url&&vt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xt;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new pc("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<bf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Is(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=jf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=AI(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Zn})})}catch(r){if(ne(r))return cI(r)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Xt;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await jo(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Zn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Sf(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!vt())throw new mc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qy("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new mc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;c&&(g=parseInt(c));const m=g-d;m*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=g-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:g,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(lI(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=yI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await jo(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:g}=o;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return vt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Tr}),{data:g,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new So}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:m}))}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _I(async s=>(s>0&&await bI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&_f(o)&&Date.now()+i-n<Oo})}catch(n){if(this._debug(r,"error",n),ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Is(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Io(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:jf()}else if(s&&!s.user&&!s.user){const i=await Is(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await gt(this.storage,this.storageKey+"-user"),await Io(this.storage,this.storageKey,s)):s.user=jf()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${bf}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),_f(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ud;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Xt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ne(o)){const i={data:null,error:o};return _f(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Io(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Yy(s);await Io(this.storage,this.storageKey,o)}else{const s=Yy(r);await Io(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Oo}ms, refresh threshold is ${ep} ticks`),s<=ep&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof s1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await jo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JI(t.webauthn.credential_response):XI(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QI(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ZI(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sf(n.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Xt});const i=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Xt});const i=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+iI>s)return n;const{data:o,error:i}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});n=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Sf(n);r!=null&&r.allowExpired||TI(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const d=PI(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,gI(`${l}.${c}`)))throw new np("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}}cl.nextInstanceID={};const lD=cl,cD="2.89.0";let ha="";typeof Deno<"u"?ha="deno":typeof document<"u"?ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ha="react-native":ha="node";const uD={"X-Client-Info":`supabase-js-${ha}/${cD}`},dD={headers:uD},fD={schema:"public"},hD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pD={};function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function mD(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gD(e){var t=mD(e,"string");return ul(t)=="symbol"?t:t+""}function vD(e,t,r){return(t=gD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(r),!0).forEach(function(n){vD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const yD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xD=()=>Headers,wD=(e,t,r)=>{const n=yD(r),s=xD();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Ze(Ze({},i),{},{headers:u}))}};function bD(e){return e.endsWith("/")?e:e+"/"}function _D(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,g={db:Ze(Ze({},c),s),auth:Ze(Ze({},u),o),realtime:Ze(Ze({},d),i),storage:{},global:Ze(Ze(Ze({},f),l),{},{headers:Ze(Ze({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function SD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jD=class extends lD{constructor(e){super(e)}},CD=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=SD(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:fD,realtime:pD,auth:Ze(Ze({},hD),{},{storageKey:i}),global:dD},c=_D(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=wD(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new sO(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new tI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new X2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:l,debug:c,throwOnError:u},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jD({url:this.authUrl.href,headers:Ze(Ze({},g),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bO(this.realtimeUrl.href,Ze(Ze({},e),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ND=(e,t,r)=>new CD(e,t,r);function ED(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ED()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kD="https://iqyeyrfraiatxpwqgwbx.supabase.co",TD="sb_publishable_nwz8CN3fok8BlWHot73jfg_9H8SZVF3",M=ND(kD,TD,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),a1=h.createContext(void 0);function PD({children:e}){const[t,r]=h.useState(null),[n,s]=h.useState(null),[o,i]=h.useState(!0),[l,c]=h.useState(!1),[u,d]=h.useState(null),f=async b=>{const{data:p}=await M.from("profiles").select("full_name, email, total_points, student_level").eq("user_id",b).maybeSingle();p&&d(p);const{data:x}=await M.from("user_roles").select("role").eq("user_id",b).maybeSingle();c((x==null?void 0:x.role)==="admin")},g=async()=>{t&&await f(t.id)};h.useEffect(()=>{const{data:{subscription:b}}=M.auth.onAuthStateChange((p,x)=>{s(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?setTimeout(()=>{f(x.user.id)},0):(d(null),c(!1)),i(!1)});return M.auth.getSession().then(({data:{session:p}})=>{s(p),r((p==null?void 0:p.user)??null),p!=null&&p.user&&f(p.user.id),i(!1)}),()=>b.unsubscribe()},[]);const m=async()=>{await M.auth.signOut(),r(null),s(null),d(null),c(!1)};return a.jsx(a1.Provider,{value:{user:t,session:n,loading:o,isAdmin:l,profile:u,signOut:m,refreshProfile:g},children:e})}function Vt(){const e=h.useContext(a1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const RD={common:{loading:" ...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",search:"",actions:"",status:"",active:"",inactive:" ",level:"",beginner:"",intermediate:"",advanced:"",viewAll:" ",startQuiz:"  ",points:"",pts:"",hours:"",sessions:"",signOut:" ",signIn:" ",signUp:" ",brandName:"Devixa",brandName2:"   Devixa"},nav:{dashboard:" ",courses:"",myCourses:"",myPoints:"",profile:" ",users:"",batches:"",attendance:"",offers:"",statistics:"",notifications:""},myCourses:{title:"",subtitle:"    ",noCourses:"   ",noCoursesDesc:"    ",courseProgress:" ",sessions:"",noSessions:"   ",startQuiz:"  ",quizCompleted:"  ",quizNotAvailable:"       100%"},quiz:{title:" : {course}",questionCount:" {current}  {total}",next:"",previous:"",submit:" ",confirmSubmit:"          .",successTitle:"!  ",failureTitle:"    ",score:": {score}%",passingScore:" : {score}%",pointsEarned:"   {points}  !",backToCourses:"  ",alreadyAttempted:"     ",loading:"  ...",notFound:"    ",errorSubmit:"        "},landing:{title:" ",subtitle:"  ",description:"        ",getStarted:" ",goToDashboard:"  ",registerNow:" ",startLearning:" ",getMaterials:"  ",firstTwoFree:"  ",freeSessions:" ",featuredCourses:" ",featuredCoursesDesc:"      ",joinPlatform:"     ",joinPlatformDesc:"         ",features:{premiumCourses:" ",premiumCoursesDesc:"      ",earnPoints:" ",earnPointsDesc:"      ",joinBatches:" ",joinBatchesDesc:"        "}},auth:{welcomeBack:" ",createAccount:" ",loginDesc:"    ",signupDesc:"   ",fullName:" ",email:" ",password:" ",pleaseWait:" ...",noAccount:"    ",hasAccount:"    ",loginSuccess:" !",loginSuccessDesc:"   .",accountCreated:"  !",accountCreatedDesc:"    .",features:{accessCourses:"  ",earnPoints:"  ",redeemRewards:" ",joinBatches:"  "},brandTagline:"    ",copyright:"  "},dashboard:{welcomeBack:" ",trackProgress:"    ",enrolledCourses:" ",totalPoints:" ",completed:"",myCourses:"",noCoursesYet:"   ",noCoursesDesc:"     ",browseCourses:" ",recentPoints:" ",noPointsYet:"   ",progress:""},courses:{title:"",subtitle:"    ",noCourses:"   ",noCoursesDesc:"   ",enrolled:"",enroll:"",enrolling:" ...",redeem:"",spotsLeft:" ",off:"",insufficientPoints:"  ",insufficientPointsDesc:" {points}    .",enrollSuccess:"  !",enrollSuccessDesc:"   {course}.",pointsEarned:"+{points}  !",redeemSuccess:"  !",redeemSuccessDesc:"   {course}  {points} .",enrollFailed:" ",promoBadge:" ",promoSubtitle:"    .            .",noOffers:"      ",noOffersDesc:"       .   !",specialOffer:" "},points:{title:"",subtitle:"   ",availablePoints:" ",totalEarned:" ",totalSpent:" ",history:" ",historyDesc:"   ",noPointsYet:"   ",noPointsDesc:"     ",redeemPoints:" ",redeemDesc:"  ",noRedeemable:"   ",available:"",types:{registration:"",attendance:"",redemption:""}},admin:{dashboard:"  ",managePlatform:"  ",totalStudents:" ",coursesCount:"",enrollments:"",pointsAwarded:" ",quickActions:" ",quickActionsDesc:"       ."},adminCourses:{title:"",subtitle:"  ",addCourse:" ",noCourses:"   ",noCoursesDesc:"    ",editCourse:" ",createCourse:"  ",editDesc:"   ",createDesc:"    ",courseTitle:"",description:"",totalHours:" ",sessionsCount:" ",price:"",pointsReward:" ",pointsRequired:" ",isActive:" ",updateCourse:" ",createCourseBtn:" ",deleteCourse:" ",deleteConfirm:'     "{title}"      .',courseUpdated:"   ",courseCreated:"   ",courseDeleted:"   ",saveFailed:"  ",deleteFailed:"  .    .",loadFailed:"  ",validationError:"  ",titleRequired:"  "},validation:{emailInvalid:"    ",passwordMin:"     6   "},comments:{title:" ",noComments:"   .    !",addComment:" ",placeholder:"     ...",rating:"",submit:" ",loginToComment:"      ",mustEnroll:"       ",success:"   ",error:"   ",viewDetails:" "},profile:{title:" ",subtitle:"   ",personalInfo:" ",personalInfoDesc:"  ",emailHint:"    ",accountStats:" ",memberSince:" ",accountType:" ",student:"",admin:"",security:"",securityDesc:"    ",changePassword:"  ",updateSuccess:"   ",updateSuccessDesc:"    "},password:{current:"  ",new:"  ",confirm:"   ",mismatch:"   ",mismatchDesc:"     ",incorrectCurrent:"    ",changeSuccess:"   ",changeSuccessDesc:"    ",changeTitle:"  ",changeDesc:"       ",changeBtn:"  ",requirements:"     6   ",forgotTitle:"  ",forgotDesc:"        ",sendResetLink:"   ",backToLogin:"  ",resetEmailSent:"    ",resetEmailSentDesc:"          ",checkEmail:"   ",resetLinkSent:"       ",resetTitle:"   ",resetDesc:"    ",resetBtn:"   ",resetSuccess:"     ",resetSuccessDesc:"      ",invalidLink:"    ",invalidLinkDesc:"      "},adminUsers:{subtitle:"     .",searchPlaceholder:"    ...",points:"",viewDetails:" ",userDetails:" ",pointsHistory:" ",activeCourses:" ",completedCourses:" ",noActive:"   .",noCompleted:"    .",noHistory:"   ."},adminBatches:{subtitle:"    ."},adminStats:{subtitle:"   ."},adminAttendance:{subtitle:"   .",selectBatch:" ",selectPlaceholder:"  ",addSession:"  ",noBatches:"     .",noSessions:"    .",sessionTitle:" ",sessionDate:" ",markAttendance:" ",studentName:" ",status:"",attended:"",absent:"",saveSuccess:"   .",saveError:"   .",createSessionTitle:" ",createSessionDesc:"    .",createBtn:" ",sessionCreated:"   .",sessionCreateError:"   ."},adminOffers:{subtitle:"    .",addOffer:"  ",noOffers:"    ",noOffersDesc:"     .",course:"",discount:"",originalPrice:" ",offerPrice:" ",usage:"",updateSuccess:"   .",createSuccess:"   .",saveError:"   .",deleteSuccess:"   .",deleteError:"   .",editTitle:" ",createTitle:"  ",dialogDesc:"   .",selectCourse:"  *",selectPlaceholder:" ",courseHint:"       {link} .",discountLabel:" (%)",maxStudents:"   ()",unlimited:" ",isActive:" ",updateBtn:" ",createBtn:" ",deleteTitle:" ",deleteConfirm:"                .",noCourses:"    ",mustCreateCourse:"     .",validationError:"  ",selectCourseError:"   .",discountError:"       0."}},AD={common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",create:"Create",search:"Search",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",level:"Level",beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced",viewAll:"View All",points:"points",pts:"pts",hours:"hours",sessions:"sessions",signOut:"Sign Out",signIn:"Sign In",signUp:"Sign Up",brandName:"Devixa",brandName2:" Why choose Devixa?"},nav:{dashboard:"Dashboard",courses:"Courses",myCourses:"My Courses",myPoints:"My Points",profile:"Profile",users:"Users",batches:"Batches",attendance:"Attendance",offers:"Offers",statistics:"Statistics",notifications:"Notifications"},myCourses:{title:"My Courses",subtitle:"Track your progress in subscribed courses",noCourses:"No courses joined yet",noCoursesDesc:"Explore available courses and start your learning journey",courseProgress:"Course Progress",sessions:"Sessions",noSessions:"No sessions available for this course yet",startQuiz:"Start Final Quiz",quizCompleted:"Quiz Completed",quizNotAvailable:"Quiz available only after 100% completion"},quiz:{title:"Final Quiz: {course}",questionCount:"Question {current} of {total}",next:"Next",previous:"Previous",submit:"Submit Quiz",confirmSubmit:"Are you sure you want to submit? You cannot go back.",successTitle:"Congratulations! You passed",failureTitle:"Unfortunately, you didn't pass this time",score:"Your score: {score}%",passingScore:"Passing score: {score}%",pointsEarned:"You earned {points} bonus points!",backToCourses:"Back to My Courses",alreadyAttempted:"You have already attempted this quiz",loading:"Loading questions...",notFound:"Quiz not found",errorSubmit:"Error submitting results, please try again"},landing:{title:"Master Programming",subtitle:"One Course at a Time",description:"Join our learning platform, earn points, and unlock your potential",getStarted:"Get Started",goToDashboard:"Go to Dashboard",registerNow:"Register Now",startLearning:"Start Learning",getMaterials:"Get Materials",firstTwoFree:"First 2 Sessions Free",freeSessions:"Free Sessions",featuredCourses:"Featured Courses",featuredCoursesDesc:"Choose from our top certified programming courses",joinPlatform:"Join the Best Programming Platform",joinPlatformDesc:"Start your learning journey today and earn points for every lesson",features:{premiumCourses:"Premium Courses",premiumCoursesDesc:"Access high-quality and up-to-date programming courses",earnPoints:"Earn Points",earnPointsDesc:"Get rewarded for learning, attendance, and participation",joinBatches:"Join Batches",joinBatchesDesc:"Learn with peers in structured batches supervised by experts"}},auth:{welcomeBack:"Welcome back",createAccount:"Create an account",loginDesc:"Enter your credentials to access your account",signupDesc:"Start your learning journey today",fullName:"Full Name",email:"Email",password:"Password",pleaseWait:"Please wait...",noAccount:"Don't have an account? Sign up",hasAccount:"Already have an account? Sign in",loginSuccess:"Welcome back!",loginSuccessDesc:"You have successfully logged in.",accountCreated:"Account created!",accountCreatedDesc:"Welcome to the learning platform.",features:{accessCourses:"Access premium courses",earnPoints:"Earn points for learning",redeemRewards:"Redeem rewards",joinBatches:"Join learning batches"},brandTagline:"Your journey to mastery starts here",copyright:"All rights reserved"},dashboard:{welcomeBack:"Welcome back",trackProgress:"Track your progress and continue learning",enrolledCourses:"Enrolled Courses",totalPoints:"Total Points",completed:"Completed",myCourses:"My Courses",noCoursesYet:"No courses yet",noCoursesDesc:"Start your learning journey by enrolling in a course",browseCourses:"Browse Courses",recentPoints:"Recent Points",noPointsYet:"No points earned yet",progress:"Progress"},courses:{title:"Courses",subtitle:"Browse available courses and start learning",noCourses:"No courses available",noCoursesDesc:"Check back later for new courses",enrolled:"Enrolled",enroll:"Enroll",enrolling:"Enrolling...",redeem:"Redeem",spotsLeft:"spots left",off:"OFF",insufficientPoints:"Insufficient points",insufficientPointsDesc:"You need {points} points to redeem this course.",enrollSuccess:"Enrolled successfully!",enrollSuccessDesc:"You've enrolled in {course}.",pointsEarned:"+{points} points earned!",redeemSuccess:"Course redeemed!",redeemSuccessDesc:"You've successfully enrolled in {course} using {points} points.",enrollFailed:"Enrollment failed",promoBadge:"Special Promotions",promoSubtitle:"Don't miss out on these limited-time opportunities. Earn more points and learn for less with our exclusive course offers.",noOffers:"No active offers at the moment",noOffersDesc:"We're currently preparing new exciting promotions for you. Keep an eye on this page!",specialOffer:"Special Offer"},points:{title:"My Points",subtitle:"Track your points and redeem rewards",availablePoints:"Available Points",totalEarned:"Total Earned",totalSpent:"Total Spent",history:"Points History",historyDesc:"Your complete points transaction history",noPointsYet:"No points yet",noPointsDesc:"Enroll in courses to start earning points",redeemPoints:"Redeem Points",redeemDesc:"Courses available for redemption",noRedeemable:"No courses available for redemption",available:"Available",types:{registration:"Registration",attendance:"Attendance",redemption:"Redemption"}},admin:{dashboard:"Admin Dashboard",managePlatform:"Manage your learning platform",totalStudents:"Total Students",coursesCount:"Courses",enrollments:"Enrollments",pointsAwarded:"Points Awarded",quickActions:"Quick Actions",quickActionsDesc:"Use the sidebar to manage courses, batches, users, and more."},adminCourses:{title:"Courses",subtitle:"Manage your course catalog",addCourse:"Add Course",noCourses:"No courses yet",noCoursesDesc:"Create your first course to get started",editCourse:"Edit Course",createCourse:"Create New Course",editDesc:"Update the course details below",createDesc:"Fill in the details to create a new course",courseTitle:"Title",description:"Description",totalHours:"Total Hours",sessionsCount:"Sessions Count",price:"Price",pointsReward:"Points Reward",pointsRequired:"Points Required",isActive:"Course is active",updateCourse:"Update Course",createCourseBtn:"Create Course",deleteCourse:"Delete Course",deleteConfirm:'Are you sure you want to delete "{title}"? This action cannot be undone.',courseUpdated:"Course updated successfully",courseCreated:"Course created successfully",courseDeleted:"Course deleted successfully",saveFailed:"Failed to save course",deleteFailed:"Failed to delete course. It may have associated enrollments.",loadFailed:"Failed to load courses",validationError:"Validation Error",titleRequired:"Course title is required"},validation:{emailInvalid:"Please enter a valid email address",passwordMin:"Password must be at least 6 characters"},comments:{title:"Comments & Ratings",noComments:"No comments yet. Be the first to comment!",addComment:"Add your comment",placeholder:"Write your review here...",rating:"Rating",submit:"Post Comment",loginToComment:"Please login to add a comment",mustEnroll:"You must be enrolled in this course to comment",success:"Comment added successfully",error:"Failed to add comment",viewDetails:"View Details"},profile:{title:"My Profile",subtitle:"Manage your personal information and settings",personalInfo:"Personal Information",personalInfoDesc:"Update your personal details",emailHint:"Email cannot be changed",accountStats:"Account Statistics",memberSince:"Member Since",accountType:"Account Type",student:"Student",admin:"Admin",security:"Security",securityDesc:"Manage your password and account security",changePassword:"Change Password",updateSuccess:"Profile updated",updateSuccessDesc:"Your profile has been updated successfully"},password:{current:"Current Password",new:"New Password",confirm:"Confirm New Password",mismatch:"Passwords don't match",mismatchDesc:"Please make sure your passwords match",incorrectCurrent:"Current password is incorrect",changeSuccess:"Password changed",changeSuccessDesc:"Your password has been updated successfully",changeTitle:"Change Password",changeDesc:"Update your password to keep your account secure",changeBtn:"Change Password",requirements:"Password must be at least 6 characters long",forgotTitle:"Forgot Password?",forgotDesc:"Enter your email to receive a password reset link",sendResetLink:"Send Reset Link",backToLogin:"Back to Login",resetEmailSent:"Reset email sent",resetEmailSentDesc:"Check your email for the password reset link",checkEmail:"Check your email",resetLinkSent:"We've sent a password reset link to",resetTitle:"Reset Password",resetDesc:"Enter your new password below",resetBtn:"Reset Password",resetSuccess:"Password reset successful",resetSuccessDesc:"You can now login with your new password",invalidLink:"Invalid reset link",invalidLinkDesc:"This link is invalid or has expired"},adminUsers:{subtitle:"Manage platform users and view their learning progress.",searchPlaceholder:"Search by name or email...",points:"Points",viewDetails:"View Details",startQuiz:"Start Final Quiz",userDetails:"User Details",pointsHistory:"Points History",activeCourses:"Currently Enrolled",completedCourses:"Completed Courses",noActive:"No active enrollments.",noCompleted:"No completed courses yet.",noHistory:"No points history."},adminBatches:{subtitle:"Manage learning batches and student groups."},adminStats:{subtitle:"View platform statistics and growth."},adminAttendance:{subtitle:"Track and manage student attendance.",selectBatch:"Select Batch",selectPlaceholder:"Choose a batch",addSession:"Add New Session",noBatches:"No active batches found.",noSessions:"No sessions found for this batch.",sessionTitle:"Session Title",sessionDate:"Session Date",markAttendance:"Mark Attendance",studentName:"Student Name",status:"Status",attended:"Attended",absent:"Absent",saveSuccess:"Attendance updated successfully.",saveError:"Failed to update attendance.",createSessionTitle:"Create Session",createSessionDesc:"Add a new session to this batch.",createBtn:"Create Session",sessionCreated:"Session created successfully.",sessionCreateError:"Failed to create session."},adminOffers:{subtitle:"Manage course discounts and promotional offers.",addOffer:"Add New Offer",noOffers:"No offers found",noOffersDesc:"Start by creating your first promotional offer.",course:"Course",discount:"Discount",originalPrice:"Original Price",offerPrice:"Offer Price",usage:"Usage",updateSuccess:"Offer updated successfully.",createSuccess:"Offer created successfully.",saveError:"Failed to save offer.",deleteSuccess:"Offer deleted successfully.",deleteError:"Failed to delete offer.",editTitle:"Edit Offer",createTitle:"Create New Offer",dialogDesc:"Set up a discount for an existing course.",selectCourse:"Select Course *",selectPlaceholder:"Select a course",courseHint:"Don't see your course? Create it in the Courses page first.",discountLabel:"Discount (%)",maxStudents:"Max Students (Opt)",unlimited:"Unlimited",isActive:"Offer is active",updateBtn:"Update Offer",createBtn:"Create Offer",deleteTitle:"Delete Offer",deleteConfirm:"Are you sure you want to delete this offer? This will restore the course to its original price for all students.",noCourses:"No active courses available",mustCreateCourse:"You must create an active course first.",validationError:"Validation Error",selectCourseError:"Please select a course for the offer.",discountError:"Discount percentage must be greater than 0."}},OD={ar:RD,en:AD},nx=e=>e==="ar",l1=h.createContext(void 0),sx="learnhub-language";function ID({children:e}){const[t,r]=h.useState(()=>localStorage.getItem(sx)||"ar"),n=o=>{r(o),localStorage.setItem(sx,o)};h.useEffect(()=>{const o=document.documentElement;o.lang=t,o.dir=nx(t)?"rtl":"ltr"},[t]);const s={language:t,setLanguage:n,t:OD[t],dir:nx(t)?"rtl":"ltr"};return a.jsx(l1.Provider,{value:s,children:e})}function Oe(){const e=h.useContext(l1);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const DD={theme:"system",setTheme:()=>null},c1=h.createContext(DD);function LD({children:e,defaultTheme:t="system",storageKey:r="learnhub-theme",...n}){const[s,o]=h.useState(()=>localStorage.getItem(r)||t);h.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const i={theme:s,setTheme:l=>{localStorage.setItem(r,l),o(l)}};return a.jsx(c1.Provider,{...n,value:i,children:e})}const $D=()=>{const e=h.useContext(c1);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Gm=Qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[#164e78] text-primary-foreground ",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?fk:"button";return a.jsx(i,{className:W(Gm({variant:t,size:r,className:e})),ref:o,...s})});Z.displayName="Button";function Il(){const{language:e,setLanguage:t}=Oe(),r=()=>{t(e==="ar"?"en":"ar")};return a.jsx(Z,{variant:"ghost",size:"sm",onClick:r,className:"gap-2 text-muted-foreground hover:text-foreground",children:a.jsx(hT,{className:"w-4 h-4"})})}function u1(){const{theme:e,setTheme:t}=$D(),r=()=>{t(e==="light"?"dark":"light")};return a.jsxs(Z,{variant:"ghost",size:"icon",onClick:r,className:"relative","aria-label":"Toggle theme",children:[a.jsx(_T,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(yT,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}function MD(e){return Object.prototype.toString.call(e)==="[object Object]"}function ox(e){return MD(e)||Array.isArray(e)}function FD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ym(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==o?!1:r.every(i=>{const l=e[i],c=t[i];return typeof l=="function"?`${l}`==`${c}`:!ox(l)||!ox(c)?l===c:Ym(l,c)})}function ix(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function UD(e,t){if(e.length!==t.length)return!1;const r=ix(e),n=ix(t);return r.every((s,o)=>{const i=n[o];return Ym(s,i)})}function Qm(e){return typeof e=="number"}function sp(e){return typeof e=="string"}function dd(e){return typeof e=="boolean"}function ax(e){return Object.prototype.toString.call(e)==="[object Object]"}function We(e){return Math.abs(e)}function Zm(e){return Math.sign(e)}function Aa(e,t){return We(e-t)}function zD(e,t){if(e===0||t===0||We(e)<=We(t))return 0;const r=Aa(We(e),We(t));return We(r/e)}function BD(e){return Math.round(e*100)/100}function dl(e){return fl(e).map(Number)}function Br(e){return e[Dl(e)]}function Dl(e){return Math.max(0,e.length-1)}function Jm(e,t){return t===Dl(e)}function lx(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function fl(e){return Object.keys(e)}function d1(e,t){return[e,t].reduce((r,n)=>(fl(n).forEach(s=>{const o=r[s],i=n[s],l=ax(o)&&ax(i);r[s]=l?d1(o,i):i}),r),{})}function op(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function VD(e,t){const r={start:n,center:s,end:o};function n(){return 0}function s(c){return o(c)/2}function o(c){return t-c}function i(c,u){return sp(e)?r[e](c):e(t,c,u)}return{measure:i}}function hl(){let e=[];function t(s,o,i,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(o,i,l),c=()=>s.removeEventListener(o,i,l);else{const u=s;u.addListener(i),c=()=>u.removeListener(i)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function qD(e,t,r,n){const s=hl(),o=1e3/60;let i=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&b()})}function d(){m(),s.clear()}function f(x){if(!c)return;i||(i=x,r(),r());const v=x-i;for(i=x,l+=v;l>=o;)r(),l-=o;const y=l/o;n(y),c&&(c=t.requestAnimationFrame(f))}function g(){c||(c=t.requestAnimationFrame(f))}function m(){t.cancelAnimationFrame(c),i=null,l=0,c=0}function b(){i=null,l=0}return{init:u,destroy:d,start:g,stop:m,update:r,render:n}}function WD(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",o=n?"x":"y",i=!n&&r?-1:1,l=d(),c=f();function u(b){const{height:p,width:x}=b;return n?p:x}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function g(b){return b*i}return{scroll:s,cross:o,startEdge:l,endEdge:c,measureSize:u,direction:g}}function io(e=0,t=0){const r=We(e-t);function n(u){return u<e}function s(u){return u>t}function o(u){return n(u)||s(u)}function i(u){return o(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:i,reachedAny:o,reachedMax:s,reachedMin:n,removeOffset:l}}function f1(e,t,r){const{constrain:n}=io(0,e),s=e+1;let o=i(t);function i(g){return r?We((s+g)%s):n(g)}function l(){return o}function c(g){return o=i(g),f}function u(g){return d().set(l()+g)}function d(){return f1(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function HD(e,t,r,n,s,o,i,l,c,u,d,f,g,m,b,p,x,v,y){const{cross:w,direction:_}=e,C=["INPUT","SELECT","TEXTAREA"],j={passive:!1},S=hl(),E=hl(),N=io(50,225).constrain(m.measure(20)),k={mouse:300,touch:400},T={mouse:500,touch:600},R=b?43:25;let q=!1,D=0,G=0,O=!1,B=!1,P=!1,A=!1;function U($){if(!y)return;function me(Be){(dd(y)||y($,Be))&&Ae(Be)}const we=t;S.add(we,"dragstart",Be=>Be.preventDefault(),j).add(we,"touchmove",()=>{},j).add(we,"touchend",()=>{}).add(we,"touchstart",me).add(we,"mousedown",me).add(we,"touchcancel",ue).add(we,"contextmenu",ue).add(we,"click",Ce,!0)}function J(){S.clear(),E.clear()}function K(){const $=A?r:t;E.add($,"touchmove",z,j).add($,"touchend",ue).add($,"mousemove",z,j).add($,"mouseup",ue)}function ie($){const me=$.nodeName||"";return C.includes(me)}function se(){return(b?T:k)[A?"mouse":"touch"]}function Te($,me){const we=f.add(Zm($)*-1),Be=d.byDistance($,!b).distance;return b||We($)<N?Be:x&&me?Be*.5:d.byIndex(we.get(),0).distance}function Ae($){const me=op($,n);A=me,P=b&&me&&!$.buttons&&q,q=Aa(s.get(),i.get())>=2,!(me&&$.button!==0)&&(ie($.target)||(O=!0,o.pointerDown($),u.useFriction(0).useDuration(0),s.set(i),K(),D=o.readPoint($),G=o.readPoint($,w),g.emit("pointerDown")))}function z($){if(!op($,n)&&$.touches.length>=2)return ue($);const we=o.readPoint($),Be=o.readPoint($,w),lt=Aa(we,D),mt=Aa(Be,G);if(!B&&!A&&(!$.cancelable||(B=lt>mt,!B)))return ue($);const Jt=o.pointerMove($);lt>p&&(P=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(_(Jt)),$.preventDefault()}function ue($){const we=d.byDistance(0,!1).index!==f.get(),Be=o.pointerUp($)*se(),lt=Te(_(Be),we),mt=zD(Be,lt),Jt=R-10*mt,It=v+mt/50;B=!1,O=!1,E.clear(),u.useDuration(Jt).useFriction(It),c.distance(lt,!b),A=!1,g.emit("pointerUp")}function Ce($){P&&($.stopPropagation(),$.preventDefault(),P=!1)}function de(){return O}return{init:U,destroy:J,pointerDown:de}}function KD(e,t){let n,s;function o(f){return f.timeStamp}function i(f,g){const b=`client${(g||e.scroll)==="x"?"X":"Y"}`;return(op(f,t)?f:f.touches[0])[b]}function l(f){return n=f,s=f,i(f)}function c(f){const g=i(f)-i(s),m=o(f)-o(n)>170;return s=f,m&&(n=f),g}function u(f){if(!n||!s)return 0;const g=i(s)-i(n),m=o(f)-o(n),b=o(f)-o(s)>170,p=g/m;return m&&!b&&We(p)>.1?p:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:i}}function GD(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:o,offsetHeight:i}=r;return{top:n,right:s+o,bottom:n+i,left:s,width:o,height:i}}return{measure:e}}function YD(e){function t(n){return e*(n/100)}return{measure:t}}function QD(e,t,r,n,s,o,i){const l=[e].concat(n);let c,u,d=[],f=!1;function g(x){return s.measureSize(i.measure(x))}function m(x){if(!o)return;u=g(e),d=n.map(g);function v(y){for(const w of y){if(f)return;const _=w.target===e,C=n.indexOf(w.target),j=_?u:d[C],S=g(_?e:n[C]);if(We(S-j)>=.5){x.reInit(),t.emit("resize");break}}}c=new ResizeObserver(y=>{(dd(o)||o(x,y))&&v(y)}),r.requestAnimationFrame(()=>{l.forEach(y=>c.observe(y))})}function b(){f=!0,c&&c.disconnect()}return{init:m,destroy:b}}function ZD(e,t,r,n,s,o){let i=0,l=0,c=s,u=o,d=e.get(),f=0;function g(){const j=n.get()-e.get(),S=!c;let E=0;return S?(i=0,r.set(n),e.set(n),E=j):(r.set(e),i+=j/c,i*=u,d+=i,e.add(i),E=d-f),l=Zm(E),f=d,C}function m(){const j=n.get()-t.get();return We(j)<.001}function b(){return c}function p(){return l}function x(){return i}function v(){return w(s)}function y(){return _(o)}function w(j){return c=j,C}function _(j){return u=j,C}const C={direction:p,duration:b,velocity:x,seek:g,settled:m,useBaseFriction:y,useBaseDuration:v,useFriction:_,useDuration:w};return C}function JD(e,t,r,n,s){const o=s.measure(10),i=s.measure(50),l=io(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(m){if(!u())return;const b=e.reachedMin(t.get())?"min":"max",p=We(e[b]-t.get()),x=r.get()-t.get(),v=l.constrain(p/i);r.subtract(x*v),!m&&We(x)<o&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:f}}function XD(e,t,r,n,s){const o=io(-t+e,0),i=f(),l=d(),c=g();function u(b,p){return Aa(b,p)<=1}function d(){const b=i[0],p=Br(i),x=i.lastIndexOf(b),v=i.indexOf(p)+1;return io(x,v)}function f(){return r.map((b,p)=>{const{min:x,max:v}=o,y=o.constrain(b),w=!p,_=Jm(r,p);return w?v:_||u(x,y)?x:u(v,y)?v:y}).map(b=>parseFloat(b.toFixed(3)))}function g(){if(t<=e+s)return[o.max];if(n==="keepSnaps")return i;const{min:b,max:p}=l;return i.slice(b,p)}return{snapsContained:c,scrollContainLimit:l}}function e4(e,t,r){const n=t[0],s=r?n-e:Br(t);return{limit:io(s,n)}}function t4(e,t,r,n){const o=t.min+.1,i=t.max+.1,{reachedMin:l,reachedMax:c}=io(o,i);function u(g){return g===1?c(r.get()):g===-1?l(r.get()):!1}function d(g){if(!u(g))return;const m=e*(g*-1);n.forEach(b=>b.add(m))}return{loop:d}}function r4(e){const{max:t,length:r}=e;function n(o){const i=o-t;return r?i/-r:0}return{get:n}}function n4(e,t,r,n,s){const{startEdge:o,endEdge:i}=e,{groupSlides:l}=s,c=f().map(t.measure),u=g(),d=m();function f(){return l(n).map(p=>Br(p)[i]-p[0][o]).map(We)}function g(){return n.map(p=>r[o]-p[o]).map(p=>-We(p))}function m(){return l(u).map(p=>p[0]).map((p,x)=>p+c[x])}return{snaps:u,snapsAligned:d}}function s4(e,t,r,n,s,o){const{groupSlides:i}=s,{min:l,max:c}=n,u=d();function d(){const g=i(o),m=!e||t==="keepSnaps";return r.length===1?[o]:m?g:g.slice(l,c).map((b,p,x)=>{const v=!p,y=Jm(x,p);if(v){const w=Br(x[0])+1;return lx(w)}if(y){const w=Dl(o)-Br(x)[0]+1;return lx(w,Br(x)[0])}return b})}return{slideRegistry:u}}function o4(e,t,r,n,s){const{reachedAny:o,removeOffset:i,constrain:l}=n;function c(b){return b.concat().sort((p,x)=>We(p)-We(x))[0]}function u(b){const p=e?i(b):l(b),x=t.map((y,w)=>({diff:d(y-p,0),index:w})).sort((y,w)=>We(y.diff)-We(w.diff)),{index:v}=x[0];return{index:v,distance:p}}function d(b,p){const x=[b,b+r,b-r];if(!e)return b;if(!p)return c(x);const v=x.filter(y=>Zm(y)===p);return v.length?c(v):Br(x)-r}function f(b,p){const x=t[b]-s.get(),v=d(x,p);return{index:b,distance:v}}function g(b,p){const x=s.get()+b,{index:v,distance:y}=u(x),w=!e&&o(x);if(!p||w)return{index:v,distance:b};const _=t[v]-y,C=b+d(_,0);return{index:v,distance:C}}return{byDistance:g,byIndex:f,shortcut:d}}function i4(e,t,r,n,s,o,i){function l(f){const g=f.distance,m=f.index!==t.get();o.add(g),g&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(r.set(t.get()),t.set(f.index),i.emit("select"))}function c(f,g){const m=s.byDistance(f,g);l(m)}function u(f,g){const m=t.clone().set(f),b=s.byIndex(m.get(),g);l(b)}return{distance:c,index:u}}function a4(e,t,r,n,s,o,i,l){const c={passive:!0,capture:!0};let u=0;function d(m){if(!l)return;function b(p){if(new Date().getTime()-u>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const y=r.findIndex(w=>w.includes(p));Qm(y)&&(s.useDuration(0),n.index(y,0),i.emit("slideFocus"))}o.add(document,"keydown",f,!1),t.forEach((p,x)=>{o.add(p,"focus",v=>{(dd(l)||l(m,v))&&b(x)},c)})}function f(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function pa(e){let t=e;function r(){return t}function n(c){t=i(c)}function s(c){t+=i(c)}function o(c){t-=i(c)}function i(c){return Qm(c)?c:c.get()}return{get:r,set:n,add:s,subtract:o}}function h1(e,t){const r=e.scroll==="x"?i:l,n=t.style;let s=null,o=!1;function i(g){return`translate3d(${g}px,0px,0px)`}function l(g){return`translate3d(0px,${g}px,0px)`}function c(g){if(o)return;const m=BD(e.direction(g));m!==s&&(n.transform=r(m),s=m)}function u(g){o=!g}function d(){o||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function l4(e,t,r,n,s,o,i,l,c){const d=dl(s),f=dl(s).reverse(),g=v().concat(y());function m(S,E){return S.reduce((N,k)=>N-s[k],E)}function b(S,E){return S.reduce((N,k)=>m(N,E)>0?N.concat([k]):N,[])}function p(S){return o.map((E,N)=>({start:E-n[N]+.5+S,end:E+t-.5+S}))}function x(S,E,N){const k=p(E);return S.map(T=>{const R=N?0:-r,q=N?r:0,D=N?"end":"start",G=k[T][D];return{index:T,loopPoint:G,slideLocation:pa(-1),translate:h1(e,c[T]),target:()=>l.get()>G?R:q}})}function v(){const S=i[0],E=b(f,S);return x(E,r,!1)}function y(){const S=t-i[0]-1,E=b(d,S);return x(E,-r,!0)}function w(){return g.every(({index:S})=>{const E=d.filter(N=>N!==S);return m(E,t)<=.1})}function _(){g.forEach(S=>{const{target:E,translate:N,slideLocation:k}=S,T=E();T!==k.get()&&(N.to(T),k.set(T))})}function C(){g.forEach(S=>S.translate.clear())}return{canLoop:w,clear:C,loop:_,loopPoints:g}}function c4(e,t,r){let n,s=!1;function o(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(dd(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function i(){n&&n.disconnect(),s=!0}return{init:o,destroy:i}}function u4(e,t,r,n){const s={};let o=null,i=null,l,c=!1;function u(){l=new IntersectionObserver(b=>{c||(b.forEach(p=>{const x=t.indexOf(p.target);s[x]=p}),o=null,i=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(b=>l.observe(b))}function d(){l&&l.disconnect(),c=!0}function f(b){return fl(s).reduce((p,x)=>{const v=parseInt(x),{isIntersecting:y}=s[v];return(b&&y||!b&&!y)&&p.push(v),p},[])}function g(b=!0){if(b&&o)return o;if(!b&&i)return i;const p=f(b);return b&&(o=p),b||(i=p),p}return{init:u,destroy:d,get:g}}function d4(e,t,r,n,s,o){const{measureSize:i,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=b(),f=p(),g=r.map(i),m=x();function b(){if(!u)return 0;const y=r[0];return We(t[l]-y[l])}function p(){if(!u)return 0;const y=o.getComputedStyle(Br(n));return parseFloat(y.getPropertyValue(`margin-${c}`))}function x(){return r.map((y,w,_)=>{const C=!w,j=Jm(_,w);return C?g[w]+d:j?g[w]+f:_[w+1][l]-y[l]}).map(We)}return{slideSizes:g,slideSizesWithGaps:m,startGap:d,endGap:f}}function f4(e,t,r,n,s,o,i,l,c){const{startEdge:u,endEdge:d,direction:f}=e,g=Qm(r);function m(v,y){return dl(v).filter(w=>w%y===0).map(w=>v.slice(w,w+y))}function b(v){return v.length?dl(v).reduce((y,w,_)=>{const C=Br(y)||0,j=C===0,S=w===Dl(v),E=s[u]-o[C][u],N=s[u]-o[w][d],k=!n&&j?f(i):0,T=!n&&S?f(l):0,R=We(N-T-(E+k));return _&&R>t+c&&y.push(w),S&&y.push(v.length),y},[]).map((y,w,_)=>{const C=Math.max(_[w-1]||0);return v.slice(C,y)}):[]}function p(v){return g?m(v,r):b(v)}return{groupSlides:p}}function h4(e,t,r,n,s,o,i){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:g,dragFree:m,dragThreshold:b,inViewThreshold:p,slidesToScroll:x,skipSnaps:v,containScroll:y,watchResize:w,watchSlides:_,watchDrag:C,watchFocus:j}=o,S=2,E=GD(),N=E.measure(t),k=r.map(E.measure),T=WD(c,u),R=T.measureSize(N),q=YD(R),D=VD(l,R),G=!f&&!!y,O=f||!!y,{slideSizes:B,slideSizesWithGaps:P,startGap:A,endGap:U}=d4(T,N,k,r,O,s),J=f4(T,R,x,f,N,k,A,U,S),{snaps:K,snapsAligned:ie}=n4(T,D,N,k,J),se=-Br(K)+Br(P),{snapsContained:Te,scrollContainLimit:Ae}=XD(R,se,ie,y,S),z=G?Te:ie,{limit:ue}=e4(se,z,f),Ce=f1(Dl(z),d,f),de=Ce.clone(),re=dl(r),$=({dragHandler:_r,scrollBody:Qi,scrollBounds:xo,options:{loop:Dn}})=>{Dn||xo.constrain(_r.pointerDown()),Qi.seek()},me=({scrollBody:_r,translate:Qi,location:xo,offsetLocation:Dn,previousLocation:Ln,scrollLooper:Ul,slideLooper:$n,dragHandler:Ad,animation:Od,eventHandler:Zi,scrollBounds:zl,options:{loop:Bl}},wo)=>{const Sr=_r.settled(),Id=!zl.shouldConstrain(),ce=Bl?Sr:Sr&&Id,Pe=ce&&!Ad.pointerDown();Pe&&Od.stop();const Ie=xo.get()*wo+Ln.get()*(1-wo);Dn.set(Ie),Bl&&(Ul.loop(_r.direction()),$n.loop()),Qi.to(Dn.get()),Pe&&Zi.emit("settle"),ce||Zi.emit("scroll")},we=qD(n,s,()=>$(Yi),_r=>me(Yi,_r)),Be=.68,lt=z[Ce.get()],mt=pa(lt),Jt=pa(lt),It=pa(lt),Gr=pa(lt),wr=ZD(mt,It,Jt,Gr,g,Be),yo=o4(f,z,se,ue,Gr),br=i4(we,Ce,de,wr,yo,Gr,i),Ml=r4(ue),Fl=hl(),qt=u4(t,r,i,p),{slideRegistry:pn}=s4(G,y,z,Ae,J,re),Rd=a4(e,r,pn,br,wr,Fl,i,j),Yi={ownerDocument:n,ownerWindow:s,eventHandler:i,containerRect:N,slideRects:k,animation:we,axis:T,dragHandler:HD(T,e,n,s,Gr,KD(T,s),mt,we,br,wr,yo,Ce,i,q,m,b,v,Be,C),eventStore:Fl,percentOfView:q,index:Ce,indexPrevious:de,limit:ue,location:mt,offsetLocation:It,previousLocation:Jt,options:o,resizeHandler:QD(t,i,s,r,T,w,E),scrollBody:wr,scrollBounds:JD(ue,It,Gr,wr,q),scrollLooper:t4(se,ue,It,[mt,It,Jt,Gr]),scrollProgress:Ml,scrollSnapList:z.map(Ml.get),scrollSnaps:z,scrollTarget:yo,scrollTo:br,slideLooper:l4(T,R,se,B,P,K,z,It,r),slideFocus:Rd,slidesHandler:c4(t,i,_),slidesInView:qt,slideIndexes:re,slideRegistry:pn,slidesToScroll:J,target:Gr,translate:h1(T,t)};return Yi}function p4(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function o(u,d){return e[u]=n(u).concat([d]),c}function i(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:i,on:o,clear:l};return c}const m4={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function g4(e){function t(o,i){return d1(o,i||{})}function r(o){const i=o.breakpoints||{},l=fl(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,u)=>t(c,u),{});return t(o,l)}function n(o){return o.map(i=>fl(i.breakpoints||{})).reduce((i,l)=>i.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function v4(e){let t=[];function r(o,i){return t=i.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(o,e)),i.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(o=>o.destroy())}return{init:r,destroy:n}}function wu(e,t,r){const n=e.ownerDocument,s=n.defaultView,o=g4(s),i=v4(o),l=hl(),c=p4(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:g,off:m,emit:b}=c,p=T;let x=!1,v,y=u(m4,wu.globalOptions),w=u(y),_=[],C,j,S;function E(){const{container:re,slides:$}=w;j=(sp(re)?e.querySelector(re):re)||e.children[0];const we=sp($)?j.querySelectorAll($):$;S=[].slice.call(we||j.children)}function N(re){const $=h4(e,j,S,n,s,re,c);if(re.loop&&!$.slideLooper.canLoop()){const me=Object.assign({},re,{loop:!1});return N(me)}return $}function k(re,$){x||(y=u(y,re),w=d(y),_=$||_,E(),v=N(w),f([y,..._.map(({options:me})=>me)]).forEach(me=>l.add(me,"change",T)),w.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(de),v.eventHandler.init(de),v.resizeHandler.init(de),v.slidesHandler.init(de),v.options.loop&&v.slideLooper.loop(),j.offsetParent&&S.length&&v.dragHandler.init(de),C=i.init(de,_)))}function T(re,$){const me=J();R(),k(u({startIndex:me},re),$),c.emit("reInit")}function R(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),i.destroy(),l.clear()}function q(){x||(x=!0,l.clear(),R(),c.emit("destroy"),c.clear())}function D(re,$,me){!w.active||x||(v.scrollBody.useBaseFriction().useDuration($===!0?0:w.duration),v.scrollTo.index(re,me||0))}function G(re){const $=v.index.add(1).get();D($,re,-1)}function O(re){const $=v.index.add(-1).get();D($,re,1)}function B(){return v.index.add(1).get()!==J()}function P(){return v.index.add(-1).get()!==J()}function A(){return v.scrollSnapList}function U(){return v.scrollProgress.get(v.offsetLocation.get())}function J(){return v.index.get()}function K(){return v.indexPrevious.get()}function ie(){return v.slidesInView.get()}function se(){return v.slidesInView.get(!1)}function Te(){return C}function Ae(){return v}function z(){return e}function ue(){return j}function Ce(){return S}const de={canScrollNext:B,canScrollPrev:P,containerNode:ue,internalEngine:Ae,destroy:q,off:m,on:g,emit:b,plugins:Te,previousScrollSnap:K,reInit:p,rootNode:z,scrollNext:G,scrollPrev:O,scrollProgress:U,scrollSnapList:A,scrollTo:D,selectedScrollSnap:J,slideNodes:Ce,slidesInView:ie,slidesNotInView:se};return k(t,r),setTimeout(()=>c.emit("init"),0),de}wu.globalOptions=void 0;function Xm(e={},t=[]){const r=h.useRef(e),n=h.useRef(t),[s,o]=h.useState(),[i,l]=h.useState(),c=h.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return h.useEffect(()=>{Ym(r.current,e)||(r.current=e,c())},[e,c]),h.useEffect(()=>{UD(n.current,t)||(n.current=t,c())},[t,c]),h.useEffect(()=>{if(FD()&&i){wu.globalOptions=Xm.globalOptions;const u=wu(i,r.current,n.current);return o(u),()=>u.destroy()}else o(void 0)},[i,o]),[l,s]}Xm.globalOptions=void 0;const p1=h.createContext(null);function fd(){const e=h.useContext(p1);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const m1=h.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:o,...i},l)=>{const[c,u]=Xm({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=h.useState(!1),[g,m]=h.useState(!1),b=h.useCallback(y=>{y&&(f(y.canScrollPrev()),m(y.canScrollNext()))},[]),p=h.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=h.useCallback(()=>{u==null||u.scrollNext()},[u]),v=h.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),p()):y.key==="ArrowRight"&&(y.preventDefault(),x())},[p,x]);return h.useEffect(()=>{!u||!r||r(u)},[u,r]),h.useEffect(()=>{if(u)return b(u),u.on("reInit",b),u.on("select",b),()=>{u==null||u.off("select",b)}},[u,b]),a.jsx(p1.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:p,scrollNext:x,canScrollPrev:d,canScrollNext:g},children:a.jsx("div",{ref:l,onKeyDownCapture:v,className:W("relative",s),role:"region","aria-roledescription":"carousel",...i,children:o})})});m1.displayName="Carousel";const g1=h.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=fd();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:W("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});g1.displayName="CarouselContent";const v1=h.forwardRef(({className:e,...t},r)=>{const{orientation:n}=fd();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:W("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});v1.displayName="CarouselItem";const y1=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:o,scrollPrev:i,canScrollPrev:l}=fd();return a.jsxs(Z,{ref:s,variant:t,size:r,className:W("absolute h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[a.jsx(bi,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});y1.displayName="CarouselPrevious";const x1=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:o,scrollNext:i,canScrollNext:l}=fd();return a.jsxs(Z,{ref:s,variant:t,size:r,className:W("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[a.jsx(Pl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});x1.displayName="CarouselNext";const y4={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function x4(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function w4(e,t){const r=e.rootNode();return t&&t(r)||r}function eg(e={}){let t,r,n,s,o=null,i=0,l=!1,c=!1,u=!1,d=!1;function f(D,G){r=D;const{mergeOptions:O,optionsAtMedia:B}=G,P=O(y4,eg.globalOptions),A=O(P,e);if(t=B(A),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=x4(r,t.delay);const{eventStore:U,ownerDocument:J}=r.internalEngine(),K=!!r.internalEngine().options.watchDrag,ie=w4(r,t.rootNode);U.add(J,"visibilitychange",v),K&&r.on("pointerDown",w),K&&!t.stopOnInteraction&&r.on("pointerUp",_),t.stopOnMouseEnter&&U.add(ie,"mouseenter",C),t.stopOnMouseEnter&&!t.stopOnInteraction&&U.add(ie,"mouseleave",j),t.stopOnFocusIn&&r.on("slideFocusStart",x),t.stopOnFocusIn&&!t.stopOnInteraction&&U.add(r.containerNode(),"focusout",p),t.playOnInit&&p()}function g(){r.off("pointerDown",w).off("pointerUp",_).off("slideFocusStart",x),x(),n=!0,l=!1}function m(){const{ownerWindow:D}=r.internalEngine();D.clearTimeout(i),i=D.setTimeout(T,s[r.selectedScrollSnap()]),o=new Date().getTime(),r.emit("autoplay:timerset")}function b(){const{ownerWindow:D}=r.internalEngine();D.clearTimeout(i),i=0,o=null,r.emit("autoplay:timerstopped")}function p(){if(!n){if(y()){u=!0;return}l||r.emit("autoplay:play"),m(),l=!0}}function x(){n||(l&&r.emit("autoplay:stop"),b(),l=!1)}function v(){if(y())return u=l,x();u&&p()}function y(){const{ownerDocument:D}=r.internalEngine();return D.visibilityState==="hidden"}function w(){c||x()}function _(){c||p()}function C(){c=!0,x()}function j(){c=!1,p()}function S(D){typeof D<"u"&&(d=D),p()}function E(){l&&x()}function N(){l&&p()}function k(){return l}function T(){const{index:D}=r.internalEngine(),G=D.clone().add(1).get(),O=r.scrollSnapList().length-1,B=t.stopOnLastSnap&&G===O;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),B)return x();p()}function R(){if(!o)return null;const D=s[r.selectedScrollSnap()],G=new Date().getTime()-o;return D-G}return{name:"autoplay",options:e,init:f,destroy:g,play:S,stop:E,reset:N,isPlaying:k,timeUntilNext:R}}eg.globalOptions=void 0;const b4="/Devixa/assets/course-web-Bssg4Uzm.png",_4="/Devixa/assets/course-mobile-BVGYaRar.png",S4="/Devixa/assets/course-UIUX-EUwCeP4V.png",j4="/Devixa/assets/logo1-DlUmSVZI.png",C4="/Devixa/assets/logo2-SANk74Wn.png";function N4(){const{user:e,isAdmin:t}=Vt(),{t:r,dir:n,language:s}=Oe(),o=n==="rtl"?bi:Pl,i=[{title:s==="ar"?"  ":"Web Development",subtitle:s==="ar"?"    ":"Start your journey in the world of programming",description:s==="ar"?"            .":"Learn to build complete web applications from scratch to professional level using latest global technologies.",image:b4,gradient:"from-blue-600/20 to-cyan-600/20"},{title:s==="ar"?"  ":"Mobile App Development",subtitle:s==="ar"?"  ":"Design your favorite apps",description:s==="ar"?"      Android  iOS    .":"Master smart phone app development for Android and iOS using modern programming languages.",image:_4,gradient:"from-purple-600/20 to-pink-600/20"},{title:"UI/UX Designer",subtitle:s==="ar"?"   ":"Design Beauty & Ease of Use",description:s==="ar"?"           .":"Learn the art of UI/UX design to create stunning and engaging digital products.",image:S4,gradient:"from-emerald-600/20 to-teal-600/20"},{title:s==="ar"?" ICDL ":"Full ICDL Course",subtitle:s==="ar"?"  ":"Master Computer Skills",description:s==="ar"?"           .":"Gain essential computer and office software skills with an internationally recognized certificate.",image:"/images/hero.png",gradient:"from-amber-600/20 to-orange-600/20"}],l=[{icon:At,title:r.landing.features.premiumCourses,description:r.landing.features.premiumCoursesDesc,gradient:"from-blue-500 to-cyan-500"},{icon:ft,title:r.landing.features.earnPoints,description:r.landing.features.earnPointsDesc,gradient:"from-amber-400 to-orange-500"},{icon:qr,title:r.landing.features.joinBatches,description:r.landing.features.joinBatchesDesc,gradient:"from-purple-500 to-pink-500"}],c=[{title:s==="ar"?"  ":"Full Stack Web Development",category:s==="ar"?" ":"Web Development",image:"/images/course-web.png"},{title:s==="ar"?"  ":"Mobile App Development",category:s==="ar"?" ":"Mobile Development",image:"/images/course-mobile.png"},{title:s==="ar"?" ":"Artificial Intelligence",category:s==="ar"?" ":"Data Science",image:"/images/course-ai.png"}],[u,d]=h.useState(),[f,g]=h.useState(0);return h.useEffect(()=>{u&&(g(u.selectedScrollSnap()),u.on("select",()=>{g(u.selectedScrollSnap())}))},[u]),a.jsxs("div",{className:"min-h-screen bg-background",dir:n,children:[a.jsx("nav",{className:"fixed top-0 w-full z-50 glass-gooey transition-all duration-500 pt-2",children:a.jsxs("div",{className:"container mx-auto px-6 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 group cursor-pointer",children:a.jsxs(xt,{to:"/",children:[a.jsx("img",{src:C4,alt:"Devixa Logo",className:"h-24 w-auto object-contain hover:scale-105 transition-transform block md:hidden"}),a.jsx("img",{src:j4,alt:"Devixa Logo",className:"h-32 w-44 object-contain hover:scale-105 transition-transform hidden md:block"})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(u1,{}),a.jsx(Il,{}),e?a.jsx(xt,{to:t?"/admin":"/dashboard",children:a.jsx(Z,{variant:"default",className:"rounded-full px-6 shadow-glow",children:r.landing.goToDashboard})}):a.jsx(xt,{to:"/auth",children:a.jsx(Z,{variant:"default",className:"rounded-full px-6 shadow-glow",children:r.common.signIn})})]})]})}),a.jsx("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden bg-background",children:a.jsxs(m1,{setApi:d,className:"w-full h-full pt-20",opts:{align:"start",loop:!0,direction:n},plugins:[eg({delay:3e3,stopOnInteraction:!1})],children:[a.jsx(g1,{className:"h-full",children:i.map((m,b)=>a.jsx(v1,{className:"basis-full h-full",children:a.jsxs("div",{className:"container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center min-h-[75vh] py-10 relative",children:[a.jsx("div",{className:W("absolute -z-10 w-full h-full blur-[120px] opacity-20",m.gradient)}),a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass border-primary/20 text-primary font-semibold text-sm animate-bounce shadow-glow",children:r.landing.firstTwoFree}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-display font-bold text-accent uppercase tracking-wider",children:m.subtitle}),a.jsx("h1",{className:"text-5xl lg:text-[4.5rem] font-display font-black leading-[1.1] tracking-tight text-foreground",children:m.title})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-lg leading-relaxed",children:m.description}),a.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[a.jsx(xt,{to:"/auth?signup=true",children:a.jsxs(Z,{size:"lg",className:"rounded-full px-8 text-lg h-14 shadow-glow group gradient-primary border-none text-white transition-all hover:scale-105",children:[r.landing.registerNow,a.jsx(o,{className:"w-5 h-5 ms-2 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(xt,{to:"/courses",children:a.jsxs(Z,{size:"lg",variant:"outline",className:"rounded-full px-8 text-lg h-14 glass text-foreground border-border/40 hover:bg-accent/10 transition-all hover:scale-105",children:[a.jsx(xT,{className:"w-5 h-5 me-2 fill-primary text-primary"}),r.landing.startLearning]})})]})]}),a.jsxs("div",{className:"relative animate-float block",children:[a.jsx("div",{className:"absolute -inset-10 bg-primary/20 blur-[100px] rounded-full animate-pulse"}),a.jsxs("div",{className:"relative rounded-[2.5rem] overflow-hidden border border-white/20 shadow-2xl glass-dark group aspect-[16/10]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity"}),a.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"}),a.jsx("div",{className:"absolute bottom-6 left-6 right-6 p-6 glass rounded-2xl border-white/10 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500",children:a.jsx("p",{className:"text-white text-sm font-medium",children:r.landing.joinPlatformDesc})})]})]})]})},b))}),a.jsx("div",{className:"absolute inset-y-0 left-4 lg:left-8 flex items-center z-30",children:a.jsx(y1,{className:"static h-12 w-12 rounded-full border-border bg-background/50 text-foreground hover:bg-accent/20 transition-all hover:scale-110 shadow-lg"})}),a.jsx("div",{className:"absolute inset-y-0 right-4 lg:right-8 flex items-center z-30",children:a.jsx(x1,{className:"static h-12 w-12 rounded-full border-border bg-background/50 text-foreground hover:bg-accent/20 transition-all hover:scale-110 shadow-lg"})}),a.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-3 z-30",children:i.map((m,b)=>a.jsx("button",{onClick:()=>u==null?void 0:u.scrollTo(b),className:W("w-3 h-3 rounded-full transition-all duration-300",f===b?"bg-primary w-8 shadow-glow":"bg-primary/20 hover:bg-primary/40"),"aria-label":`Go to slide ${b+1}`},b))})]})}),a.jsx("section",{className:"py-24 bg-secondary/10 min-h-screen",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-4xl font-display font-bold",children:r.landing.featuredCourses}),a.jsx("p",{className:"text-muted-foreground max-w-md",children:r.landing.featuredCoursesDesc})]}),a.jsx(xt,{to:"/courses",children:a.jsxs(Z,{variant:"link",className:"text-primary font-bold gap-2 text-lg",children:[r.common.viewAll," ",a.jsx(o,{className:"w-5 h-5"})]})})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((m,b)=>a.jsxs("div",{className:"group relative bg-card rounded-3xl overflow-hidden shadow-lg hover-lift hover-glow border border-transparent",style:{animationDelay:`${b*100}ms`},children:[a.jsx("div",{className:"h-52 overflow-hidden",children:a.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),a.jsxs("div",{className:"p-8 space-y-4",children:[a.jsx("div",{className:"text-sm font-bold text-primary uppercase tracking-wider",children:m.category}),a.jsx("h3",{className:"text-2xl font-display font-bold",children:m.title}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs(Z,{variant:"ghost",className:"p-0 h-auto hover:bg-transparent text-muted-foreground group-hover:text-primary transition-colors",children:[a.jsx(uT,{className:"w-4 h-4 me-2"}),r.landing.getMaterials]}),a.jsx(xt,{to:"/courses",children:a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-all",children:a.jsx(bm,{className:`w-5 h-5 ${n==="rtl"?"rotate-180":""}`})})})]})]})]},b))})]})}),a.jsx("section",{className:"py-32 relative overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-20 space-y-4",children:[a.jsx("div",{className:"text-primary font-bold tracking-widest uppercase text-sm",children:r.landing.features.premiumCourses}),a.jsxs("h2",{className:"text-4xl md:text-5xl font-display font-bold",children:[" ",r.common.brandName2]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:l.map((m,b)=>a.jsxs("div",{className:"relative p-10 rounded-3xl glass hover-glow transition-all group animate-slide-up",style:{animationDelay:`${b*150}ms`},children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${m.gradient} flex items-center justify-center mb-8 shadow-lg group-hover:rotate-6 transition-transform`,children:a.jsx(m.icon,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-2xl font-display font-bold mb-4",children:m.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg",children:m.description}),a.jsxs("div",{className:"absolute top-6 right-6 text-primary/10 font-display font-black text-6xl group-hover:text-primary/20 transition-colors",children:["0",b+1]})]},b))})]})}),a.jsx("section",{className:"container mx-auto px-6 py-20",children:a.jsxs("div",{className:"relative rounded-[3rem] overflow-hidden gradient-hero p-12 md:p-24 text-center text-white",children:[a.jsx("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm"}),a.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto space-y-8 animate-scale-in",children:[a.jsx(ym,{className:"w-16 h-16 mx-auto opacity-80"}),a.jsx("h2",{className:"text-4xl md:text-6xl font-display font-black leading-tight",children:r.landing.joinPlatform}),a.jsx("p",{className:"text-xl text-white/80",children:r.landing.joinPlatformDesc}),a.jsx("div",{className:"pt-4",children:a.jsx(xt,{to:"/auth?signup=true",children:a.jsx(Z,{size:"lg",variant:"secondary",className:"rounded-full px-12 text-xl h-16 font-bold shadow-2xl hover:scale-105 transition-transform",children:r.landing.registerNow})})})]})]})}),a.jsx("footer",{className:"py-12 border-t border-border/40",children:a.jsxs("div",{className:"container mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(au,{className:"w-6 h-6 text-primary"}),a.jsx("span",{className:"font-display font-bold text-xl",children:r.common.brandName})]}),a.jsxs("div",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," ",r.common.brandName,". ",r.auth.copyright]})]})})]})}const Fe=h.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Fe.displayName="Input";var E4="Label",w1=h.forwardRef((e,t)=>a.jsx(te.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));w1.displayName=E4;var b1=w1;const k4=Qu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),be=h.forwardRef(({className:e,...t},r)=>a.jsx(b1,{ref:r,className:W(k4(),e),...t}));be.displayName=b1.displayName;const Se=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Se.displayName="Card";const nt=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:W("flex flex-col space-y-1.5 p-6",e),...t}));nt.displayName="CardHeader";const st=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));st.displayName="CardTitle";const Ot=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:W("text-sm text-muted-foreground",e),...t}));Ot.displayName="CardDescription";const ke=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:W("p-6 pt-0",e),...t}));ke.displayName="CardContent";const T4=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:W("flex items-center p-6 pt-0",e),...t}));T4.displayName="CardFooter";var Ee;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of o)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ee||(Ee={}));var cx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(cx||(cx={}));const X=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gn=e=>{switch(typeof e){case"undefined":return X.undefined;case"string":return X.string;case"number":return Number.isNaN(e)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(e)?X.array:e===null?X.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?X.promise:typeof Map<"u"&&e instanceof Map?X.map:typeof Set<"u"&&e instanceof Set?X.set:typeof Date<"u"&&e instanceof Date?X.date:X.object;default:return X.unknown}},F=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof dn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}dn.create=e=>new dn(e);const ip=(e,t)=>{let r;switch(e.code){case F.invalid_type:e.received===X.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case F.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ee.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(e.keys,", ")}`;break;case F.invalid_union:r="Invalid input";break;case F.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(e.options)}`;break;case F.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(e.options)}, received '${e.received}'`;break;case F.invalid_arguments:r="Invalid function arguments";break;case F.invalid_return_type:r="Invalid function return type";break;case F.invalid_date:r="Invalid date";break;case F.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ee.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case F.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case F.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case F.custom:r="Invalid input";break;case F.invalid_intersection_types:r="Intersection results could not be merged";break;case F.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case F.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ee.assertNever(e)}return{message:r}};let P4=ip;function R4(){return P4}const A4=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...s,path:o,message:l}};function H(e,t){const r=R4(),n=A4({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ip?void 0:ip].filter(s=>!!s)});e.common.issues.push(n)}class lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return fe;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return lr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return fe;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const fe=Object.freeze({status:"aborted"}),ma=e=>({status:"dirty",value:e}),yr=e=>({status:"valid",value:e}),ux=e=>e.status==="aborted",dx=e=>e.status==="dirty",Ci=e=>e.status==="valid",bu=e=>typeof Promise<"u"&&e instanceof Promise;var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ee||(ee={}));class _s{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fx=(e,t)=>{if(Ci(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new dn(e.common.issues);return this._error=r,this._error}}};function ye(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class je{get description(){return this._def.description}_getType(t){return Gn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Gn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new lr,ctx:{common:t.parent.common,data:t.data,parsedType:Gn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(bu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gn(t)},s=this._parseSync({data:t,path:n.path,parent:n});return fx(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gn(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return Ci(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(s=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>Ci(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gn(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(bu(s)?s:Promise.resolve(s));return fx(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),l=()=>o.addIssue({code:F.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ei({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return gs.create(this,this._def)}nullable(){return ki.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return an.create(this)}promise(){return Cu.create(this,this._def)}or(t){return Su.create([this,t],this._def)}and(t){return ju.create(this,t,this._def)}transform(t){return new Ei({...ye(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new lp({...ye(this._def),innerType:this,defaultValue:r,typeName:he.ZodDefault})}brand(){return new tL({typeName:he.ZodBranded,type:this,...ye(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new cp({...ye(this._def),innerType:this,catchValue:r,typeName:he.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return tg.create(this,t)}readonly(){return up.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const O4=/^c[^\s-]{8,}$/i,I4=/^[0-9a-z]+$/,D4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,L4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$4=/^[a-z0-9_-]{21}$/i,M4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,F4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,z4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nf;const B4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",G4=new RegExp(`^${_1}$`);function S1(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Y4(e){return new RegExp(`^${S1(e)}$`)}function Q4(e){let t=`${_1}T${S1(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Z4(e,t){return!!((t==="v4"||!t)&&B4.test(e)||(t==="v6"||!t)&&q4.test(e))}function J4(e,t){if(!M4.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function X4(e,t){return!!((t==="v4"||!t)&&V4.test(e)||(t==="v6"||!t)&&W4.test(e))}class is extends je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==X.string){const o=this._getOrReturnCtx(t);return H(o,{code:F.invalid_type,expected:X.string,received:o.parsedType}),fe}const n=new lr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),H(s,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),H(s,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?H(s,{code:F.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&H(s,{code:F.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")U4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"email",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Nf||(Nf=new RegExp(z4,"u")),Nf.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"emoji",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")L4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"uuid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")$4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"nanoid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")O4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"cuid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")I4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"cuid2",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")D4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"ulid",code:F.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),H(s,{validation:"url",code:F.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"regex",code:F.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),H(s,{code:F.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),H(s,{code:F.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),H(s,{code:F.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Q4(o).test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{code:F.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?G4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{code:F.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?Y4(o).test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{code:F.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?F4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"duration",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?Z4(t.data,o.version)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"ip",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?J4(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"jwt",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?X4(t.data,o.version)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"cidr",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?H4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"base64",code:F.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?K4.test(t.data)||(s=this._getOrReturnCtx(t,s),H(s,{validation:"base64url",code:F.invalid_string,message:o.message}),n.dirty()):Ee.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:F.invalid_string,...ee.errToObj(n)})}_addCheck(t){return new is({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ee.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ee.errToObj(r)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new is({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new is({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new is({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}is.create=e=>new is({checks:[],typeName:he.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ye(e)});function eL(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}class pl extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==X.number){const o=this._getOrReturnCtx(t);return H(o,{code:F.invalid_type,expected:X.number,received:o.parsedType}),fe}let n;const s=new lr;for(const o of this._def.checks)o.kind==="int"?Ee.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),H(n,{code:F.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?eL(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),H(n,{code:F.not_finite,message:o.message}),s.dirty()):Ee.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,s){return new pl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(s)}]})}_addCheck(t){return new pl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ee.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}pl.create=e=>new pl({checks:[],typeName:he.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ye(e)});class ml extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==X.bigint)return this._getInvalidInput(t);let n;const s=new lr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),H(n,{code:F.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ee.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return H(r,{code:F.invalid_type,expected:X.bigint,received:r.parsedType}),fe}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,s){return new ml({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(s)}]})}_addCheck(t){return new ml({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ml.create=e=>new ml({checks:[],typeName:he.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ye(e)});class hx extends je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==X.boolean){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:X.boolean,received:n.parsedType}),fe}return yr(t.data)}}hx.create=e=>new hx({typeName:he.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ye(e)});class _u extends je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==X.date){const o=this._getOrReturnCtx(t);return H(o,{code:F.invalid_type,expected:X.date,received:o.parsedType}),fe}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return H(o,{code:F.invalid_date}),fe}const n=new lr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),H(s,{code:F.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),H(s,{code:F.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ee.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _u({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}_u.create=e=>new _u({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:he.ZodDate,...ye(e)});class px extends je{_parse(t){if(this._getType(t)!==X.symbol){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:X.symbol,received:n.parsedType}),fe}return yr(t.data)}}px.create=e=>new px({typeName:he.ZodSymbol,...ye(e)});class mx extends je{_parse(t){if(this._getType(t)!==X.undefined){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:X.undefined,received:n.parsedType}),fe}return yr(t.data)}}mx.create=e=>new mx({typeName:he.ZodUndefined,...ye(e)});class gx extends je{_parse(t){if(this._getType(t)!==X.null){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:X.null,received:n.parsedType}),fe}return yr(t.data)}}gx.create=e=>new gx({typeName:he.ZodNull,...ye(e)});class vx extends je{constructor(){super(...arguments),this._any=!0}_parse(t){return yr(t.data)}}vx.create=e=>new vx({typeName:he.ZodAny,...ye(e)});class yx extends je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yr(t.data)}}yx.create=e=>new yx({typeName:he.ZodUnknown,...ye(e)});class Ss extends je{_parse(t){const r=this._getOrReturnCtx(t);return H(r,{code:F.invalid_type,expected:X.never,received:r.parsedType}),fe}}Ss.create=e=>new Ss({typeName:he.ZodNever,...ye(e)});class xx extends je{_parse(t){if(this._getType(t)!==X.undefined){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:X.void,received:n.parsedType}),fe}return yr(t.data)}}xx.create=e=>new xx({typeName:he.ZodVoid,...ye(e)});class an extends je{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==X.array)return H(r,{code:F.invalid_type,expected:X.array,received:r.parsedType}),fe;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(H(r,{code:i?F.too_big:F.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(H(r,{code:F.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(H(r,{code:F.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new _s(r,i,r.path,l)))).then(i=>lr.mergeArray(n,i));const o=[...r.data].map((i,l)=>s.type._parseSync(new _s(r,i,r.path,l)));return lr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new an({...this._def,minLength:{value:t,message:ee.toString(r)}})}max(t,r){return new an({...this._def,maxLength:{value:t,message:ee.toString(r)}})}length(t,r){return new an({...this._def,exactLength:{value:t,message:ee.toString(r)}})}nonempty(t){return this.min(1,t)}}an.create=(e,t)=>new an({type:e,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...ye(t)});function Do(e){if(e instanceof Je){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=gs.create(Do(n))}return new Je({...e._def,shape:()=>t})}else return e instanceof an?new an({...e._def,type:Do(e.element)}):e instanceof gs?gs.create(Do(e.unwrap())):e instanceof ki?ki.create(Do(e.unwrap())):e instanceof ao?ao.create(e.items.map(t=>Do(t))):e}class Je extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ee.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==X.object){const u=this._getOrReturnCtx(t);return H(u,{code:F.invalid_type,expected:X.object,received:u.parsedType}),fe}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ss&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=o[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new _s(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ss){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(H(s,{code:F.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new _s(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,g=await d.value;u.push({key:f,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>lr.mergeObjectSync(n,u)):lr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new Je({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,i;const s=((i=(o=this._def).errorMap)==null?void 0:i.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ee.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(t){return new Je({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Je({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:he.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Je({...this._def,catchall:t})}pick(t){const r={};for(const n of Ee.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Je({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ee.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Je({...this._def,shape:()=>r})}deepPartial(){return Do(this)}partial(t){const r={};for(const n of Ee.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Je({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ee.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof gs;)o=o._def.innerType;r[n]=o}return new Je({...this._def,shape:()=>r})}keyof(){return j1(Ee.objectKeys(this.shape))}}Je.create=(e,t)=>new Je({shape:()=>e,unknownKeys:"strip",catchall:Ss.create(),typeName:he.ZodObject,...ye(t)});Je.strictCreate=(e,t)=>new Je({shape:()=>e,unknownKeys:"strict",catchall:Ss.create(),typeName:he.ZodObject,...ye(t)});Je.lazycreate=(e,t)=>new Je({shape:e,unknownKeys:"strip",catchall:Ss.create(),typeName:he.ZodObject,...ye(t)});class Su extends je{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new dn(l.ctx.common.issues));return H(r,{code:F.invalid_union,unionErrors:i}),fe}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new dn(c));return H(r,{code:F.invalid_union,unionErrors:l}),fe}}get options(){return this._def.options}}Su.create=(e,t)=>new Su({options:e,typeName:he.ZodUnion,...ye(t)});function ap(e,t){const r=Gn(e),n=Gn(t);if(e===t)return{valid:!0,data:e};if(r===X.object&&n===X.object){const s=Ee.objectKeys(t),o=Ee.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=ap(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===X.array&&n===X.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=ap(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===X.date&&n===X.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ju extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(ux(o)||ux(i))return fe;const l=ap(o.value,i.value);return l.valid?((dx(o)||dx(i))&&r.dirty(),{status:r.value,value:l.data}):(H(n,{code:F.invalid_intersection_types}),fe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ju.create=(e,t,r)=>new ju({left:e,right:t,typeName:he.ZodIntersection,...ye(r)});class ao extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.array)return H(n,{code:F.invalid_type,expected:X.array,received:n.parsedType}),fe;if(n.data.length<this._def.items.length)return H(n,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&n.data.length>this._def.items.length&&(H(n,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new _s(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>lr.mergeArray(r,i)):lr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new ao({...this._def,rest:t})}}ao.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ao({items:e,typeName:he.ZodTuple,rest:null,...ye(t)})};class wx extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.map)return H(n,{code:F.invalid_type,expected:X.map,received:n.parsedType}),fe;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new _s(n,l,n.path,[u,"key"])),value:o._parse(new _s(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return fe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return fe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}wx.create=(e,t,r)=>new wx({valueType:t,keyType:e,typeName:he.ZodMap,...ye(r)});class gl extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==X.set)return H(n,{code:F.invalid_type,expected:X.set,received:n.parsedType}),fe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(H(n,{code:F.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(H(n,{code:F.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return fe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>o._parse(new _s(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new gl({...this._def,minSize:{value:t,message:ee.toString(r)}})}max(t,r){return new gl({...this._def,maxSize:{value:t,message:ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}gl.create=(e,t)=>new gl({valueType:e,minSize:null,maxSize:null,typeName:he.ZodSet,...ye(t)});class bx extends je{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bx.create=(e,t)=>new bx({getter:e,typeName:he.ZodLazy,...ye(t)});class _x extends je{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return H(r,{received:r.data,code:F.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:t.data}}get value(){return this._def.value}}_x.create=(e,t)=>new _x({value:e,typeName:he.ZodLiteral,...ye(t)});function j1(e,t){return new Ni({values:e,typeName:he.ZodEnum,...ye(t)})}class Ni extends je{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return H(r,{expected:Ee.joinValues(n),received:r.parsedType,code:F.invalid_type}),fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return H(r,{received:r.data,code:F.invalid_enum_value,options:n}),fe}return yr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ni.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ni.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ni.create=j1;class Sx extends je{_parse(t){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==X.string&&n.parsedType!==X.number){const s=Ee.objectValues(r);return H(n,{expected:Ee.joinValues(s),received:n.parsedType,code:F.invalid_type}),fe}if(this._cache||(this._cache=new Set(Ee.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ee.objectValues(r);return H(n,{received:n.data,code:F.invalid_enum_value,options:s}),fe}return yr(t.data)}get enum(){return this._def.values}}Sx.create=(e,t)=>new Sx({values:e,typeName:he.ZodNativeEnum,...ye(t)});class Cu extends je{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==X.promise&&r.common.async===!1)return H(r,{code:F.invalid_type,expected:X.promise,received:r.parsedType}),fe;const n=r.parsedType===X.promise?r.data:Promise.resolve(r.data);return yr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cu.create=(e,t)=>new Cu({type:e,typeName:he.ZodPromise,...ye(t)});class Ei extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{H(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return fe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?fe:c.status==="dirty"||r.value==="dirty"?ma(c.value):c});{if(r.value==="aborted")return fe;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?fe:l.status==="dirty"||r.value==="dirty"?ma(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?fe:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?fe:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ci(i))return fe;const l=s.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Ci(i)?Promise.resolve(s.transform(i.value,o)).then(l=>({status:r.value,value:l})):fe);Ee.assertNever(s)}}Ei.create=(e,t,r)=>new Ei({schema:e,typeName:he.ZodEffects,effect:t,...ye(r)});Ei.createWithPreprocess=(e,t,r)=>new Ei({schema:t,effect:{type:"preprocess",transform:e},typeName:he.ZodEffects,...ye(r)});class gs extends je{_parse(t){return this._getType(t)===X.undefined?yr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gs.create=(e,t)=>new gs({innerType:e,typeName:he.ZodOptional,...ye(t)});class ki extends je{_parse(t){return this._getType(t)===X.null?yr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ki.create=(e,t)=>new ki({innerType:e,typeName:he.ZodNullable,...ye(t)});class lp extends je{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===X.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}lp.create=(e,t)=>new lp({innerType:e,typeName:he.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ye(t)});class cp extends je{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bu(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new dn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}cp.create=(e,t)=>new cp({innerType:e,typeName:he.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ye(t)});class jx extends je{_parse(t){if(this._getType(t)!==X.nan){const n=this._getOrReturnCtx(t);return H(n,{code:F.invalid_type,expected:X.nan,received:n.parsedType}),fe}return{status:"valid",value:t.data}}}jx.create=e=>new jx({typeName:he.ZodNaN,...ye(e)});class tL extends je{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class tg extends je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?fe:o.status==="dirty"?(r.dirty(),ma(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?fe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new tg({in:t,out:r,typeName:he.ZodPipeline})}}class up extends je{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Ci(s)&&(s.value=Object.freeze(s.value)),s);return bu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}up.create=(e,t)=>new up({innerType:e,typeName:he.ZodReadonly,...ye(t)});Je.lazycreate;var he;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(he||(he={}));const Ef=is.create;Ss.create;an.create;const rL=Je.create;Je.strictCreate;Su.create;ju.create;ao.create;Ni.create;Cu.create;gs.create;ki.create;function nL(){const{t:e,dir:t}=Oe(),[r,n]=h.useState(!0),[s,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(!1),[g,m]=h.useState({}),b=ks(),{user:p}=Vt(),{toast:x}=Zt(),v=rL({email:Ef().email(e.validation.emailInvalid).max(255),password:Ef().min(6,e.validation.passwordMin).max(100),fullName:Ef().max(100).optional()});h.useEffect(()=>{p&&b("/dashboard")},[p,b]);const y=()=>{try{return v.parse({email:s,password:i,fullName:r?void 0:c}),m({}),!0}catch(C){if(C instanceof dn){const j={};C.errors.forEach(S=>{S.path[0]&&(j[S.path[0]]=S.message)}),m(j)}return!1}},w=async C=>{if(C.preventDefault(),!!y()){f(!0);try{if(r){const{error:j}=await M.auth.signInWithPassword({email:s.trim(),password:i});if(j)throw j;x({title:e.auth.loginSuccess,description:e.auth.loginSuccessDesc})}else{const j=`${window.location.origin}/`,{error:S}=await M.auth.signUp({email:s.trim(),password:i,options:{emailRedirectTo:j,data:{full_name:c.trim()}}});if(S)throw S;x({title:e.auth.accountCreated,description:e.auth.accountCreatedDesc})}b("/dashboard")}catch(j){x({title:e.common.error,description:j.message||"An error occurred",variant:"destructive"})}finally{f(!1)}}},_=[{icon:At,text:e.auth.features.accessCourses},{icon:Ja,text:e.auth.features.earnPoints},{icon:Ub,text:e.auth.features.redeemRewards},{icon:qr,text:e.auth.features.joinBatches}];return a.jsxs("div",{className:"min-h-screen flex",dir:t,children:[a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-hero p-12 flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-display font-bold text-primary-foreground mb-2",children:"Devixa"}),a.jsx("p",{className:"text-primary-foreground/80 text-lg",children:e.auth.brandTagline})]}),a.jsx("div",{className:"space-y-6",children:_.map((C,j)=>a.jsxs("div",{className:"flex items-center gap-4 text-primary-foreground animate-slide-up",style:{animationDelay:`${j*100}ms`},children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/20 backdrop-blur flex items-center justify-center",children:a.jsx(C.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-lg font-medium",children:C.text})]},j))}),a.jsxs("p",{className:"text-primary-foreground/60 text-sm",children:[" ",new Date().getFullYear()," Devixa. ",e.auth.copyright,"."]})]}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx(Il,{})}),a.jsxs(Se,{className:"border-0 shadow-lg",children:[a.jsxs(nt,{className:"text-center pb-2",children:[a.jsx("div",{className:"lg:hidden mb-4",children:a.jsx("h1",{className:"text-2xl font-display font-bold text-primary",children:"Devixa"})}),a.jsx(st,{className:"text-2xl font-display",children:r?e.auth.welcomeBack:e.auth.createAccount}),a.jsx(Ot,{children:r?e.auth.loginDesc:e.auth.signupDesc})]}),a.jsxs(ke,{children:[a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!r&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"fullName",children:e.auth.fullName}),a.jsx(Fe,{id:"fullName",type:"text",placeholder:"John Doe",value:c,onChange:C=>u(C.target.value),className:g.fullName?"border-destructive":""}),g.fullName&&a.jsx("p",{className:"text-sm text-destructive",children:g.fullName})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"email",children:e.auth.email}),a.jsx(Fe,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:C=>o(C.target.value),className:g.email?"border-destructive":""}),g.email&&a.jsx("p",{className:"text-sm text-destructive",children:g.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"password",children:e.auth.password}),a.jsx(Fe,{id:"password",type:"password",placeholder:"",value:i,onChange:C=>l(C.target.value),className:g.password?"border-destructive":""}),g.password&&a.jsx("p",{className:"text-sm text-destructive",children:g.password}),r&&a.jsx("div",{className:"text-right",children:a.jsx(xt,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})})]}),a.jsx(Z,{type:"submit",className:"w-full gradient-primary hover:opacity-90 transition-opacity",disabled:d,children:d?e.auth.pleaseWait:r?e.common.signIn:e.common.signUp})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{type:"button",onClick:()=>{n(!r),m({})},className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:r?e.auth.noAccount:e.auth.hasAccount})})]})]})]})})]})}var kf=0;function rg(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cx()),document.body.insertAdjacentElement("beforeend",e[1]??Cx()),kf++,()=>{kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kf--}},[])}function Cx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tf="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",Nx={bubbles:!1,cancelable:!0},sL="FocusScope",hd=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=at(s),d=at(o),f=h.useRef(null),g=pe(t,p=>c(p)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:qn(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||qn(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&qn(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),h.useEffect(()=>{if(l){kx.add(m);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(Tf,Nx);l.addEventListener(Tf,u),l.dispatchEvent(v),v.defaultPrevented||(oL(uL(C1(l)),{select:!0}),document.activeElement===p&&qn(l))}return()=>{l.removeEventListener(Tf,u),setTimeout(()=>{const v=new CustomEvent(Pf,Nx);l.addEventListener(Pf,d),l.dispatchEvent(v),v.defaultPrevented||qn(p??document.body,{select:!0}),l.removeEventListener(Pf,d),kx.remove(m)},0)}}},[l,u,d,m]);const b=h.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const y=p.currentTarget,[w,_]=iL(y);w&&_?!p.shiftKey&&v===_?(p.preventDefault(),r&&qn(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),r&&qn(_,{select:!0})):v===y&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(te.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});hd.displayName=sL;function oL(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qn(n,{select:t}),document.activeElement!==r)return}function iL(e){const t=C1(e),r=Ex(t,e),n=Ex(t.reverse(),e);return[r,n]}function C1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ex(e,t){for(const r of e)if(!aL(r,{upTo:t}))return r}function aL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lL(e){return e instanceof HTMLInputElement&&"select"in e}function qn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&lL(e)&&t&&e.select()}}var kx=cL();function cL(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Tx(e,t),e.unshift(t)},remove(t){var r;e=Tx(e,t),(r=e[0])==null||r.resume()}}}function Tx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function uL(e){return e.filter(t=>t.tagName!=="A")}var dL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ko=new WeakMap,gc=new WeakMap,vc={},Rf=0,N1=function(e){return e&&(e.host||N1(e.parentNode))},fL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=N1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hL=function(e,t,r,n){var s=fL(t,Array.isArray(e)?e:[e]);vc[r]||(vc[r]=new WeakMap);var o=vc[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var m=g.getAttribute(n),b=m!==null&&m!=="false",p=(ko.get(g)||0)+1,x=(o.get(g)||0)+1;ko.set(g,p),o.set(g,x),i.push(g),p===1&&b&&gc.set(g,!0),x===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",g,v)}})};return d(t),l.clear(),Rf++,function(){i.forEach(function(f){var g=ko.get(f)-1,m=o.get(f)-1;ko.set(f,g),o.set(f,m),g||(gc.has(f)||f.removeAttribute(n),gc.delete(f)),m||f.removeAttribute(r)}),Rf--,Rf||(ko=new WeakMap,ko=new WeakMap,gc=new WeakMap,vc={})}},ng=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=dL(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),hL(n,s,r,"aria-hidden")):function(){return null}},Dc="right-scroll-bar-position",Lc="width-before-scroll-bar",pL="with-scroll-bars-hidden",mL="--removed-body-scroll-bar-size";function Af(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gL(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var vL=typeof window<"u"?h.useLayoutEffect:h.useEffect,Px=new WeakMap;function yL(e,t){var r=gL(null,function(n){return e.forEach(function(s){return Af(s,n)})});return vL(function(){var n=Px.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Af(l,null)}),o.forEach(function(l){s.has(l)||Af(l,i)})}Px.set(r,e)},[e]),r}function xL(e){return e}function wL(e,t){t===void 0&&(t=xL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function bL(e){e===void 0&&(e={});var t=wL(null);return t.options=tn({async:!0,ssr:!1},e),t}var E1=function(e){var t=e.sideCar,r=Ki(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,tn({},r))};E1.isSideCarExport=!0;function _L(e,t){return e.useMedium(t),E1}var k1=bL(),Of=function(){},pd=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Of,onWheelCapture:Of,onTouchMoveCapture:Of}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,g=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,_=Ki(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,j=yL([r,t]),S=tn(tn({},_),s);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:k1,removeScrollBar:u,shards:f,noRelative:m,noIsolation:b,inert:p,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:w}),i?h.cloneElement(h.Children.only(l),tn(tn({},S),{ref:j})):h.createElement(y,tn({},S,{className:c,ref:j}),l))});pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pd.classNames={fullWidth:Lc,zeroRight:Dc};var SL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SL();return t&&e.setAttribute("nonce",t),e}function CL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=jL())&&(CL(t,r),NL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kL=function(){var e=EL();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},T1=function(){var e=kL(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},TL={left:0,top:0,right:0,gap:0},If=function(e){return parseInt(e||"",10)||0},PL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[If(r),If(n),If(s)]},RL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TL;var t=PL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},AL=T1(),si="data-scroll-locked",OL=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(pL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(si,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Lc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dc," .").concat(Dc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(si,`] {
    `).concat(mL,": ").concat(l,`px;
  }
`)},Rx=function(){var e=parseInt(document.body.getAttribute(si)||"0",10);return isFinite(e)?e:0},IL=function(){h.useEffect(function(){return document.body.setAttribute(si,(Rx()+1).toString()),function(){var e=Rx()-1;e<=0?document.body.removeAttribute(si):document.body.setAttribute(si,e.toString())}},[])},DL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;IL();var o=h.useMemo(function(){return RL(s)},[s]);return h.createElement(AL,{styles:OL(o,!t,s,r?"":"!important")})},dp=!1;if(typeof window<"u")try{var yc=Object.defineProperty({},"passive",{get:function(){return dp=!0,!0}});window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{dp=!1}var To=dp?{passive:!1}:!1,LL=function(e){return e.tagName==="TEXTAREA"},P1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!LL(e)&&r[t]==="visible")},$L=function(e){return P1(e,"overflowY")},ML=function(e){return P1(e,"overflowX")},Ax=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=R1(e,n);if(s){var o=A1(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},FL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},UL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},R1=function(e,t){return e==="v"?$L(t):ML(t)},A1=function(e,t){return e==="v"?FL(t):UL(t)},zL=function(e,t){return e==="h"&&t==="rtl"?-1:1},BL=function(e,t,r,n,s){var o=zL(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,g=0;do{if(!l)break;var m=A1(e,l),b=m[0],p=m[1],x=m[2],v=p-x-o*b;(b||v)&&R1(e,l)&&(f+=v,g+=b);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(g)<1||!s))&&(u=!0),u},xc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ox=function(e){return[e.deltaX,e.deltaY]},Ix=function(e){return e&&"current"in e?e.current:e},VL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WL=0,Po=[];function HL(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(WL++)[0],o=h.useState(T1)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Q2([e.lockRef.current],(e.shards||[]).map(Ix),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=xc(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-v[0],_="deltaY"in p?p.deltaY:y[1]-v[1],C,j=p.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&j.type==="range")return!1;var E=Ax(S,j);if(!E)return!0;if(E?C=S:(C=S==="v"?"h":"v",E=Ax(S,j)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=C),!C)return!0;var N=n.current||C;return BL(N,x,p,N==="h"?w:_,!0)},[]),c=h.useCallback(function(p){var x=p;if(!(!Po.length||Po[Po.length-1]!==o)){var v="deltaY"in x?Ox(x):xc(x),y=t.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&VL(C.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(Ix).filter(Boolean).filter(function(C){return C.contains(x.target)}),_=w.length>0?l(x,w[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(p,x,v,y){var w={name:p,delta:x,target:v,should:y,shadowParent:KL(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=h.useCallback(function(p){r.current=xc(p),n.current=void 0},[]),f=h.useCallback(function(p){u(p.type,Ox(p),p.target,l(p,e.lockRef.current))},[]),g=h.useCallback(function(p){u(p.type,xc(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Po.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,To),document.addEventListener("touchmove",c,To),document.addEventListener("touchstart",d,To),function(){Po=Po.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,To),document.removeEventListener("touchmove",c,To),document.removeEventListener("touchstart",d,To)}},[]);var m=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:qL(s)}):null,m?h.createElement(DL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function KL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GL=_L(k1,HL);var md=h.forwardRef(function(e,t){return h.createElement(pd,tn({},e,{ref:t,sideCar:GL}))});md.classNames=pd.classNames;var gd="Popover",[O1,h3]=_t(gd,[Wi]),Ll=Wi(),[YL,Ts]=O1(gd),I1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Ll(t),c=h.useRef(null),[u,d]=h.useState(!1),[f,g]=ln({prop:n,defaultProp:s??!1,onChange:o,caller:gd});return a.jsx(w_,{...l,children:a.jsx(YL,{scope:t,contentId:jn(),triggerRef:c,open:f,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(m=>!m),[g]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};I1.displayName=gd;var D1="PopoverAnchor",QL=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ts(D1,r),o=Ll(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(rd,{...o,...n,ref:t})});QL.displayName=D1;var L1="PopoverTrigger",$1=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ts(L1,r),o=Ll(r),i=pe(t,s.triggerRef),l=a.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B1(s.open),...n,ref:i,onClick:Y(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(rd,{asChild:!0,...o,children:l})});$1.displayName=L1;var sg="PopoverPortal",[ZL,JL]=O1(sg,{forceMount:void 0}),M1=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Ts(sg,t);return a.jsx(ZL,{scope:t,forceMount:r,children:a.jsx(Bt,{present:r||o.open,children:a.jsx(kl,{asChild:!0,container:s,children:n})})})};M1.displayName=sg;var Ti="PopoverContent",F1=h.forwardRef((e,t)=>{const r=JL(Ti,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Ts(Ti,e.__scopePopover);return a.jsx(Bt,{present:n||o.open,children:o.modal?a.jsx(e$,{...s,ref:t}):a.jsx(t$,{...s,ref:t})})});F1.displayName=Ti;var XL=so("PopoverContent.RemoveScroll"),e$=h.forwardRef((e,t)=>{const r=Ts(Ti,e.__scopePopover),n=h.useRef(null),s=pe(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return ng(i)},[]),a.jsx(md,{as:XL,allowPinchZoom:!0,children:a.jsx(U1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Y(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),t$=h.forwardRef((e,t)=>{const r=Ts(Ti,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(U1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),U1=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,g=Ts(Ti,r),m=Ll(r);return rg(),a.jsx(hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(zi,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(Im,{"data-state":B1(g.open),role:"dialog",id:g.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),z1="PopoverClose",r$=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ts(z1,r);return a.jsx(te.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});r$.displayName=z1;var n$="PopoverArrow",s$=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ll(r);return a.jsx(Dm,{...s,...n,ref:t})});s$.displayName=n$;function B1(e){return e?"open":"closed"}var o$=I1,i$=$1,a$=M1,V1=F1;const l$=o$,c$=i$,q1=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(a$,{children:a.jsx(V1,{ref:s,align:t,sideOffset:r,className:W("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));q1.displayName=V1.displayName;var u$=h.createContext(void 0);function vd(e){const t=h.useContext(u$);return e||t||"ltr"}function fp(e,[t,r]){return Math.min(r,Math.max(t,e))}function d$(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var og="ScrollArea",[W1,p3]=_t(og),[f$,xr]=W1(og),H1=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[u,d]=h.useState(null),[f,g]=h.useState(null),[m,b]=h.useState(null),[p,x]=h.useState(null),[v,y]=h.useState(0),[w,_]=h.useState(0),[C,j]=h.useState(!1),[S,E]=h.useState(!1),N=pe(t,T=>c(T)),k=vd(s);return a.jsx(f$,{scope:r,type:n,dir:k,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:g,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:_,children:a.jsx(te.div,{dir:k,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});H1.displayName=og;var K1="ScrollAreaViewport",G1=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=xr(K1,r),l=h.useRef(null),c=pe(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(te.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});G1.displayName=K1;var hn="ScrollAreaScrollbar",ig=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(hn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(h$,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(p$,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(Y1,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(ag,{...n,ref:t}):null});ig.displayName=hn;var h$=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(hn,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Bt,{present:r||o,children:a.jsx(Y1,{"data-state":o?"visible":"hidden",...n,ref:t})})}),p$=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(hn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=xd(()=>c("SCROLL_END"),100),[l,c]=d$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const g=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,o,c,i]),a.jsx(Bt,{present:r||l!=="hidden",children:a.jsx(ag,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Y(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Y(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Y1=h.forwardRef((e,t)=>{const r=xr(hn,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=xd(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Pi(r.viewport,c),Pi(r.content,c),a.jsx(Bt,{present:n||o,children:a.jsx(ag,{"data-state":o?"visible":"hidden",...s,ref:t})})}),ag=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=xr(hn,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=eS(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function f(g,m){return w$(g,i.current,l,m)}return r==="horizontal"?a.jsx(m$,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,m=Dx(g,l,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=f(g,s.dir))}}):r==="vertical"?a.jsx(g$,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,m=Dx(g,l);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=f(g))}}):null}),m$=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=xr(hn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=pe(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Z1,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const g=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(g),rS(g,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Eu(i.paddingLeft),paddingEnd:Eu(i.paddingRight)}})}})}),g$=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=xr(hn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=pe(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Z1,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const g=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(g),rS(g,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Eu(i.paddingTop),paddingEnd:Eu(i.paddingBottom)}})}})}),[v$,Q1]=W1(hn),Z1=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...g}=e,m=xr(hn,r),[b,p]=h.useState(null),x=pe(t,N=>p(N)),v=h.useRef(null),y=h.useRef(""),w=m.viewport,_=n.content-n.viewport,C=at(d),j=at(c),S=xd(f,10);function E(N){if(v.current){const k=N.clientX-v.current.left,T=N.clientY-v.current.top;u({x:k,y:T})}}return h.useEffect(()=>{const N=k=>{const T=k.target;(b==null?void 0:b.contains(T))&&C(k,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,b,_,C]),h.useEffect(j,[n,j]),Pi(b,S),Pi(m.content,S),a.jsx(v$,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:at(o),onThumbPointerUp:at(i),onThumbPositionChange:j,onThumbPointerDown:at(l),children:a.jsx(te.div,{...g,ref:x,style:{position:"absolute",...g.style},onPointerDown:Y(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),v.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:Y(e.onPointerMove,E),onPointerUp:Y(e.onPointerUp,N=>{const k=N.target;k.hasPointerCapture(N.pointerId)&&k.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Nu="ScrollAreaThumb",J1=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Q1(Nu,e.__scopeScrollArea);return a.jsx(Bt,{present:r||s.hasThumb,children:a.jsx(y$,{ref:t,...n})})}),y$=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=xr(Nu,r),i=Q1(Nu,r),{onThumbPositionChange:l}=i,c=pe(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=xd(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const g=()=>{if(d(),!u.current){const m=b$(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,d,l]),a.jsx(te.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Y(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),b=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:b,y:p})}),onPointerUp:Y(e.onPointerUp,i.onThumbPointerUp)})});J1.displayName=Nu;var lg="ScrollAreaCorner",X1=h.forwardRef((e,t)=>{const r=xr(lg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(x$,{...e,ref:t}):null});X1.displayName=lg;var x$=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=xr(lg,r),[o,i]=h.useState(0),[l,c]=h.useState(0),u=!!(o&&l);return Pi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Pi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?a.jsx(te.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Eu(e){return e?parseInt(e,10):0}function eS(e,t){const r=e/t;return isNaN(r)?0:r}function yd(e){const t=eS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function w$(e,t,r,n="ltr"){const s=yd(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return tS([c,u],f)(e)}function Dx(e,t,r="ltr"){const n=yd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=fp(e,c);return tS([0,i],[0,l])(u)}function tS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function rS(e,t){return e>0&&e<t}var b$=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function xd(e,t){const r=at(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Pi(e,t){const r=at(t);et(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var nS=H1,_$=G1,S$=X1;const cg=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(nS,{ref:n,className:W("relative overflow-hidden",e),...r,children:[a.jsx(_$,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(sS,{}),a.jsx(S$,{})]}));cg.displayName=nS.displayName;const sS=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(ig,{ref:n,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(J1,{className:"relative flex-1 rounded-full bg-border"})}));sS.displayName=ig.displayName;const j$=()=>{const{dir:e}=Oe(),{user:t}=Vt(),r=e==="rtl",[n,s]=h.useState([]),[o,i]=h.useState(0),[l,c]=h.useState(!1);h.useEffect(()=>{t&&u()},[t]);const u=async()=>{if(!t)return;const{data:m,error:b}=await M.from("notification_recipients").select(`
        id,
        notification_id,
        is_read,
        created_at,
        notifications (
          id,
          title,
          message,
          created_at
        )
      `).eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);!b&&m&&(s(m),i(m.filter(p=>!p.is_read).length))},d=async m=>{await M.from("notification_recipients").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",m),s(b=>b.map(p=>p.id===m?{...p,is_read:!0}:p)),i(b=>Math.max(0,b-1))},f=async()=>{t&&(await M.from("notification_recipients").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",t.id).eq("is_read",!1),s(m=>m.map(b=>({...b,is_read:!0}))),i(0))},g=m=>{const b=new Date(m),x=new Date().getTime()-b.getTime(),v=Math.floor(x/(1e3*60*60*24)),y=Math.floor(x/(1e3*60*60)),w=Math.floor(x/(1e3*60));return w<60?r?` ${w} `:`${w}m ago`:y<24?r?` ${y} `:`${y}h ago`:r?` ${v} `:`${v}d ago`};return t?a.jsxs(l$,{open:l,onOpenChange:c,children:[a.jsx(c$,{asChild:!0,children:a.jsxs(Z,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(xm,{className:"h-5 w-5"}),o>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center",children:o>9?"9+":o})]})}),a.jsxs(q1,{className:"w-80 p-0",align:r?"start":"end",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsx("h4",{className:"font-semibold",children:r?"":"Notifications"}),o>0&&a.jsx(Z,{variant:"ghost",size:"sm",onClick:f,className:"text-xs h-auto py-1",children:r?"  ":"Mark all read"})]}),a.jsx(cg,{className:"h-[300px]",children:n.length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:r?"  ":"No notifications"}):a.jsx("div",{className:"divide-y",children:n.map(m=>{var b,p;return a.jsx("div",{className:W("p-3 cursor-pointer hover:bg-muted/50 transition-colors",!m.is_read&&"bg-primary/5"),onClick:()=>!m.is_read&&d(m.id),children:a.jsxs("div",{className:"flex items-start gap-2",children:[!m.is_read&&a.jsx("span",{className:"mt-1.5 h-2 w-2 rounded-full bg-primary flex-shrink-0"}),a.jsxs("div",{className:W("flex-1",m.is_read&&"ms-4"),children:[a.jsx("h5",{className:"font-medium text-sm",children:(b=m.notifications)==null?void 0:b.title}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-0.5",children:(p=m.notifications)==null?void 0:p.message}),a.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:g(m.created_at)})]})]})},m.id)})})})]})]}):null};function He({children:e}){var p,x;const{profile:t,isAdmin:r,signOut:n}=Vt(),{t:s,dir:o}=Oe(),i=vo(),l=ks(),[c,u]=h.useState(!1),d=async()=>{await n(),l("/auth")},f=[{icon:ty,label:s.nav.dashboard,path:"/dashboard"},{icon:At,label:s.nav.courses,path:"/courses"},{icon:pT,label:s.nav.myCourses,path:"/my-courses"},{icon:Ta,label:s.nav.offers,path:"/offers"},{icon:ft,label:s.nav.myPoints,path:"/points"},{icon:aT,label:s.nav.profile,path:"/profile"}],g=[{icon:ty,label:s.nav.dashboard,path:"/admin"},{icon:qr,label:s.nav.users,path:"/admin/users"},{icon:At,label:s.nav.courses,path:"/admin/courses"},{icon:au,label:s.nav.batches,path:"/admin/batches"},{icon:_i,label:s.nav.attendance,path:"/admin/attendance"},{icon:Ta,label:s.nav.offers,path:"/admin/offers"},{icon:xm,label:s.nav.notifications,path:"/admin/notifications"},{icon:nT,label:s.nav.statistics,path:"/admin/stats"}],m=r?g:f,b=v=>i.pathname===v;return a.jsxs("div",{className:"min-h-screen flex w-full bg-background",dir:o,children:[c&&a.jsx("div",{className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>u(!1)}),a.jsx("aside",{className:W("fixed lg:static inset-y-0 z-50 w-64 bg-card border-border transform transition-transform duration-300 ease-in-out lg:transform-none",o==="rtl"?"right-0 border-l":"left-0 border-r",c?"translate-x-0":o==="rtl"?"translate-x-full lg:translate-x-0":"-translate-x-full lg:translate-x-0"),children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(xt,{to:r?"/admin":"/dashboard",className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:a.jsx(au,{className:"w-6 h-6 text-primary-foreground"})}),a.jsx("span",{className:"text-xl font-display font-bold",children:s.common.brandName})]}),a.jsx("button",{onClick:()=>u(!1),className:"lg:hidden p-2 hover:bg-muted rounded-lg",children:a.jsx(Sm,{className:"w-5 h-5"})})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:m.map(v=>a.jsxs(xt,{to:v.path,onClick:()=>u(!1),className:W("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200",b(v.path)?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[a.jsx(v.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:v.label})]},v.path))}),a.jsxs("div",{className:"p-4 border-t border-border",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-muted rounded-lg mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden gradient-accent flex items-center justify-center shrink-0",children:t!=null&&t.avatar_url?a.jsx("img",{src:t.avatar_url,alt:t.full_name||"User",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-accent-foreground font-bold text-sm",children:((x=(p=t==null?void 0:t.full_name)==null?void 0:p.charAt(0))==null?void 0:x.toUpperCase())||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:(t==null?void 0:t.full_name)||"User"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t==null?void 0:t.email})]})]}),!r&&a.jsx("div",{className:"px-4 py-2 mb-3 bg-accent/10 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{className:"w-4 h-4 text-accent"}),a.jsxs("span",{className:"text-sm font-medium",children:[(t==null?void 0:t.total_points)||0," ",s.common.points]})]})}),a.jsxs(Z,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:d,children:[a.jsx(mT,{className:"w-5 h-5 me-3"}),s.common.signOut]})]})]})}),a.jsxs("main",{className:"flex-1 flex flex-col min-h-screen",children:[a.jsxs("header",{className:"sticky top-0 z-30 h-16 bg-card/80 backdrop-blur-md border-b border-border flex items-center px-4 lg:px-8",children:[a.jsx("button",{onClick:()=>u(!0),className:"lg:hidden p-2 hover:bg-muted rounded-lg me-4",children:a.jsx(gT,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex-1"}),a.jsx(u1,{}),a.jsx(j$,{}),a.jsx(Il,{})]}),a.jsx("div",{className:"flex-1 p-4 lg:p-8",children:e})]})]})}var ug="Progress",dg=100,[C$,m3]=_t(ug),[N$,E$]=C$(ug),oS=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=k$,...i}=e;(s||s===0)&&!Lx(s)&&console.error(T$(`${s}`,"Progress"));const l=Lx(s)?s:dg;n!==null&&!$x(n,l)&&console.error(P$(`${n}`,"Progress"));const c=$x(n,l)?n:null,u=ku(c)?o(c,l):void 0;return a.jsx(N$,{scope:r,value:c,max:l,children:a.jsx(te.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ku(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":lS(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});oS.displayName=ug;var iS="ProgressIndicator",aS=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=E$(iS,r);return a.jsx(te.div,{"data-state":lS(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});aS.displayName=iS;function k$(e,t){return`${Math.round(e/t*100)}%`}function lS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ku(e){return typeof e=="number"}function Lx(e){return ku(e)&&!isNaN(e)&&e>0}function $x(e,t){return ku(e)&&!isNaN(e)&&e<=t&&e>=0}function T$(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${dg}\`.`}function P$(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${dg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cS=oS,R$=aS;const Tu=h.forwardRef(({className:e,value:t,...r},n)=>a.jsx(cS,{ref:n,className:W("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(R$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Tu.displayName=cS.displayName;function A$(){var p;const{user:e,profile:t,isAdmin:r}=Vt(),{t:n,dir:s,language:o}=Oe(),[i,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState(!0),g=s==="rtl"?bi:Pl;h.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{const{data:x}=await M.from("enrollments").select(`
          id,
          progress_percentage,
          enrolled_at,
          course:courses(id, title, description, total_hours, sessions_count),
          batch:batches(id, name, start_date, telegram_group_link)
        `).eq("user_id",e.id).order("enrolled_at",{ascending:!1});x&&l(x);const{data:v}=await M.from("points_history").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);v&&u(v)}catch(x){console.error("Error fetching dashboard data:",x)}finally{f(!1)}},b=[{icon:At,label:n.dashboard.enrolledCourses,value:i.length,color:"text-primary",bg:"bg-primary/10"},{icon:ft,label:n.dashboard.totalPoints,value:(t==null?void 0:t.total_points)||0,color:"text-accent",bg:"bg-accent/10"},{icon:Ja,label:n.dashboard.completed,value:i.filter(x=>x.progress_percentage===100).length,color:"text-success",bg:"bg-success/10"}];return d?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-pulse text-muted-foreground",children:n.common.loading})})}):a.jsx(He,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"animate-fade-in flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-display font-bold mb-2 flex items-center gap-2",children:[n.dashboard.welcomeBack,"",r?a.jsxs("span",{className:"relative inline-block group",children:[a.jsx("span",{className:"absolute -inset-1 bg-accent/20 blur-xl rounded-full animate-pulse transition-all duration-500 group-hover:bg-accent/40 group-hover:blur-2xl"}),a.jsx("span",{className:"relative bg-clip-text text-transparent bg-gradient-to-r from-accent via-white to-accent bg-[length:200%_auto] animate-shimmer font-[900] drop-shadow-[0_0_15px_rgba(251,191,36,0.6)] tracking-tight",children:"Admin!"})]}):a.jsxs("span",{children:[((p=t==null?void 0:t.full_name)==null?void 0:p.split(" ")[0])||"Student","!"]})]}),a.jsx("p",{className:"text-muted-foreground",children:n.dashboard.trackProgress})]}),!r&&(t==null?void 0:t.student_level)&&a.jsxs("div",{className:"flex items-center gap-3 bg-card/40 backdrop-blur-md border border-border/50 p-4 rounded-2xl shadow-glow",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(t==null?void 0:t.student_level)==="advanced"?"bg-amber-500/20 text-amber-500":(t==null?void 0:t.student_level)==="intermediate"?"bg-blue-500/20 text-blue-500":"bg-slate-500/20 text-slate-500"}`,children:a.jsx(Ja,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:n.common.level}),a.jsx("p",{className:`font-bold text-lg ${(t==null?void 0:t.student_level)==="advanced"?"text-amber-500":(t==null?void 0:t.student_level)==="intermediate"?"text-blue-500":"text-slate-500"}`,children:(t==null?void 0:t.student_level)==="advanced"?n.common.advanced:(t==null?void 0:t.student_level)==="intermediate"?n.common.intermediate:n.common.beginner})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-slide-up",children:b.map((x,v)=>a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${x.bg} flex items-center justify-center`,children:a.jsx(x.icon,{className:`w-6 h-6 ${x.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-display font-bold",children:x.value}),a.jsx("p",{className:"text-sm text-muted-foreground",children:x.label})]})]})})},v))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-display font-bold",children:n.dashboard.myCourses}),a.jsx(xt,{to:"/courses",children:a.jsxs(Z,{variant:"ghost",size:"sm",children:[n.common.viewAll," ",a.jsx(g,{className:"w-4 h-4 ms-2"})]})})]}),i.length===0?a.jsx(Se,{className:"border-0 shadow-md",children:a.jsxs(ke,{className:"p-8 text-center",children:[a.jsx(At,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:n.dashboard.noCoursesYet}),a.jsx("p",{className:"text-muted-foreground mb-4",children:n.dashboard.noCoursesDesc}),a.jsx(xt,{to:"/courses",children:a.jsx(Z,{children:n.dashboard.browseCourses})})]})}):a.jsx("div",{className:"space-y-4",children:i.slice(0,3).map(x=>a.jsx(Se,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:a.jsx(ke,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg mb-1",children:x.course.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:x.course.description}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[x.batch&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qr,{className:"w-4 h-4"}),x.batch.name]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_i,{className:"w-4 h-4"}),x.course.sessions_count," ",n.common.sessions]})]})]}),a.jsxs("div",{className:"w-full md:w-32",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:n.dashboard.progress}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.progress_percentage,"%"]})]}),a.jsx(Tu,{value:x.progress_percentage,className:"h-2"})]})]})})},x.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-display font-bold",children:n.dashboard.recentPoints}),a.jsx(xt,{to:"/points",children:a.jsxs(Z,{variant:"ghost",size:"sm",children:[n.common.viewAll," ",a.jsx(g,{className:"w-4 h-4 ms-2"})]})})]}),a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-4",children:c.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ft,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:n.dashboard.noPointsYet})]}):a.jsx("div",{className:"space-y-3",children:c.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:x.description}),a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleDateString(o==="ar"?"ar-SA":"en-US")})]}),a.jsxs("span",{className:`font-bold ${x.points>0?"text-success":"text-destructive"}`,children:[x.points>0?"+":"",x.points]})]},x.id))})})})]})]})]})})}const O$=Qu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mt({className:e,variant:t,...r}){return a.jsx("div",{className:W(O$({variant:t}),e),...r})}var wd="Dialog",[uS,dS]=_t(wd),[I$,Kr]=uS(wd),fS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=ln({prop:n,defaultProp:s??!1,onChange:o,caller:wd});return a.jsx(I$,{scope:t,triggerRef:l,contentRef:c,contentId:jn(),titleId:jn(),descriptionId:jn(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};fS.displayName=wd;var hS="DialogTrigger",pS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(hS,r),o=pe(t,s.triggerRef);return a.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pg(s.open),...n,ref:o,onClick:Y(e.onClick,s.onOpenToggle)})});pS.displayName=hS;var fg="DialogPortal",[D$,mS]=uS(fg,{forceMount:void 0}),gS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Kr(fg,t);return a.jsx(D$,{scope:t,forceMount:r,children:h.Children.map(n,i=>a.jsx(Bt,{present:r||o.open,children:a.jsx(kl,{asChild:!0,container:s,children:i})}))})};gS.displayName=fg;var Pu="DialogOverlay",vS=h.forwardRef((e,t)=>{const r=mS(Pu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Kr(Pu,e.__scopeDialog);return o.modal?a.jsx(Bt,{present:n||o.open,children:a.jsx($$,{...s,ref:t})}):null});vS.displayName=Pu;var L$=so("DialogOverlay.RemoveScroll"),$$=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(Pu,r);return a.jsx(md,{as:L$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(te.div,{"data-state":pg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lo="DialogContent",yS=h.forwardRef((e,t)=>{const r=mS(lo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Kr(lo,e.__scopeDialog);return a.jsx(Bt,{present:n||o.open,children:o.modal?a.jsx(M$,{...s,ref:t}):a.jsx(F$,{...s,ref:t})})});yS.displayName=lo;var M$=h.forwardRef((e,t)=>{const r=Kr(lo,e.__scopeDialog),n=h.useRef(null),s=pe(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return ng(o)},[]),a.jsx(xS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault())})}),F$=h.forwardRef((e,t)=>{const r=Kr(lo,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(xS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),xS=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Kr(lo,r),c=h.useRef(null),u=pe(t,c);return rg(),a.jsxs(a.Fragment,{children:[a.jsx(hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(zi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pg(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(z$,{titleId:l.titleId}),a.jsx(V$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hg="DialogTitle",wS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(hg,r);return a.jsx(te.h2,{id:s.titleId,...n,ref:t})});wS.displayName=hg;var bS="DialogDescription",_S=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(bS,r);return a.jsx(te.p,{id:s.descriptionId,...n,ref:t})});_S.displayName=bS;var SS="DialogClose",jS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(SS,r);return a.jsx(te.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});jS.displayName=SS;function pg(e){return e?"open":"closed"}var CS="DialogTitleWarning",[U$,NS]=uk(CS,{contentName:lo,titleName:hg,docsSlug:"dialog"}),z$=({titleId:e})=>{const t=NS(CS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},B$="DialogDescriptionWarning",V$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NS(B$).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ES=fS,q$=pS,kS=gS,mg=vS,gg=yS,vg=wS,yg=_S,xg=jS;const Ri=ES,W$=kS,TS=h.forwardRef(({className:e,...t},r)=>a.jsx(mg,{ref:r,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));TS.displayName=mg.displayName;const co=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(W$,{children:[a.jsx(TS,{}),a.jsxs(gg,{ref:n,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(xg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Sm,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));co.displayName=gg.displayName;const Ai=({className:e,...t})=>a.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ai.displayName="DialogHeader";const vl=({className:e,...t})=>a.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vl.displayName="DialogFooter";const Oi=h.forwardRef(({className:e,...t},r)=>a.jsx(vg,{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));Oi.displayName=vg.displayName;const Ii=h.forwardRef(({className:e,...t},r)=>a.jsx(yg,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));Ii.displayName=yg.displayName;const bd=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));bd.displayName="Textarea";var PS={exports:{}},RS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=h;function H$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K$=typeof Object.is=="function"?Object.is:H$,G$=Di.useState,Y$=Di.useEffect,Q$=Di.useLayoutEffect,Z$=Di.useDebugValue;function J$(e,t){var r=t(),n=G$({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return Q$(function(){s.value=r,s.getSnapshot=t,Df(s)&&o({inst:s})},[e,r,t]),Y$(function(){return Df(s)&&o({inst:s}),e(function(){Df(s)&&o({inst:s})})},[e]),Z$(r),r}function Df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!K$(e,r)}catch{return!0}}function X$(e,t){return t()}var eM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X$:J$;RS.useSyncExternalStore=Di.useSyncExternalStore!==void 0?Di.useSyncExternalStore:eM;PS.exports=RS;var tM=PS.exports;function rM(){return tM.useSyncExternalStore(nM,()=>!0,()=>!1)}function nM(){return()=>{}}var wg="Avatar",[sM,g3]=_t(wg),[oM,AS]=sM(wg),OS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=h.useState("idle");return a.jsx(oM,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(te.span,{...n,ref:t})})});OS.displayName=wg;var IS="AvatarImage",DS=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=AS(IS,r),l=iM(n,o),c=at(u=>{s(u),i.onImageLoadingStatusChange(u)});return et(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(te.img,{...o,ref:t,src:n}):null});DS.displayName=IS;var LS="AvatarFallback",$S=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=AS(LS,r),[i,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(te.span,{...s,ref:t}):null});$S.displayName=LS;function Mx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iM(e,{referrerPolicy:t,crossOrigin:r}){const n=rM(),s=h.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>Mx(o,e));return et(()=>{l(Mx(o,e))},[o,e]),et(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,r,t]),i}var MS=OS,FS=DS,US=$S;const zS=h.forwardRef(({className:e,...t},r)=>a.jsx(MS,{ref:r,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zS.displayName=MS.displayName;const aM=h.forwardRef(({className:e,...t},r)=>a.jsx(FS,{ref:r,className:W("aspect-square h-full w-full",e),...t}));aM.displayName=FS.displayName;const BS=h.forwardRef(({className:e,...t},r)=>a.jsx(US,{ref:r,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));BS.displayName=US.displayName;function lM({courseId:e}){const{user:t}=Vt(),{t:r}=Oe(),{toast:n}=Zt(),[s,o]=h.useState([]),[i,l]=h.useState(!0),[c,u]=h.useState(""),[d,f]=h.useState(5),[g,m]=h.useState(!1),[b,p]=h.useState(!1);h.useEffect(()=>{x(),v()},[e,t]);const x=async()=>{try{const{data:w,error:_}=await M.from("course_comments").select(`
          id,
          content,
          rating,
          created_at,
          user_id,
          profiles (
            full_name
          )
        `).eq("course_id",e).order("created_at",{ascending:!1});if(_)throw _;o(w||[])}catch(w){console.error("Error fetching comments:",w)}finally{l(!1)}},v=async()=>{if(!t){p(!1);return}try{const{data:w,error:_}=await M.from("enrollments").select("id").eq("course_id",e).eq("user_id",t.id).maybeSingle();if(_)throw _;p(!!w)}catch(w){console.error("Error checking enrollment:",w)}},y=async w=>{if(w.preventDefault(),!(!t||!c.trim())){m(!0);try{const{error:_}=await M.from("course_comments").insert({course_id:e,user_id:t.id,content:c.trim(),rating:d});if(_)throw _;n({title:r.comments.success}),u(""),f(5),x()}catch(_){n({title:r.comments.error,description:_.message,variant:"destructive"})}finally{m(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b pb-2",children:[a.jsx(vT,{className:"w-5 h-5 text-primary"}),a.jsx("h3",{className:"text-xl font-semibold",children:r.comments.title})]}),a.jsx("div",{className:"bg-muted/30 p-4 rounded-xl space-y-4",children:t?b?a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:[r.comments.rating,":"]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(w=>a.jsx("button",{type:"button",onClick:()=>f(w),className:"focus:outline-none transition-transform hover:scale-110",children:a.jsx(ft,{className:`w-5 h-5 ${w<=d?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},w))})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bd,{placeholder:r.comments.placeholder,value:c,onChange:w=>u(w.target.value),className:"bg-background border-muted min-h-[100px] pr-10",required:!0}),a.jsx("div",{className:"absolute bottom-2 right-2",children:a.jsx(Z,{type:"submit",size:"sm",disabled:g||!c.trim(),className:"gradient-primary",children:g?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):a.jsx(Dh,{className:"w-4 h-4"})})})]})]}):a.jsx("p",{className:"text-sm text-center text-muted-foreground py-2 font-medium",children:r.comments.mustEnroll}):a.jsx("p",{className:"text-sm text-center text-muted-foreground py-2 font-medium",children:r.comments.loginToComment})}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-muted",children:i?a.jsx("div",{className:"space-y-4",children:[1,2].map(w=>a.jsxs("div",{className:"animate-pulse flex gap-3 p-3 bg-muted/20 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-24"}),a.jsx("div",{className:"h-3 bg-muted rounded w-full"})]})]},w))}):s.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground italic",children:r.comments.noComments}):s.map(w=>{var _,C,j;return a.jsxs("div",{className:"flex gap-3 p-4 bg-card border rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[a.jsx(zS,{className:"w-10 h-10 border-2 border-primary/10",children:a.jsx(BS,{className:"bg-primary/5 text-primary text-xs font-bold",children:((C=(_=w.profiles)==null?void 0:_.full_name)==null?void 0:C.charAt(0))||"U"})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-bold text-foreground",children:((j=w.profiles)==null?void 0:j.full_name)||"Unknown User"}),a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(S=>a.jsx(ft,{className:`w-3 h-3 ${S<=w.rating?"fill-yellow-400 text-yellow-400":"text-gray-200"}`},S))})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap",children:w.content}),a.jsx("div",{className:"text-[10px] text-muted-foreground pt-1 flex items-center gap-1 opacity-70",children:a.jsx("span",{children:new Date(w.created_at).toLocaleDateString()})})]})]},w.id)})})]})}function cM({course:e,isOpen:t,onClose:r}){const{t:n}=Oe();return e?a.jsx(Ri,{open:t,onOpenChange:s=>!s&&r(),children:a.jsx(co,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden border-none bg-background shadow-2xl",children:a.jsxs("div",{className:"flex flex-col h-full max-h-[90vh]",children:[a.jsxs("div",{className:"relative h-48 md:h-64 gradient-hero flex items-center justify-center shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx(At,{className:"w-20 h-20 text-white/40 relative z-10"}),a.jsxs("div",{className:"absolute bottom-4 left-6 right-6 z-10",children:[a.jsxs(Mt,{className:"mb-2 bg-white/20 hover:bg-white/30 text-white border-white/40 backdrop-blur-md",children:[e.total_hours," ",n.common.hours]}),a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white drop-shadow-md",children:e.title})]})]}),a.jsx(cg,{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-6 md:p-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[a.jsx(Vs,{className:"w-5 h-5 text-primary"}),n.adminCourses.description]}),a.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-wrap",children:e.description||"No description available for this course yet."})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-primary/5 border border-primary/10 text-center",children:[a.jsx(Rl,{className:"w-5 h-5 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-sm font-bold",children:e.total_hours}),a.jsx("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:n.common.hours})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-accent/5 border border-accent/10 text-center",children:[a.jsx(qr,{className:"w-5 h-5 mx-auto mb-2 text-accent"}),a.jsx("div",{className:"text-sm font-bold",children:e.sessions_count}),a.jsx("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:n.common.sessions})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-warning/5 border border-warning/10 text-center",children:[a.jsx(ft,{className:"w-5 h-5 mx-auto mb-2 text-warning"}),a.jsxs("div",{className:"text-sm font-bold",children:["+",e.points_reward]}),a.jsx("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:n.common.pts})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-secondary/5 border border-secondary/10 text-center",children:[a.jsx(ym,{className:"w-5 h-5 mx-auto mb-2 text-secondary"}),a.jsx("div",{className:"text-sm font-bold",children:e.points_required}),a.jsxs("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground",children:["Req. ",n.common.pts]})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsx(lM,{courseId:e.id})})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"sticky top-0 space-y-4",children:a.jsxs("div",{className:"p-6 rounded-2xl border bg-card shadow-sm space-y-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1 uppercase tracking-wider font-semibold",children:n.adminCourses.price}),a.jsxs("div",{className:"text-4xl font-extrabold text-foreground",children:["$",e.price.toFixed(0)]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground italic",children:[a.jsx(Vs,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:"Lifetime access to course materials"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground italic",children:[a.jsx(Vs,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:"Official certificate of completion"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground italic",children:[a.jsx(Vs,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:"Interactive live sessions"})]})]})]})})})]})})]})})}):null}function uM(){const{user:e,profile:t,refreshProfile:r}=Vt(),{t:n}=Oe(),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState(!0),[g,m]=h.useState(null),[b,p]=h.useState(null),[x,v]=h.useState(!1),{toast:y}=Zt();h.useEffect(()=>{w()},[e]);const w=async()=>{try{const{data:S}=await M.from("courses").select("*").eq("is_active",!0).order("created_at",{ascending:!1});S&&o(S);const{data:E}=await M.from("offers").select("*").eq("is_active",!0);if(E&&l(E),e){const{data:N}=await M.from("enrollments").select("course_id").eq("user_id",e.id);N&&u(N)}}catch(S){console.error("Error fetching courses:",S)}finally{f(!1)}},_=S=>i.find(E=>E.course_id===S&&(E.max_students===null||E.used_count<E.max_students)),C=S=>c.some(E=>E.course_id===S),j=async(S,E)=>{var N;if(e){m(S.id);try{const{data:k}=await M.from("batches").select("*").eq("course_id",S.id).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1),T=((N=k==null?void 0:k[0])==null?void 0:N.id)||null;if(E){if(((t==null?void 0:t.total_points)||0)<S.points_required){y({title:n.courses.insufficientPoints,description:n.courses.insufficientPointsDesc.replace("{points}",String(S.points_required)),variant:"destructive"});return}const{error:q}=await M.from("enrollments").insert({user_id:e.id,course_id:S.id,batch_id:T,payment_method:"points",points_used:S.points_required});if(q)throw q;await M.from("profiles").update({total_points:((t==null?void 0:t.total_points)||0)-S.points_required}).eq("user_id",e.id),await M.from("points_history").insert({user_id:e.id,points:-S.points_required,type:"redemption",description:`Redeemed for ${S.title}`,course_id:S.id}),await r(),y({title:n.courses.redeemSuccess,description:n.courses.redeemSuccessDesc.replace("{course}",S.title).replace("{points}",String(S.points_required))})}else{const{error:q}=await M.from("enrollments").insert({user_id:e.id,course_id:S.id,batch_id:T,payment_method:"cash"});if(q)throw q;S.points_reward>0&&(await M.from("profiles").update({total_points:((t==null?void 0:t.total_points)||0)+S.points_reward}).eq("user_id",e.id),await M.from("points_history").insert({user_id:e.id,points:S.points_reward,type:"registration",description:`Registration bonus for ${S.title}`,course_id:S.id}),await r()),y({title:n.courses.enrollSuccess,description:`${n.courses.enrollSuccessDesc.replace("{course}",S.title)} ${S.points_reward>0?n.courses.pointsEarned.replace("{points}",String(S.points_reward)):""}`})}const{data:R}=await M.from("enrollments").select("course_id").eq("user_id",e.id);R&&u(R)}catch(k){y({title:n.courses.enrollFailed,description:k.message||"An error occurred",variant:"destructive"})}finally{m(null)}}};return d?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-pulse text-muted-foreground",children:n.common.loading})})}):a.jsxs(He,{children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:n.courses.title}),a.jsx("p",{className:"text-muted-foreground",children:n.courses.subtitle})]}),s.length===0?a.jsx(Se,{className:"border-0 shadow-md",children:a.jsxs(ke,{className:"p-12 text-center",children:[a.jsx(At,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.courses.noCourses}),a.jsx("p",{className:"text-muted-foreground",children:n.courses.noCoursesDesc})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(S=>{const E=_(S.id),N=C(S.id),k=S.points_required>0&&((t==null?void 0:t.total_points)||0)>=S.points_required,T=E?S.price*(1-E.discount_percentage/100):S.price;return a.jsxs(Se,{className:"border-0 shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden group",children:[a.jsx("div",{className:"h-40 gradient-hero flex items-center justify-center cursor-pointer",onClick:()=>{p(S),v(!0)},children:a.jsx(At,{className:"w-16 h-16 text-primary-foreground/50 group-hover:scale-110 transition-transform"})}),a.jsxs(nt,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(st,{className:"text-lg line-clamp-2",children:S.title}),E&&a.jsxs(Mt,{className:"gradient-accent text-accent-foreground shrink-0",children:[E.discount_percentage,"% ",n.courses.off]})]}),a.jsx(Ot,{className:"line-clamp-2",children:S.description})]}),a.jsxs(ke,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Rl,{className:"w-4 h-4"}),S.total_hours,n.common.hours.charAt(0)]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qr,{className:"w-4 h-4"}),S.sessions_count," ",n.common.sessions]}),S.points_reward>0&&a.jsxs("div",{className:"flex items-center gap-1 text-accent",children:[a.jsx(ft,{className:"w-4 h-4"}),"+",S.points_reward," ",n.common.pts]})]}),a.jsx("div",{className:"flex items-baseline gap-2",children:E?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-2xl font-bold",children:["$",T.toFixed(0)]}),a.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:["$",S.price]})]}):a.jsxs("span",{className:"text-2xl font-bold",children:["$",S.price]})}),E&&E.max_students&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-warning",children:[a.jsx(Za,{className:"w-4 h-4"}),E.max_students-E.used_count," ",n.courses.spotsLeft]}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs(Z,{variant:"outline",className:"w-full mb-1",onClick:()=>{p(S),v(!0)},children:[a.jsx(fT,{className:"w-4 h-4 me-2"}),n.comments.viewDetails]}),N?a.jsxs(Z,{className:"w-full",disabled:!0,variant:"secondary",children:[a.jsx(Zu,{className:"w-4 h-4 me-2"}),n.courses.enrolled]}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{className:"w-full gradient-primary hover:opacity-90",onClick:()=>j(S,!1),disabled:g===S.id,children:g===S.id?n.courses.enrolling:`${n.courses.enroll} - $${T.toFixed(0)}`}),S.points_required>0&&a.jsxs(Z,{variant:"outline",className:"w-full",onClick:()=>j(S,!0),disabled:!k||g===S.id,children:[a.jsx(ft,{className:"w-4 h-4 me-2"}),n.courses.redeem," (",S.points_required," ",n.common.pts,")"]})]})]})]})]},S.id)})})]}),a.jsx(cM,{course:b,isOpen:x,onClose:()=>v(!1)})]})}var _d="Collapsible",[dM,v3]=_t(_d),[fM,bg]=dM(_d),VS=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=ln({prop:n,defaultProp:s??!1,onChange:i,caller:_d});return a.jsx(fM,{scope:r,disabled:o,contentId:jn(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(te.div,{"data-state":Sg(c),"data-disabled":o?"":void 0,...l,ref:t})})});VS.displayName=_d;var qS="CollapsibleTrigger",WS=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=bg(qS,r);return a.jsx(te.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Sg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Y(e.onClick,s.onOpenToggle)})});WS.displayName=qS;var _g="CollapsibleContent",HS=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bg(_g,e.__scopeCollapsible);return a.jsx(Bt,{present:r||s.open,children:({present:o})=>a.jsx(hM,{...n,ref:t,present:o})})});HS.displayName=_g;var hM=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=bg(_g,r),[l,c]=h.useState(n),u=h.useRef(null),d=pe(t,u),f=h.useRef(0),g=f.current,m=h.useRef(0),b=m.current,p=i.open||l,x=h.useRef(p),v=h.useRef(void 0);return h.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),et(()=>{const y=u.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(n)}},[i.open,n]),a.jsx(te.div,{"data-state":Sg(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function Sg(e){return e?"open":"closed"}var pM=VS;const mM=pM,gM=WS,vM=HS;function yM(){const{t:e}=Oe(),{user:t}=Vt(),[r,n]=h.useState([]),[s,o]=h.useState(!0),[i,l]=h.useState(new Set);h.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{const{data:f,error:g}=await M.from("enrollments").select(`
          id,
          course_id,
          progress_percentage,
          batch_id,
          courses (
            id,
            title,
            description,
            total_hours,
            sessions_count
          ),
          batches (
            id,
            name
          )
        `).eq("user_id",t==null?void 0:t.id);if(g)throw g;const m=await Promise.all((f||[]).map(async b=>{let p=[],x=!1,v=!1;const{data:y}=await M.from("course_quizzes").select("id").eq("course_id",b.course_id).maybeSingle();if(y){x=!0;const{data:w}=await M.from("quiz_attempts").select("id").eq("quiz_id",y.id).eq("user_id",t==null?void 0:t.id).maybeSingle();w&&(v=!0)}if(b.batch_id){const{data:w}=await M.from("course_sessions").select("id, title, duration_hours, session_date").eq("batch_id",b.batch_id).order("session_date",{ascending:!0});if(w){const{data:_}=await M.from("attendance").select("session_id, attended, hours_attended").eq("user_id",t==null?void 0:t.id).in("session_id",w.map(j=>j.id)),C=new Map((_||[]).map(j=>[j.session_id,j]));p=w.map(j=>{var S,E;return{...j,attended:((S=C.get(j.id))==null?void 0:S.attended)||!1,hours_attended:Number((E=C.get(j.id))==null?void 0:E.hours_attended)||0}})}}return{id:b.id,course_id:b.course_id,progress_percentage:b.progress_percentage||0,course:b.courses,batch:b.batches,sessions:p,hasQuiz:x,quizAttempted:v}}));n(m)}catch(f){console.error("Error fetching enrolled courses:",f)}finally{o(!1)}},u=f=>{l(g=>{const m=new Set(g);return m.has(f)?m.delete(f):m.add(f),m})},d=f=>f.attended?f.duration_hours===0?100:Math.min(100,f.hours_attended/f.duration_hours*100):0;return s?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):a.jsx(He,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:e.myCourses.title}),a.jsx("p",{className:"text-muted-foreground mt-1",children:e.myCourses.subtitle})]}),r.length===0?a.jsx(Se,{children:a.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(At,{className:"w-12 h-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.myCourses.noCourses}),a.jsx("p",{className:"text-muted-foreground text-center",children:e.myCourses.noCoursesDesc})]})}):a.jsx("div",{className:"space-y-4",children:r.map(f=>a.jsx(Se,{className:"overflow-hidden",children:a.jsxs(mM,{open:i.has(f.id),onOpenChange:()=>u(f.id),children:[a.jsxs(nt,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(st,{className:"text-xl mb-2",children:f.course.title}),f.course.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.course.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Rl,{className:"w-4 h-4"}),a.jsxs("span",{children:[f.course.total_hours," ",e.common.hours]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(iT,{className:"w-4 h-4"}),a.jsxs("span",{children:[f.course.sessions_count," ",e.common.sessions]})]}),f.batch&&a.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs font-medium",children:f.batch.name})]})]}),f.sessions.length>0&&a.jsx(gM,{asChild:!0,children:a.jsx(Z,{variant:"ghost",size:"sm",children:i.has(f.id)?a.jsx(Mb,{className:"w-5 h-5"}):a.jsx(wm,{className:"w-5 h-5"})})})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:e.myCourses.courseProgress}),a.jsxs("span",{className:"text-sm font-bold text-primary",children:[f.progress_percentage,"%"]})]}),a.jsx(Tu,{value:f.progress_percentage,className:"h-3"})]}),f.hasQuiz&&f.progress_percentage===100&&a.jsx("div",{className:"mt-6",children:a.jsx(xt,{to:`/quiz/${f.course_id}`,children:a.jsxs(Z,{className:"w-full gap-2 font-bold py-6 text-lg shadow-glow",disabled:f.quizAttempted,children:[a.jsx(Ub,{className:"w-5 h-5 text-accent"}),f.quizAttempted?e.myCourses.quizCompleted:e.myCourses.startQuiz]})})})]}),a.jsx(vM,{children:a.jsxs(ke,{className:"pt-0 border-t border-border",children:[a.jsx("h4",{className:"font-semibold mb-4 mt-4",children:e.myCourses.sessions}),f.sessions.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:e.myCourses.noSessions}):a.jsx("div",{className:"space-y-3",children:f.sessions.map((g,m)=>{const b=d(g);return a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs font-bold flex items-center justify-center",children:m+1}),a.jsx("span",{className:"font-medium truncate",children:g.title})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground ms-8",children:[a.jsxs("span",{children:[g.duration_hours," ",e.common.hours]}),g.session_date&&a.jsx("span",{children:new Date(g.session_date).toLocaleDateString()})]})]}),a.jsxs("span",{className:`text-sm font-bold ${b===100?"text-green-500":"text-primary"}`,children:[b.toFixed(0),"%"]})]}),a.jsx("div",{className:"ms-8",children:a.jsx(Tu,{value:b,className:"h-2"})})]},g.id)})})]})})]})},f.id))})]})})}function xM(){const{user:e,profile:t}=Vt(),{t:r,language:n}=Oe(),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,u]=h.useState(!0);h.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{const{data:p}=await M.from("points_history").select(`
          id,
          points,
          type,
          description,
          created_at,
          course:courses(title)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});p&&o(p);const{data:x}=await M.from("courses").select("id, title, points_required").eq("is_active",!0).gt("points_required",0).order("points_required",{ascending:!0});if(x){const{data:v}=await M.from("enrollments").select("course_id").eq("user_id",e.id),y=(v==null?void 0:v.map(w=>w.course_id))||[];l(x.filter(w=>!y.includes(w.id)))}}catch(p){console.error("Error fetching points data:",p)}finally{u(!1)}},f=s.filter(p=>p.points>0).reduce((p,x)=>p+x.points,0),g=s.filter(p=>p.points<0).reduce((p,x)=>p+Math.abs(x.points),0),m=p=>{switch(p){case"registration":return At;case"attendance":return _i;case"redemption":return Ta;default:return ft}},b=p=>{switch(p){case"registration":return a.jsx(Mt,{variant:"secondary",children:r.points.types.registration});case"attendance":return a.jsx(Mt,{className:"bg-success text-success-foreground",children:r.points.types.attendance});case"redemption":return a.jsx(Mt,{variant:"outline",children:r.points.types.redemption});default:return a.jsx(Mt,{children:p})}};return c?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-pulse text-muted-foreground",children:r.common.loading})})}):a.jsx(He,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:r.points.title}),a.jsx("p",{className:"text-muted-foreground",children:r.points.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl gradient-accent flex items-center justify-center animate-pulse-glow",children:a.jsx(ft,{className:"w-7 h-7 text-accent-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-display font-bold",children:(t==null?void 0:t.total_points)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.points.availablePoints})]})]})})}),a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-success/10 flex items-center justify-center",children:a.jsx(Bb,{className:"w-7 h-7 text-success"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-display font-bold",children:f}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.points.totalEarned})]})]})})}),a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-destructive/10 flex items-center justify-center",children:a.jsx(ST,{className:"w-7 h-7 text-destructive"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-display font-bold",children:g}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.points.totalSpent})]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Se,{className:"border-0 shadow-md",children:[a.jsxs(nt,{children:[a.jsx(st,{className:"text-xl",children:r.points.history}),a.jsx(Ot,{children:r.points.historyDesc})]}),a.jsx(ke,{children:s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ft,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:r.points.noPointsYet}),a.jsx("p",{className:"text-muted-foreground",children:r.points.noPointsDesc})]}):a.jsx("div",{className:"space-y-3",children:s.map(p=>{const x=m(p.type);return a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-xl hover:bg-muted transition-colors",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${p.points>0?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:a.jsx(x,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-medium truncate",children:p.description}),b(p.type)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(p.created_at).toLocaleDateString(n==="ar"?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("span",{className:`text-lg font-bold ${p.points>0?"text-success":"text-destructive"}`,children:[p.points>0?"+":"",p.points]})]},p.id)})})})]})}),a.jsx("div",{children:a.jsxs(Se,{className:"border-0 shadow-md",children:[a.jsxs(nt,{children:[a.jsxs(st,{className:"text-xl flex items-center gap-2",children:[a.jsx(Ta,{className:"w-5 h-5 text-accent"}),r.points.redeemPoints]}),a.jsx(Ot,{children:r.points.redeemDesc})]}),a.jsx(ke,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ta,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:r.points.noRedeemable})]}):a.jsx("div",{className:"space-y-3",children:i.map(p=>{const x=((t==null?void 0:t.total_points)||0)>=p.points_required;return a.jsxs("div",{className:`p-4 rounded-xl border ${x?"border-accent bg-accent/5":"border-border bg-muted/30"}`,children:[a.jsx("p",{className:"font-medium mb-2 line-clamp-2",children:p.title}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(ft,{className:"w-4 h-4 text-accent"}),a.jsxs("span",{className:"font-medium",children:[p.points_required," ",r.common.pts]})]}),x&&a.jsx(Mt,{className:"gradient-accent text-accent-foreground",children:r.points.available})]})]},p.id)})})})]})})]})]})})}function wM({course:e,offer:t,enrolled:r,onEnroll:n,enrolling:s,canRedeem:o}){const{t:i,dir:l}=Oe(),c=e.price*(1-t.discount_percentage/100);return a.jsxs(Se,{className:"relative border-0 shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden group bg-card",children:[a.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-primary/10 rounded-full blur-3xl group-hover:bg-primary/20 transition-colors"}),a.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-accent/10 rounded-full blur-3xl group-hover:bg-accent/20 transition-colors"}),a.jsx("div",{className:W("absolute top-4 z-10",l==="rtl"?"left-0":"right-0"),children:a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-accent text-accent-foreground font-bold rounded-s-full shadow-lg transform translate-x-2 group-hover:translate-x-0 transition-transform",children:[a.jsx(Za,{className:"w-4 h-4 animate-bounce"}),a.jsxs("span",{children:[t.discount_percentage,"% ",i.courses.off]})]})}),a.jsx("div",{className:"p-1",children:a.jsxs("div",{className:"h-44 rounded-xl overflow-hidden relative",children:[a.jsx("div",{className:"absolute inset-0 gradient-primary opacity-20 group-hover:opacity-30 transition-opacity"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(At,{className:"w-16 h-16 text-primary group-hover:scale-110 transition-transform duration-500"})}),a.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-center",children:[a.jsxs(Mt,{variant:"secondary",className:"bg-background/80 backdrop-blur-md",children:[a.jsx(ft,{className:"w-3 h-3 me-1 text-warning fill-warning"}),e.points_reward," ",i.common.pts]}),t.max_students&&a.jsxs(Mt,{variant:"destructive",className:"animate-pulse",children:[t.max_students-t.used_count," ",i.courses.spotsLeft]})]})]})}),a.jsxs(nt,{className:"pb-2",children:[a.jsx(st,{className:"text-xl font-display font-bold group-hover:text-primary transition-colors",children:e.title}),a.jsx(Ot,{className:"line-clamp-2 min-h-[2.5rem]",children:e.description})]}),a.jsxs(ke,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground border-y border-border/50 py-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Rl,{className:"w-4 h-4 text-primary"}),a.jsxs("span",{children:[e.total_hours,"h"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(qr,{className:"w-4 h-4 text-primary"}),a.jsxs("span",{children:[e.sessions_count," ",i.common.sessions]})]})]}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm text-muted-foreground line-through decoration-destructive/50",children:["$",e.price.toFixed(0)]}),a.jsx("div",{className:"flex items-baseline gap-1",children:a.jsxs("span",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent",children:["$",c.toFixed(0)]})})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground font-bold",children:"Special Offer"}),a.jsx("div",{className:"h-1 w-12 bg-accent rounded-full"})]})]}),a.jsx("div",{className:"space-y-3 pt-2",children:r?a.jsxs(Z,{className:"w-full h-12 rounded-xl text-lg",disabled:!0,variant:"secondary",children:[a.jsx(Zu,{className:"w-5 h-5 me-2"}),i.courses.enrolled]}):a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs(Z,{className:"w-full h-12 rounded-xl text-lg gradient-primary hover:opacity-90 shadow-lg shadow-primary/20 group/btn relative overflow-hidden",onClick:()=>n(e,!1),disabled:s,children:[a.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[s?i.courses.enrolling:i.courses.enroll,!s&&a.jsx(Pl,{className:W("w-5 h-5 ms-2 transition-transform group-hover/btn:translate-x-1",l==="rtl"&&"rotate-180 group-hover/btn:-translate-x-1")})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000"})]}),e.points_required>0&&a.jsxs(Z,{variant:"outline",className:"w-full h-11 rounded-xl border-dashed border-2 hover:bg-accent/5",onClick:()=>n(e,!0),disabled:!o||s,children:[a.jsx(ft,{className:"w-4 h-4 me-2 text-warning"}),i.courses.redeem," (",e.points_required," ",i.common.pts,")"]})]})})]})]})}function bM(){const{user:e,profile:t,refreshProfile:r}=Vt(),{t:n}=Oe(),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState(null),{toast:g}=Zt();h.useEffect(()=>{m()},[e]);const m=async()=>{try{u(!0);const{data:p,error:x}=await M.from("offers").select("*, courses(*)").eq("is_active",!0);if(x)throw x;if(o(p||[]),e){const{data:v}=await M.from("enrollments").select("course_id").eq("user_id",e.id);v&&l(v.map(y=>y.course_id))}}catch(p){console.error("Error fetching offers:",p),g({title:n.common.error,description:"Failed to load active offers.",variant:"destructive"})}finally{u(!1)}},b=async(p,x)=>{var v;if(e){f(p.id);try{const{data:y}=await M.from("batches").select("*").eq("course_id",p.id).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1),w=((v=y==null?void 0:y[0])==null?void 0:v.id)||null;if(x){if(((t==null?void 0:t.total_points)||0)<p.points_required){g({title:n.courses.insufficientPoints,description:n.courses.insufficientPointsDesc.replace("{points}",String(p.points_required)),variant:"destructive"});return}const{error:_}=await M.from("enrollments").insert({user_id:e.id,course_id:p.id,batch_id:w,payment_method:"points",points_used:p.points_required});if(_)throw _;const C=s.find(j=>j.course_id===p.id);C&&await M.from("offers").update({used_count:(C.used_count||0)+1}).eq("id",C.id),await M.from("profiles").update({total_points:((t==null?void 0:t.total_points)||0)-p.points_required}).eq("user_id",e.id),await r(),g({title:n.courses.redeemSuccess,description:n.courses.redeemSuccessDesc.replace("{course}",p.title).replace("{points}",String(p.points_required))})}else{const{error:_}=await M.from("enrollments").insert({user_id:e.id,course_id:p.id,batch_id:w,payment_method:"cash"});if(_)throw _;const C=s.find(j=>j.course_id===p.id);C&&await M.from("offers").update({used_count:(C.used_count||0)+1}).eq("id",C.id),p.points_reward>0&&(await M.from("profiles").update({total_points:((t==null?void 0:t.total_points)||0)+p.points_reward}).eq("user_id",e.id),await r()),g({title:n.courses.enrollSuccess,description:n.courses.enrollSuccessDesc.replace("{course}",p.title)})}l(_=>[..._,p.id])}catch(y){g({title:n.courses.enrollFailed,description:y.message||"An error occurred",variant:"destructive"})}finally{f(null)}}};return a.jsx(He,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Za,{className:"w-6 h-6 text-accent"}),a.jsx(Mt,{variant:"outline",className:"text-accent border-accent/20 bg-accent/5",children:n.courses.promoBadge})]}),a.jsx("h1",{className:"text-4xl font-display font-bold mb-2",children:n.nav.offers}),a.jsx("p",{className:"text-muted-foreground max-w-2xl",children:n.courses.promoSubtitle})]})}),c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(cn,{className:"w-8 h-8 animate-spin text-primary"})}):s.length===0?a.jsxs("div",{className:"p-20 border-2 border-dashed border-muted rounded-3xl flex flex-col items-center justify-center text-center bg-muted/5",children:[a.jsx(Za,{className:"w-16 h-16 text-muted-foreground/30 mb-6"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:n.courses.noOffers}),a.jsx("p",{className:"text-muted-foreground/60 max-w-sm",children:n.courses.noOffersDesc})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(p=>a.jsx(wM,{course:p.courses,offer:p,enrolled:i.includes(p.course_id),onEnroll:b,enrolling:d===p.course_id,canRedeem:p.courses.points_required>0&&((t==null?void 0:t.total_points)||0)>=p.courses.points_required},p.id))})]})})}var Lf="rovingFocusGroup.onEntryFocus",_M={bubbles:!1,cancelable:!0},$l="RovingFocusGroup",[hp,KS,SM]=pm($l),[jM,GS]=_t($l,[SM]),[CM,NM]=jM($l),YS=h.forwardRef((e,t)=>a.jsx(hp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(hp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(EM,{...e,ref:t})})}));YS.displayName=$l;var EM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,g=h.useRef(null),m=pe(t,g),b=vd(o),[p,x]=ln({prop:i,defaultProp:l??null,onChange:c,caller:$l}),[v,y]=h.useState(!1),w=at(u),_=KS(r),C=h.useRef(!1),[j,S]=h.useState(0);return h.useEffect(()=>{const E=g.current;if(E)return E.addEventListener(Lf,w),()=>E.removeEventListener(Lf,w)},[w]),a.jsx(CM,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(E=>x(E),[x]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>S(E=>E-1),[]),children:a.jsx(te.div,{tabIndex:v||j===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{C.current=!0}),onFocus:Y(e.onFocus,E=>{const N=!C.current;if(E.target===E.currentTarget&&N&&!v){const k=new CustomEvent(Lf,_M);if(E.currentTarget.dispatchEvent(k),!k.defaultPrevented){const T=_().filter(O=>O.focusable),R=T.find(O=>O.active),q=T.find(O=>O.id===p),G=[R,q,...T].filter(Boolean).map(O=>O.ref.current);JS(G,d)}}C.current=!1}),onBlur:Y(e.onBlur,()=>y(!1))})})}),QS="RovingFocusGroupItem",ZS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=jn(),u=o||c,d=NM(QS,r),f=d.currentTabStopId===u,g=KS(r),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return h.useEffect(()=>{if(n)return m(),()=>b()},[n,m,b]),a.jsx(hp.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(te.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Y(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Y(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=PM(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=g().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=d.loop?RM(w,_+1):w.slice(_+1)}setTimeout(()=>JS(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});ZS.displayName=QS;var kM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function PM(e,t,r){const n=TM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return kM[n]}function JS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function RM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var AM=YS,OM=ZS;function Sd(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jg="Radio",[IM,XS]=_t(jg),[DM,LM]=IM(jg),ej=h.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,g]=h.useState(null),m=pe(t,x=>g(x)),b=h.useRef(!1),p=f?u||!!f.closest("form"):!0;return a.jsxs(DM,{scope:r,checked:s,disabled:i,children:[a.jsx(te.button,{type:"button",role:"radio","aria-checked":s,"data-state":sj(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:m,onClick:Y(e.onClick,x=>{s||c==null||c(),p&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),p&&a.jsx(nj,{control:f,bubbles:!b.current,name:n,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});ej.displayName=jg;var tj="RadioIndicator",rj=h.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=LM(tj,r);return a.jsx(Bt,{present:n||o.checked,children:a.jsx(te.span,{"data-state":sj(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});rj.displayName=tj;var $M="RadioBubbleInput",nj=h.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),l=pe(i,o),c=Sd(r),u=td(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const b=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(b)}},[c,r,n]),a.jsx(te.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nj.displayName=$M;function sj(e){return e?"checked":"unchecked"}var MM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jd="RadioGroup",[FM,y3]=_t(jd,[GS,XS]),oj=GS(),ij=XS(),[UM,zM]=FM(jd),aj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...g}=e,m=oj(r),b=vd(u),[p,x]=ln({prop:o,defaultProp:s??null,onChange:f,caller:jd});return a.jsx(UM,{scope:r,name:n,required:i,disabled:l,value:p,onValueChange:x,children:a.jsx(AM,{asChild:!0,...m,orientation:c,dir:b,loop:d,children:a.jsx(te.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...g,ref:t})})})});aj.displayName=jd;var lj="RadioGroupItem",cj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=zM(lj,r),i=o.disabled||n,l=oj(r),c=ij(r),u=h.useRef(null),d=pe(t,u),f=o.value===s.value,g=h.useRef(!1);return h.useEffect(()=>{const m=p=>{MM.includes(p.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",b)}},[]),a.jsx(OM,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(ej,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:Y(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Y(s.onFocus,()=>{var m;g.current&&((m=u.current)==null||m.click())})})})});cj.displayName=lj;var BM="RadioGroupIndicator",uj=h.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=ij(r);return a.jsx(rj,{...s,...n,ref:t})});uj.displayName=BM;var dj=aj,fj=cj,VM=uj;const hj=h.forwardRef(({className:e,...t},r)=>a.jsx(dj,{className:W("grid gap-2",e),...t,ref:r}));hj.displayName=dj.displayName;const pj=h.forwardRef(({className:e,...t},r)=>a.jsx(fj,{ref:r,className:W("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(VM,{className:"flex items-center justify-center",children:a.jsx(cT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));pj.displayName=fj.displayName;const Ro={intermediate:{points:100,completedCourses:2,passedQuizzes:1},advanced:{points:300,completedCourses:5,passedQuizzes:3}},qM=(e,t,r)=>e>=Ro.advanced.points&&t>=Ro.advanced.completedCourses&&r>=Ro.advanced.passedQuizzes?"advanced":e>=Ro.intermediate.points&&t>=Ro.intermediate.completedCourses&&r>=Ro.intermediate.passedQuizzes?"intermediate":"beginner",mj=async e=>{try{const{data:t}=await M.from("profiles").select("total_points, student_level").eq("user_id",e).single();if(!t)return;const{count:r}=await M.from("enrollments").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("progress_percentage",100),{count:n}=await M.from("quiz_attempts").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("passed",!0),s=qM(t.total_points||0,r||0,n||0),o={beginner:1,intermediate:2,advanced:3},i=o[t.student_level||"beginner"];return o[s]>i?(await M.from("profiles").update({student_level:s}).eq("user_id",e),{oldLevel:t.student_level,newLevel:s,updated:!0}):{updated:!1}}catch(t){return console.error("Error updating student level:",t),{updated:!1,error:t}}};function WM(){const{courseId:e}=S2(),{user:t,refreshProfile:r}=Vt(),{t:n,dir:s}=Oe(),o=ks(),{toast:i}=Zt(),[l,c]=h.useState(!0),[u,d]=h.useState(!1),[f,g]=h.useState(null),[m,b]=h.useState([]),[p,x]=h.useState({}),[v,y]=h.useState(null),[w,_]=h.useState("");h.useEffect(()=>{t&&e&&C()},[t,e]);const C=async()=>{try{const{data:N}=await M.from("courses").select("title").eq("id",e).single();N&&_(N.title);const{data:k,error:T}=await M.from("course_quizzes").select("*").eq("course_id",e).maybeSingle();if(T)throw T;if(!k){c(!1);return}g(k);const{data:R}=await M.from("quiz_attempts").select("*").eq("quiz_id",k.id).eq("user_id",t==null?void 0:t.id).maybeSingle();if(R){y({score:R.score,passed:R.passed}),c(!1);return}const{data:q,error:D}=await M.from("quiz_questions").select("*").eq("quiz_id",k.id);if(D)throw D;b(q)}catch(N){console.error("Error fetching quiz:",N),i({title:"Error",description:"Failed to load quiz data",variant:"destructive"})}finally{c(!1)}},j=(N,k)=>{x(T=>({...T,[N]:k}))},S=()=>{let N=0;return m.forEach(k=>{p[k.id]===k.correct_option_index&&N++}),Math.round(N/m.length*100)},E=async()=>{if(!f||!t)return;if(Object.keys(p).length<m.length){i({title:"Incomplete",description:"Please answer all questions before submitting",variant:"destructive"});return}d(!0);const N=S(),k=N>=f.passing_score;try{const{error:T}=await M.from("quiz_attempts").insert({user_id:t.id,quiz_id:f.id,score:N,passed:k});if(T)throw T;if(k&&f.reward_points>0){const{data:R}=await M.from("profiles").select("total_points").eq("user_id",t.id).single();await M.from("profiles").update({total_points:((R==null?void 0:R.total_points)||0)+f.reward_points}).eq("user_id",t.id),await M.from("points_history").insert({user_id:t.id,points:f.reward_points,type:"attendance",description:`Final quiz bonus for ${w}`,course_id:e});const q=await mj(t.id);q.updated&&i({title:" Level Up!",description:`Congratulations! You've reached ${q.newLevel} level!`}),await r()}y({score:N,passed:k}),i({title:k?n.quiz.successTitle:n.quiz.failureTitle,description:n.quiz.score.replace("{score}",String(N))})}catch(T){console.error("Error submitting quiz:",T),i({title:"Error",description:n.quiz.errorSubmit,variant:"destructive"})}finally{d(!1)}};return l?a.jsx(He,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[a.jsx(cn,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:n.quiz.loading})]})}):f?v?a.jsx(He,{children:a.jsx("div",{className:"max-w-2xl mx-auto py-12",children:a.jsxs(Se,{className:"text-center overflow-hidden border-0 shadow-2xl",children:[a.jsx("div",{className:`h-2 ${v.passed?"bg-success":"bg-destructive"}`}),a.jsxs(nt,{className:"pt-10 pb-6",children:[a.jsx("div",{className:"flex justify-center mb-6",children:v.passed?a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-success/20 blur-2xl rounded-full scale-150"}),a.jsx(ym,{className:"w-24 h-24 text-success relative"})]}):a.jsx(lT,{className:"w-24 h-24 text-destructive"})}),a.jsx(st,{className:"text-3xl font-display font-black",children:v.passed?n.quiz.successTitle:n.quiz.failureTitle}),a.jsx(Ot,{className:"text-xl mt-2",children:n.quiz.score.replace("{score}",String(v.score))})]}),a.jsxs(ke,{className:"space-y-8 pb-10",children:[a.jsxs("div",{className:"bg-muted/50 rounded-2xl p-6 inline-block",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:n.quiz.passingScore.replace("{score}",String(f.passing_score))}),v.passed&&a.jsx("p",{className:"text-primary font-bold text-lg",children:n.quiz.pointsEarned.replace("{points}",String(f.reward_points))})]}),a.jsx("div",{children:a.jsx(Z,{onClick:()=>o("/my-courses"),size:"lg",className:"rounded-full px-12 h-14 font-bold text-lg",children:n.quiz.backToCourses})})]})]})})}):a.jsx(He,{children:a.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-20",children:[a.jsxs("div",{children:[a.jsxs(Z,{variant:"ghost",onClick:()=>o("/my-courses"),className:"mb-4 hover:bg-muted",children:[s==="rtl"?a.jsx(Pl,{className:"w-4 h-4 me-2"}):a.jsx(bi,{className:"w-4 h-4 me-2"}),n.quiz.backToCourses]}),a.jsx("h1",{className:"text-3xl font-display font-black",children:n.quiz.title.replace("{course}",w)})]}),a.jsx("div",{className:"space-y-6",children:m.map((N,k)=>a.jsxs(Se,{className:"border-0 shadow-md",children:[a.jsxs(nt,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold",children:k+1}),a.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-widest",children:n.quiz.questionCount.replace("{current}",String(k+1)).replace("{total}",String(m.length))})]}),a.jsx(st,{className:"text-xl font-medium leading-relaxed",children:N.question_text})]}),a.jsx(ke,{children:a.jsx(hj,{onValueChange:T=>j(N.id,parseInt(T)),className:"grid gap-3",children:N.options.map((T,R)=>a.jsxs("div",{className:"relative",children:[a.jsx(pj,{value:R.toString(),id:`${N.id}-${R}`,className:"peer sr-only"}),a.jsxs(be,{htmlFor:`${N.id}-${R}`,className:"flex items-center p-4 rounded-xl border-2 border-border/50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 hover:bg-muted/50 cursor-pointer transition-all",children:[a.jsx("span",{className:"w-6 h-6 rounded-full border-2 border-primary/30 flex items-center justify-center me-4 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary",children:a.jsx("span",{className:"w-2 h-2 rounded-full bg-white opacity-0 peer-data-[state=checked]:opacity-100"})}),T]})]},R))})})]},N.id))}),a.jsx("div",{className:"pt-6",children:a.jsx(Z,{onClick:E,disabled:u,size:"lg",className:"w-full h-16 rounded-full text-xl font-bold shadow-glow",children:u?a.jsx(cn,{className:"w-6 h-6 animate-spin"}):n.quiz.submit})})]})}):a.jsx(He,{children:a.jsxs("div",{className:"text-center py-20",children:[a.jsx(oT,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold",children:n.quiz.notFound}),a.jsx(Z,{onClick:()=>o("/my-courses"),className:"mt-6",children:n.quiz.backToCourses})]})})}function HM(){const{t:e}=Oe(),[t,r]=h.useState({totalUsers:0,totalCourses:0,totalEnrollments:0,totalPointsAwarded:0}),[n,s]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{var l;try{const[c,u,d,f]=await Promise.all([M.from("profiles").select("id",{count:"exact"}),M.from("courses").select("id",{count:"exact"}),M.from("enrollments").select("id",{count:"exact"}),M.from("points_history").select("points").gt("points",0)]);r({totalUsers:c.count||0,totalCourses:u.count||0,totalEnrollments:d.count||0,totalPointsAwarded:((l=f.data)==null?void 0:l.reduce((g,m)=>g+m.points,0))||0})}catch(c){console.error("Error fetching stats:",c)}finally{s(!1)}},i=[{icon:qr,label:e.admin.totalStudents,value:t.totalUsers,color:"text-primary",bg:"bg-primary/10"},{icon:At,label:e.admin.coursesCount,value:t.totalCourses,color:"text-success",bg:"bg-success/10"},{icon:Bb,label:e.admin.enrollments,value:t.totalEnrollments,color:"text-accent",bg:"bg-accent/10"},{icon:ft,label:e.admin.pointsAwarded,value:t.totalPointsAwarded,color:"text-warning",bg:"bg-warning/10"}];return a.jsx(He,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.admin.dashboard}),a.jsx("p",{className:"text-muted-foreground",children:e.admin.managePlatform})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((l,c)=>a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${l.bg} flex items-center justify-center`,children:a.jsx(l.icon,{className:`w-6 h-6 ${l.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-display font-bold",children:l.value}),a.jsx("p",{className:"text-sm text-muted-foreground",children:l.label})]})]})})},c))}),a.jsx(Se,{className:"border-0 shadow-md",children:a.jsxs(nt,{children:[a.jsx(st,{children:e.admin.quickActions}),a.jsx(Ot,{children:e.admin.quickActionsDesc})]})})]})})}var Cd="Switch",[KM,x3]=_t(Cd),[GM,YM]=KM(Cd),gj=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[g,m]=h.useState(null),b=pe(t,w=>m(w)),p=h.useRef(!1),x=g?d||!!g.closest("form"):!0,[v,y]=ln({prop:s,defaultProp:o??!1,onChange:u,caller:Cd});return a.jsxs(GM,{scope:r,checked:v,disabled:l,children:[a.jsx(te.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":wj(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Y(e.onClick,w=>{y(_=>!_),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&a.jsx(xj,{control:g,bubbles:!p.current,name:n,value:c,checked:v,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});gj.displayName=Cd;var vj="SwitchThumb",yj=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=YM(vj,r);return a.jsx(te.span,{"data-state":wj(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});yj.displayName=vj;var QM="SwitchBubbleInput",xj=h.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=h.useRef(null),l=pe(i,o),c=Sd(r),u=td(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const b=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(b)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xj.displayName=QM;function wj(e){return e?"checked":"unchecked"}var bj=gj,ZM=yj;const Nd=h.forwardRef(({className:e,...t},r)=>a.jsx(bj,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:a.jsx(ZM,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nd.displayName=bj.displayName;const Cg=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:W("w-full caption-bottom text-sm",e),...t})}));Cg.displayName="Table";const Ng=h.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:W("[&_tr]:border-b",e),...t}));Ng.displayName="TableHeader";const Eg=h.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:W("[&_tr:last-child]:border-0",e),...t}));Eg.displayName="TableBody";const JM=h.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));JM.displayName="TableFooter";const yl=h.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:W("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));yl.displayName="TableRow";const kt=h.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kt.displayName="TableHead";const Tt=h.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableCell";const XM=h.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:W("mt-4 text-sm text-muted-foreground",e),...t}));XM.displayName="TableCaption";var _j="AlertDialog",[e5,w3]=_t(_j,[dS]),In=dS(),Sj=e=>{const{__scopeAlertDialog:t,...r}=e,n=In(t);return a.jsx(ES,{...n,...r,modal:!0})};Sj.displayName=_j;var t5="AlertDialogTrigger",r5=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=In(r);return a.jsx(q$,{...s,...n,ref:t})});r5.displayName=t5;var n5="AlertDialogPortal",jj=e=>{const{__scopeAlertDialog:t,...r}=e,n=In(t);return a.jsx(kS,{...n,...r})};jj.displayName=n5;var s5="AlertDialogOverlay",Cj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=In(r);return a.jsx(mg,{...s,...n,ref:t})});Cj.displayName=s5;var oi="AlertDialogContent",[o5,i5]=e5(oi),a5=ub("AlertDialogContent"),Nj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=In(r),i=h.useRef(null),l=pe(t,i),c=h.useRef(null);return a.jsx(U$,{contentName:oi,titleName:Ej,docsSlug:"alert-dialog",children:a.jsx(o5,{scope:r,cancelRef:c,children:a.jsxs(gg,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:Y(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(a5,{children:n}),a.jsx(c5,{contentRef:i})]})})})});Nj.displayName=oi;var Ej="AlertDialogTitle",kj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=In(r);return a.jsx(vg,{...s,...n,ref:t})});kj.displayName=Ej;var Tj="AlertDialogDescription",Pj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=In(r);return a.jsx(yg,{...s,...n,ref:t})});Pj.displayName=Tj;var l5="AlertDialogAction",Rj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=In(r);return a.jsx(xg,{...s,...n,ref:t})});Rj.displayName=l5;var Aj="AlertDialogCancel",Oj=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=i5(Aj,r),o=In(r),i=pe(t,s);return a.jsx(xg,{...o,...n,ref:i})});Oj.displayName=Aj;var c5=({contentRef:e})=>{const t=`\`${oi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oi}\` by passing a \`${Tj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},u5=Sj,d5=jj,Ij=Cj,Dj=Nj,Lj=Rj,$j=Oj,Mj=kj,Fj=Pj;const Uj=u5,f5=d5,zj=h.forwardRef(({className:e,...t},r)=>a.jsx(Ij,{className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zj.displayName=Ij.displayName;const kg=h.forwardRef(({className:e,...t},r)=>a.jsxs(f5,{children:[a.jsx(zj,{}),a.jsx(Dj,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kg.displayName=Dj.displayName;const Tg=({className:e,...t})=>a.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});Tg.displayName="AlertDialogHeader";const Pg=({className:e,...t})=>a.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pg.displayName="AlertDialogFooter";const Rg=h.forwardRef(({className:e,...t},r)=>a.jsx(Mj,{ref:r,className:W("text-lg font-semibold",e),...t}));Rg.displayName=Mj.displayName;const Ag=h.forwardRef(({className:e,...t},r)=>a.jsx(Fj,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));Ag.displayName=Fj.displayName;const Og=h.forwardRef(({className:e,...t},r)=>a.jsx(Lj,{ref:r,className:W(Gm(),e),...t}));Og.displayName=Lj.displayName;const Ig=h.forwardRef(({className:e,...t},r)=>a.jsx($j,{ref:r,className:W(Gm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ig.displayName=$j.displayName;const $f={title:"",description:"",total_hours:0,sessions_count:0,price:0,points_reward:0,points_required:0,is_active:!0};function h5(){const{t:e}=Oe(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,g]=h.useState(null),[m,b]=h.useState(null),[p,x]=h.useState($f),{toast:v}=Zt();h.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:N,error:k}=await M.from("courses").select("*").order("created_at",{ascending:!1});if(k)throw k;r(N||[])}catch(N){console.error("Error fetching courses:",N),v({title:e.common.error,description:e.adminCourses.loadFailed,variant:"destructive"})}finally{s(!1)}},w=N=>{N?(g(N),x({title:N.title,description:N.description||"",total_hours:N.total_hours||0,sessions_count:N.sessions_count||0,price:Number(N.price)||0,points_reward:N.points_reward||0,points_required:N.points_required||0,is_active:N.is_active??!0})):(g(null),x($f)),c(!0)},_=()=>{c(!1),g(null),x($f)},C=async N=>{if(N.preventDefault(),!p.title.trim()){v({title:e.adminCourses.validationError,description:e.adminCourses.titleRequired,variant:"destructive"});return}i(!0);try{if(f){const{error:k}=await M.from("courses").update({title:p.title.trim(),description:p.description.trim(),total_hours:p.total_hours,sessions_count:p.sessions_count,price:p.price,points_reward:p.points_reward,points_required:p.points_required,is_active:p.is_active}).eq("id",f.id);if(k)throw k;v({title:e.common.success,description:e.adminCourses.courseUpdated})}else{const{error:k}=await M.from("courses").insert({title:p.title.trim(),description:p.description.trim(),total_hours:p.total_hours,sessions_count:p.sessions_count,price:p.price,points_reward:p.points_reward,points_required:p.points_required,is_active:p.is_active});if(k)throw k;v({title:e.common.success,description:e.adminCourses.courseCreated})}_(),y()}catch(k){console.error("Error saving course:",k),v({title:e.common.error,description:e.adminCourses.saveFailed,variant:"destructive"})}finally{i(!1)}},j=N=>{b(N),d(!0)},S=async()=>{if(m)try{const{error:N}=await M.from("courses").delete().eq("id",m.id);if(N)throw N;v({title:e.common.success,description:e.adminCourses.courseDeleted}),y()}catch(N){console.error("Error deleting course:",N),v({title:e.common.error,description:e.adminCourses.deleteFailed,variant:"destructive"})}finally{d(!1),b(null)}},E=(N,k)=>{x(T=>({...T,[N]:k}))};return a.jsxs(He,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.adminCourses.title}),a.jsx("p",{className:"text-muted-foreground",children:e.adminCourses.subtitle})]}),a.jsxs(Z,{onClick:()=>w(),className:"gap-2",children:[a.jsx(Qa,{className:"w-4 h-4"}),e.adminCourses.addCourse]})]}),a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-0",children:n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(cn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):t.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(At,{className:"w-12 h-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:e.adminCourses.noCourses}),a.jsx("p",{className:"text-muted-foreground mb-4",children:e.adminCourses.noCoursesDesc}),a.jsxs(Z,{onClick:()=>w(),className:"gap-2",children:[a.jsx(Qa,{className:"w-4 h-4"}),e.adminCourses.addCourse]})]}):a.jsxs(Cg,{children:[a.jsx(Ng,{children:a.jsxs(yl,{children:[a.jsx(kt,{children:e.adminCourses.courseTitle}),a.jsx(kt,{children:e.common.hours}),a.jsx(kt,{children:e.common.sessions}),a.jsx(kt,{children:e.adminCourses.price}),a.jsx(kt,{children:e.adminCourses.pointsReward}),a.jsx(kt,{children:e.adminCourses.pointsRequired}),a.jsx(kt,{children:e.common.status}),a.jsx(kt,{className:"text-end",children:e.common.actions})]})}),a.jsx(Eg,{children:t.map(N=>a.jsxs(yl,{children:[a.jsx(Tt,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.title}),N.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:N.description})]})}),a.jsxs(Tt,{children:[N.total_hours||0,"h"]}),a.jsx(Tt,{children:N.sessions_count||0}),a.jsxs(Tt,{children:["$",Number(N.price||0).toFixed(2)]}),a.jsx(Tt,{children:N.points_reward||0}),a.jsx(Tt,{children:N.points_required||0}),a.jsx(Tt,{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.is_active?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:N.is_active?e.common.active:e.common.inactive})}),a.jsx(Tt,{className:"text-end",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>w(N),children:a.jsx(Fb,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>j(N),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(zb,{className:"w-4 h-4"})})]})})]},N.id))})]})})})]}),a.jsx(Ri,{open:l,onOpenChange:c,children:a.jsxs(co,{className:"max-w-2xl",children:[a.jsxs(Ai,{children:[a.jsx(Oi,{children:f?e.adminCourses.editCourse:e.adminCourses.createCourse}),a.jsx(Ii,{children:f?e.adminCourses.editDesc:e.adminCourses.createDesc})]}),a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(be,{htmlFor:"title",children:[e.adminCourses.courseTitle," *"]}),a.jsx(Fe,{id:"title",value:p.title,onChange:N=>E("title",N.target.value),placeholder:e.adminCourses.courseTitle})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"description",children:e.adminCourses.description}),a.jsx(bd,{id:"description",value:p.description,onChange:N=>E("description",N.target.value),placeholder:e.adminCourses.description,rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"total_hours",children:e.adminCourses.totalHours}),a.jsx(Fe,{id:"total_hours",type:"number",min:"0",value:p.total_hours,onChange:N=>E("total_hours",parseInt(N.target.value)||0)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"sessions_count",children:e.adminCourses.sessionsCount}),a.jsx(Fe,{id:"sessions_count",type:"number",min:"0",value:p.sessions_count,onChange:N=>E("sessions_count",parseInt(N.target.value)||0)})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(be,{htmlFor:"price",children:[e.adminCourses.price," ($)"]}),a.jsx(Fe,{id:"price",type:"number",min:"0",step:"0.01",value:p.price,onChange:N=>E("price",parseFloat(N.target.value)||0)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"points_reward",children:e.adminCourses.pointsReward}),a.jsx(Fe,{id:"points_reward",type:"number",min:"0",value:p.points_reward,onChange:N=>E("points_reward",parseInt(N.target.value)||0)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"points_required",children:e.adminCourses.pointsRequired}),a.jsx(Fe,{id:"points_required",type:"number",min:"0",value:p.points_required,onChange:N=>E("points_required",parseInt(N.target.value)||0)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nd,{id:"is_active",checked:p.is_active,onCheckedChange:N=>E("is_active",N)}),a.jsx(be,{htmlFor:"is_active",children:e.adminCourses.isActive})]})]}),a.jsxs(vl,{children:[a.jsx(Z,{type:"button",variant:"outline",onClick:_,children:e.common.cancel}),a.jsxs(Z,{type:"submit",disabled:o,children:[o&&a.jsx(cn,{className:"w-4 h-4 me-2 animate-spin"}),f?e.adminCourses.updateCourse:e.adminCourses.createCourseBtn]})]})]})]})}),a.jsx(Uj,{open:u,onOpenChange:d,children:a.jsxs(kg,{children:[a.jsxs(Tg,{children:[a.jsx(Rg,{children:e.adminCourses.deleteCourse}),a.jsx(Ag,{children:e.adminCourses.deleteConfirm.replace("{title}",(m==null?void 0:m.title)||"")})]}),a.jsxs(Pg,{children:[a.jsx(Ig,{children:e.common.cancel}),a.jsx(Og,{onClick:S,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e.common.delete})]})]})})]})}var p5=[" ","Enter","ArrowUp","ArrowDown"],m5=[" ","Enter"],uo="Select",[Ed,kd,g5]=pm(uo),[Gi,b3]=_t(uo,[g5,Wi]),Td=Wi(),[v5,Ps]=Gi(uo),[y5,x5]=Gi(uo),Bj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:m,form:b}=e,p=Td(t),[x,v]=h.useState(null),[y,w]=h.useState(null),[_,C]=h.useState(!1),j=vd(u),[S,E]=ln({prop:n,defaultProp:s??!1,onChange:o,caller:uo}),[N,k]=ln({prop:i,defaultProp:l,onChange:c,caller:uo}),T=h.useRef(null),R=x?b||!!x.closest("form"):!0,[q,D]=h.useState(new Set),G=Array.from(q).map(O=>O.props.value).join(";");return a.jsx(w_,{...p,children:a.jsxs(v5,{required:m,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:jn(),value:N,onValueChange:k,open:S,onOpenChange:E,dir:j,triggerPointerDownPosRef:T,disabled:g,children:[a.jsx(Ed.Provider,{scope:t,children:a.jsx(y5,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(O=>{D(B=>new Set(B).add(O))},[]),onNativeOptionRemove:h.useCallback(O=>{D(B=>{const P=new Set(B);return P.delete(O),P})},[]),children:r})}),R?a.jsxs(fC,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:O=>k(O.target.value),disabled:g,form:b,children:[N===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},G):null]})})};Bj.displayName=uo;var Vj="SelectTrigger",qj=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Td(r),i=Ps(Vj,r),l=i.disabled||n,c=pe(t,i.onTriggerChange),u=kd(r),d=h.useRef("touch"),[f,g,m]=pC(p=>{const x=u().filter(w=>!w.disabled),v=x.find(w=>w.value===i.value),y=mC(x,p,v);y!==void 0&&i.onValueChange(y.value)}),b=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(rd,{asChild:!0,...o,children:a.jsx(te.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hC(i.value)?"":void 0,...s,ref:c,onClick:Y(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&b(p)}),onPointerDown:Y(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:Y(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(x&&p.key===" ")&&p5.includes(p.key)&&(b(),p.preventDefault())})})})});qj.displayName=Vj;var Wj="SelectValue",Hj=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=Ps(Wj,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=pe(t,c.onValueNodeChange);return et(()=>{u(d)},[u,d]),a.jsx(te.span,{...l,ref:f,style:{pointerEvents:"none"},children:hC(c.value)?a.jsx(a.Fragment,{children:i}):o})});Hj.displayName=Wj;var w5="SelectIcon",Kj=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(te.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Kj.displayName=w5;var b5="SelectPortal",Gj=e=>a.jsx(kl,{asChild:!0,...e});Gj.displayName=b5;var fo="SelectContent",Yj=h.forwardRef((e,t)=>{const r=Ps(fo,e.__scopeSelect),[n,s]=h.useState();if(et(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?mo.createPortal(a.jsx(Qj,{scope:e.__scopeSelect,children:a.jsx(Ed.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(Zj,{...e,ref:t})});Yj.displayName=fo;var Pr=10,[Qj,Rs]=Gi(fo),_5="SelectContentImpl",S5=so("SelectContent.RemoveScroll"),Zj=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...v}=e,y=Ps(fo,r),[w,_]=h.useState(null),[C,j]=h.useState(null),S=pe(t,z=>_(z)),[E,N]=h.useState(null),[k,T]=h.useState(null),R=kd(r),[q,D]=h.useState(!1),G=h.useRef(!1);h.useEffect(()=>{if(w)return ng(w)},[w]),rg();const O=h.useCallback(z=>{const[ue,...Ce]=R().map($=>$.ref.current),[de]=Ce.slice(-1),re=document.activeElement;for(const $ of z)if($===re||($==null||$.scrollIntoView({block:"nearest"}),$===ue&&C&&(C.scrollTop=0),$===de&&C&&(C.scrollTop=C.scrollHeight),$==null||$.focus(),document.activeElement!==re))return},[R,C]),B=h.useCallback(()=>O([E,w]),[O,E,w]);h.useEffect(()=>{q&&B()},[q,B]);const{onOpenChange:P,triggerPointerDownPosRef:A}=y;h.useEffect(()=>{if(w){let z={x:0,y:0};const ue=de=>{var re,$;z={x:Math.abs(Math.round(de.pageX)-(((re=A.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(de.pageY)-((($=A.current)==null?void 0:$.y)??0))}},Ce=de=>{z.x<=10&&z.y<=10?de.preventDefault():w.contains(de.target)||P(!1),document.removeEventListener("pointermove",ue),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[w,P,A]),h.useEffect(()=>{const z=()=>P(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[P]);const[U,J]=pC(z=>{const ue=R().filter(re=>!re.disabled),Ce=ue.find(re=>re.ref.current===document.activeElement),de=mC(ue,z,Ce);de&&setTimeout(()=>de.ref.current.focus())}),K=h.useCallback((z,ue,Ce)=>{const de=!G.current&&!Ce;(y.value!==void 0&&y.value===ue||de)&&(N(z),de&&(G.current=!0))},[y.value]),ie=h.useCallback(()=>w==null?void 0:w.focus(),[w]),se=h.useCallback((z,ue,Ce)=>{const de=!G.current&&!Ce;(y.value!==void 0&&y.value===ue||de)&&T(z)},[y.value]),Te=n==="popper"?pp:Jj,Ae=Te===pp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(Qj,{scope:r,content:w,viewport:C,onViewportChange:j,itemRefCallback:K,selectedItem:E,onItemLeave:ie,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:k,position:n,isPositioned:q,searchRef:U,children:a.jsx(md,{as:S5,allowPinchZoom:!0,children:a.jsx(hd,{asChild:!0,trapped:y.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Y(s,z=>{var ue;(ue=y.trigger)==null||ue.focus({preventScroll:!0}),z.preventDefault()}),children:a.jsx(zi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(Te,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:z=>z.preventDefault(),...v,...Ae,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Y(v.onKeyDown,z=>{const ue=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!ue&&z.key.length===1&&J(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let de=R().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(z.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const re=z.target,$=de.indexOf(re);de=de.slice($+1)}setTimeout(()=>O(de)),z.preventDefault()}})})})})})})});Zj.displayName=_5;var j5="SelectItemAlignedPosition",Jj=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Ps(fo,r),i=Rs(fo,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=pe(t,S=>d(S)),g=kd(r),m=h.useRef(!1),b=h.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=i,w=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&x&&v){const S=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(o.dir!=="rtl"){const re=k.left-E.left,$=N.left-re,me=S.left-$,we=S.width+me,Be=Math.max(we,E.width),lt=window.innerWidth-Pr,mt=fp($,[Pr,Math.max(Pr,lt-Be)]);l.style.minWidth=we+"px",l.style.left=mt+"px"}else{const re=E.right-k.right,$=window.innerWidth-N.right-re,me=window.innerWidth-S.right-$,we=S.width+me,Be=Math.max(we,E.width),lt=window.innerWidth-Pr,mt=fp($,[Pr,Math.max(Pr,lt-Be)]);l.style.minWidth=we+"px",l.style.right=mt+"px"}const T=g(),R=window.innerHeight-Pr*2,q=p.scrollHeight,D=window.getComputedStyle(u),G=parseInt(D.borderTopWidth,10),O=parseInt(D.paddingTop,10),B=parseInt(D.borderBottomWidth,10),P=parseInt(D.paddingBottom,10),A=G+O+q+P+B,U=Math.min(x.offsetHeight*5,A),J=window.getComputedStyle(p),K=parseInt(J.paddingTop,10),ie=parseInt(J.paddingBottom,10),se=S.top+S.height/2-Pr,Te=R-se,Ae=x.offsetHeight/2,z=x.offsetTop+Ae,ue=G+O+z,Ce=A-ue;if(ue<=se){const re=T.length>0&&x===T[T.length-1].ref.current;l.style.bottom="0px";const $=u.clientHeight-p.offsetTop-p.offsetHeight,me=Math.max(Te,Ae+(re?ie:0)+$+B),we=ue+me;l.style.height=we+"px"}else{const re=T.length>0&&x===T[0].ref.current;l.style.top="0px";const me=Math.max(se,G+p.offsetTop+(re?K:0)+Ae)+Ce;l.style.height=me+"px",p.scrollTop=ue-se+p.offsetTop}l.style.margin=`${Pr}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[g,o.trigger,o.valueNode,l,u,p,x,v,o.dir,n]);et(()=>w(),[w]);const[_,C]=h.useState();et(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(S=>{S&&b.current===!0&&(w(),y==null||y(),b.current=!1)},[w,y]);return a.jsx(N5,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(te.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Jj.displayName=j5;var C5="SelectPopperPosition",pp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Pr,...o}=e,i=Td(r);return a.jsx(Im,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pp.displayName=C5;var[N5,Dg]=Gi(fo,{}),mp="SelectViewport",Xj=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Rs(mp,r),i=Dg(mp,r),l=pe(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ed.Slot,{scope:r,children:a.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const b=window.innerHeight-Pr*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<b){const y=v+m,w=Math.min(b,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Xj.displayName=mp;var eC="SelectGroup",[E5,k5]=Gi(eC),T5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jn();return a.jsx(E5,{scope:r,id:s,children:a.jsx(te.div,{role:"group","aria-labelledby":s,...n,ref:t})})});T5.displayName=eC;var tC="SelectLabel",rC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=k5(tC,r);return a.jsx(te.div,{id:s.id,...n,ref:t})});rC.displayName=tC;var Ru="SelectItem",[P5,nC]=Gi(Ru),sC=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=Ps(Ru,r),c=Rs(Ru,r),u=l.value===n,[d,f]=h.useState(o??""),[g,m]=h.useState(!1),b=pe(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),p=jn(),x=h.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(P5,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:h.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Ed.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(te.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:Y(i.onFocus,()=>m(!0)),onBlur:Y(i.onBlur,()=>m(!1)),onClick:Y(i.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Y(i.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Y(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Y(i.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Y(i.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(m5.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});sC.displayName=Ru;var ga="SelectItemText",oC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Ps(ga,r),l=Rs(ga,r),c=nC(ga,r),u=x5(ga,r),[d,f]=h.useState(null),g=pe(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,b=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return et(()=>(p(b),()=>x(b)),[p,x,b]),a.jsxs(a.Fragment,{children:[a.jsx(te.span,{id:c.textId,...o,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?mo.createPortal(o.children,i.valueNode):null]})});oC.displayName=ga;var iC="SelectItemIndicator",aC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nC(iC,r).isSelected?a.jsx(te.span,{"aria-hidden":!0,...n,ref:t}):null});aC.displayName=iC;var gp="SelectScrollUpButton",lC=h.forwardRef((e,t)=>{const r=Rs(gp,e.__scopeSelect),n=Dg(gp,e.__scopeSelect),[s,o]=h.useState(!1),i=pe(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(uC,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});lC.displayName=gp;var vp="SelectScrollDownButton",cC=h.forwardRef((e,t)=>{const r=Rs(vp,e.__scopeSelect),n=Dg(vp,e.__scopeSelect),[s,o]=h.useState(!1),i=pe(t,n.onScrollButtonChange);return et(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(uC,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});cC.displayName=vp;var uC=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Rs("SelectScrollButton",r),i=h.useRef(null),l=kd(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),et(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(te.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Y(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})})}),R5="SelectSeparator",dC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(te.div,{"aria-hidden":!0,...n,ref:t})});dC.displayName=R5;var yp="SelectArrow",A5=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Td(r),o=Ps(yp,r),i=Rs(yp,r);return o.open&&i.position==="popper"?a.jsx(Dm,{...s,...n,ref:t}):null});A5.displayName=yp;var O5="SelectBubbleInput",fC=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=h.useRef(null),o=pe(n,s),i=Sd(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(te.select,{...r,style:{...mb,...r.style},ref:o,defaultValue:t})});fC.displayName=O5;function hC(e){return e===""||e===void 0}function pC(e){const t=at(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function mC(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=I5(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function I5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var D5=Bj,gC=qj,L5=Hj,$5=Kj,M5=Gj,vC=Yj,F5=Xj,yC=rC,xC=sC,U5=oC,z5=aC,wC=lC,bC=cC,_C=dC;const xl=D5,wl=L5,Li=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(gC,{ref:n,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx($5,{asChild:!0,children:a.jsx(wm,{className:"h-4 w-4 opacity-50"})})]}));Li.displayName=gC.displayName;const SC=h.forwardRef(({className:e,...t},r)=>a.jsx(wC,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Mb,{className:"h-4 w-4"})}));SC.displayName=wC.displayName;const jC=h.forwardRef(({className:e,...t},r)=>a.jsx(bC,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(wm,{className:"h-4 w-4"})}));jC.displayName=bC.displayName;const $i=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(M5,{children:a.jsxs(vC,{ref:s,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(SC,{}),a.jsx(F5,{className:W("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(jC,{})]})}));$i.displayName=vC.displayName;const B5=h.forwardRef(({className:e,...t},r)=>a.jsx(yC,{ref:r,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));B5.displayName=yC.displayName;const Fr=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(xC,{ref:n,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(z5,{children:a.jsx(Zu,{className:"h-4 w-4"})})}),a.jsx(U5,{children:t})]}));Fr.displayName=xC.displayName;const V5=h.forwardRef(({className:e,...t},r)=>a.jsx(_C,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));V5.displayName=_C.displayName;var Pd="Checkbox",[q5,_3]=_t(Pd),[W5,Lg]=q5(Pd);function H5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[g,m]=ln({prop:r,defaultProp:s??!1,onChange:c,caller:Pd}),[b,p]=h.useState(null),[x,v]=h.useState(null),y=h.useRef(!1),w=b?!!i||!!b.closest("form"):!0,_={checked:g,disabled:o,setChecked:m,control:b,setControl:p,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:vs(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:v};return a.jsx(W5,{scope:t,..._,children:K5(f)?f(_):n})}var CC="CheckboxTrigger",NC=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:b}=Lg(CC,e),p=pe(s,d),x=h.useRef(c);return h.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const y=()=>f(x.current);return v.addEventListener("reset",y),()=>v.removeEventListener("reset",y)}},[o,f]),a.jsx(te.button,{type:"button",role:"checkbox","aria-checked":vs(c)?"mixed":c,"aria-required":u,"data-state":RC(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:p,onKeyDown:Y(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Y(r,v=>{f(y=>vs(y)?!0:!y),b&&m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})})});NC.displayName=CC;var $g=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(H5,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(NC,{...f,ref:t,__scopeCheckbox:r}),g&&a.jsx(PC,{__scopeCheckbox:r})]})})});$g.displayName=Pd;var EC="CheckboxIndicator",kC=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=Lg(EC,r);return a.jsx(Bt,{present:n||vs(o.checked)||o.checked===!0,children:a.jsx(te.span,{"data-state":RC(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kC.displayName=EC;var TC="CheckboxBubbleInput",PC=h.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:m}=Lg(TC,e),b=pe(r,m),p=Sd(o),x=td(n);h.useEffect(()=>{const y=g;if(!y)return;const w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(p!==o&&C){const S=new Event("click",{bubbles:j});y.indeterminate=vs(o),C.call(y,vs(o)?!1:o),y.dispatchEvent(S)}},[g,p,o,s]);const v=h.useRef(vs(o)?!1:o);return a.jsx(te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PC.displayName=TC;function K5(e){return typeof e=="function"}function vs(e){return e==="indeterminate"}function RC(e){return vs(e)?"indeterminate":e?"checked":"unchecked"}const AC=h.forwardRef(({className:e,...t},r)=>a.jsx($g,{ref:r,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(kC,{className:W("flex items-center justify-center text-current"),children:a.jsx(Zu,{className:"h-4 w-4"})})}));AC.displayName=$g.displayName;const G5=()=>{const{t:e,dir:t}=Oe();Vt();const r=t==="rtl",[n,s]=h.useState(""),[o,i]=h.useState(""),[l,c]=h.useState("all"),[u,d]=h.useState(""),[f,g]=h.useState([]),[m,b]=h.useState([]),[p,x]=h.useState([]),[v,y]=h.useState([]),[w,_]=h.useState(!1),[C,j]=h.useState(!0);h.useEffect(()=>{S()},[]);const S=async()=>{j(!0);try{const[k,T,R]=await Promise.all([M.from("courses").select("id, title"),M.from("profiles").select("user_id, full_name, email"),M.from("notifications").select("*").order("created_at",{ascending:!1}).limit(10)]);k.data&&b(k.data),T.data&&x(T.data),R.data&&y(R.data)}catch(k){console.error("Error fetching data:",k)}finally{j(!1)}},E=async()=>{if(!n.trim()||!o.trim()){la.error(r?"   ":"Please fill all fields");return}if(l==="specific_users"&&f.length===0){la.error(r?"  ":"Please select users");return}if(l==="course_enrollees"&&!u){la.error(r?"  ":"Please select a course");return}_(!0);try{const{data:k,error:T}=await M.functions.invoke("send-notification",{body:{title:n,message:o,target_type:l,target_course_id:l==="course_enrollees"?u:void 0,target_user_ids:l==="specific_users"?f:void 0}});if(T)throw T;la.success(r?`    ${k.recipients_count} `:`Notification sent to ${k.recipients_count} users`),s(""),i(""),c("all"),d(""),g([]),S()}catch(k){console.error("Error sending notification:",k),la.error(r?"   ":"Failed to send notification")}finally{_(!1)}},N=k=>{g(T=>T.includes(k)?T.filter(R=>R!==k):[...T,k])};return a.jsx(He,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:r?" ":"Notifications Management"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:r?"      ":"Send notifications to users via website and email"})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(Se,{children:[a.jsx(nt,{children:a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(Dh,{className:"h-5 w-5"}),r?"  ":"Send New Notification"]})}),a.jsxs(ke,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:r?" ":"Notification Title"}),a.jsx(Fe,{value:n,onChange:k=>s(k.target.value),placeholder:r?"  ":"Enter notification title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:r?" ":"Notification Message"}),a.jsx(bd,{value:o,onChange:k=>i(k.target.value),placeholder:r?"  ":"Enter notification message",rows:4})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:r?" ":"Target Audience"}),a.jsxs(xl,{value:l,onValueChange:k=>c(k),children:[a.jsx(Li,{children:a.jsx(wl,{})}),a.jsxs($i,{children:[a.jsx(Fr,{value:"all",children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(qr,{className:"h-4 w-4"}),r?" ":"All Users"]})}),a.jsx(Fr,{value:"specific_users",children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(qr,{className:"h-4 w-4"}),r?" ":"Specific Users"]})}),a.jsx(Fr,{value:"course_enrollees",children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"h-4 w-4"}),r?"  ":"Course Enrollees"]})})]})]})]}),l==="course_enrollees"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{children:r?" ":"Select Course"}),a.jsxs(xl,{value:u,onValueChange:d,children:[a.jsx(Li,{children:a.jsx(wl,{placeholder:r?" ":"Select a course"})}),a.jsx($i,{children:m.map(k=>a.jsx(Fr,{value:k.id,children:k.title},k.id))})]})]}),l==="specific_users"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{children:[r?" ":"Select Users"," (",f.length,")"]}),a.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-md p-2 space-y-2",children:p.map(k=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(AC,{id:k.user_id,checked:f.includes(k.user_id),onCheckedChange:()=>N(k.user_id)}),a.jsx("label",{htmlFor:k.user_id,className:"text-sm cursor-pointer flex-1",children:k.full_name||k.email||k.user_id})]},k.user_id))})]}),a.jsx(Z,{onClick:E,disabled:w,className:"w-full",children:w?a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"h-4 w-4 animate-spin me-2"}),r?" ...":"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Dh,{className:"h-4 w-4 me-2"}),r?" ":"Send Notification"]})})]})]}),a.jsxs(Se,{children:[a.jsxs(nt,{children:[a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(xm,{className:"h-5 w-5"}),r?" ":"Recent Notifications"]}),a.jsx(Ot,{children:r?" 10   ":"Last 10 sent notifications"})]}),a.jsx(ke,{children:C?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(cn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):v.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:r?"  ":"No notifications yet"}):a.jsx("div",{className:"space-y-3",children:v.map(k=>a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("h4",{className:"font-medium",children:k.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:k.message}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:k.target_type==="all"?r?"":"All":k.target_type==="specific_users"?r?" ":"Specific users":r?" ":"Course enrollees"}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(k.created_at).toLocaleDateString()})]})]},k.id))})})]})]})]})})};function Y5(){const{t:e,dir:t}=Oe(),{toast:r}=Zt(),[n,s]=h.useState(!0),[o,i]=h.useState([]),[l,c]=h.useState(""),[u,d]=h.useState(null),[f,g]=h.useState({enrollments:[],pointsHistory:[]}),[m,b]=h.useState(!1);h.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const{data:j,error:S}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(S)throw S;i(j||[])}catch(j){r({title:e.common.error,description:j.message,variant:"destructive"})}finally{s(!1)}},x=async j=>{try{b(!0);const{data:S,error:E}=await M.from("enrollments").select("*, courses(title)").eq("user_id",j);if(E)throw E;const{data:N,error:k}=await M.from("points_history").select("*").eq("user_id",j).order("created_at",{ascending:!1});if(k)throw k;g({enrollments:S||[],pointsHistory:N||[]})}catch(S){r({title:e.common.error,description:S.message,variant:"destructive"})}finally{b(!1)}},v=j=>{d(j),x(j.id)},y=o.filter(j=>{var S,E;return(((S=j.full_name)==null?void 0:S.toLowerCase())||"").includes(l.toLowerCase())||(((E=j.email)==null?void 0:E.toLowerCase())||"").includes(l.toLowerCase())}),w=f.enrollments.filter(j=>j.progress_percentage<100),_=f.enrollments.filter(j=>j.progress_percentage===100),C=async j=>{if(u)try{const{error:S}=await M.from("profiles").update({student_level:j}).eq("id",u.id);if(S)throw S;i(E=>E.map(N=>N.id===u.id?{...N,student_level:j}:N)),d(E=>E?{...E,student_level:j}:null),r({title:e.common.success,description:"Student level updated successfully"})}catch(S){r({title:e.common.error,description:S.message,variant:"destructive"})}};return a.jsx(He,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.nav.users}),a.jsx("p",{className:"text-muted-foreground",children:e.adminUsers.subtitle})]}),a.jsxs("div",{className:"relative w-full md:w-80",children:[a.jsx(bT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:e.adminUsers.searchPlaceholder,value:l,onChange:j=>c(j.target.value),className:"ps-10"})]})]}),n?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(j=>a.jsx("div",{className:"h-40 rounded-xl bg-muted animate-pulse"},j))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(j=>a.jsxs(Se,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer border-accent/10 hover:border-accent/30",onClick:()=>v(j),children:[a.jsxs(nt,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center text-accent group-hover:bg-accent group-hover:text-accent-foreground transition-colors duration-300",children:a.jsx(cu,{className:"w-6 h-6"})}),a.jsxs(Mt,{variant:"secondary",className:"gradient-primary text-white border-0",children:[j.total_points||0," ",e.common.pts]})]}),a.jsx(st,{className:"text-xl mt-3 line-clamp-1",children:j.full_name||"N/A"}),a.jsxs(Ot,{className:"flex items-center gap-1.5 truncate",children:[a.jsx(lu,{className:"w-3.5 h-3.5"}),j.email]})]}),a.jsx(ke,{children:a.jsxs(Z,{variant:"ghost",className:"w-full justify-between group-hover:bg-accent/5",size:"sm",children:[e.adminUsers.viewDetails,a.jsx(bm,{className:`w-4 h-4 transition-transform duration-300 ${t==="rtl"?"rotate-180 group-hover:-translate-x-1":"group-hover:translate-x-1"}`})]})})]},j.id))}),a.jsx(Ri,{open:!!u,onOpenChange:j=>!j&&d(null),children:a.jsxs(co,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Ai,{children:[a.jsxs(Oi,{className:"text-2xl font-display flex items-center gap-2",children:[a.jsx(au,{className:"w-6 h-6 text-accent"}),e.adminUsers.userDetails]}),a.jsxs(Ii,{children:[u==null?void 0:u.full_name," (",u==null?void 0:u.email,")"]})]}),m?a.jsxs("div",{className:"space-y-4 py-8",children:[a.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-40 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-orange-500/5 border border-orange-500/10 flex flex-col items-center justify-center text-center",children:[a.jsx(Ja,{className:`w-5 h-5 mb-1 ${(u==null?void 0:u.student_level)==="advanced"?"text-amber-500":(u==null?void 0:u.student_level)==="intermediate"?"text-blue-500":"text-slate-400"}`}),a.jsx("div",{className:"w-full",children:a.jsxs(xl,{value:(u==null?void 0:u.student_level)||"beginner",onValueChange:C,children:[a.jsx(Li,{className:"h-8 border-none bg-transparent hover:bg-muted/50 transition-colors py-0 text-center justify-center font-bold",children:a.jsx(wl,{})}),a.jsxs($i,{children:[a.jsx(Fr,{value:"beginner",children:e.common.beginner}),a.jsx(Fr,{value:"intermediate",children:e.common.intermediate}),a.jsx(Fr,{value:"advanced",children:e.common.advanced})]})]})}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:e.common.level})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-accent/5 border border-accent/10 flex flex-col items-center justify-center text-center",children:[a.jsx(ft,{className:"w-5 h-5 text-accent mb-1"}),a.jsx("span",{className:"text-lg font-bold",children:(u==null?void 0:u.total_points)||0}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:e.adminUsers.points})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-blue-500/5 border border-blue-500/10 flex flex-col items-center justify-center text-center",children:[a.jsx(At,{className:"w-5 h-5 text-blue-500 mb-1"}),a.jsx("span",{className:"text-lg font-bold",children:w.length}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:e.adminUsers.activeCourses})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-green-500/5 border border-green-500/10 flex flex-col items-center justify-center text-center",children:[a.jsx(Vs,{className:"w-5 h-5 text-green-500 mb-1"}),a.jsx("span",{className:"text-lg font-bold",children:_.length}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:e.adminUsers.completedCourses})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"font-display font-semibold flex items-center gap-2",children:[a.jsx(Rl,{className:"w-4 h-4 text-blue-500"}),e.adminUsers.activeCourses]}),w.length>0?a.jsx("div",{className:"space-y-2",children:w.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 border border-muted",children:[a.jsx("span",{className:"font-medium",children:j.courses.title}),a.jsxs(Mt,{variant:"outline",children:[j.progress_percentage,"%"]})]},j.id))}):a.jsx("p",{className:"text-sm text-muted-foreground italic",children:e.adminUsers.noActive})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"font-display font-semibold flex items-center gap-2",children:[a.jsx(Vs,{className:"w-4 h-4 text-green-500"}),e.adminUsers.completedCourses]}),_.length>0?a.jsx("div",{className:"space-y-2",children:_.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-500/5 border border-green-500/20",children:[a.jsx("span",{className:"font-medium",children:j.courses.title}),a.jsxs(Mt,{className:"bg-green-500 border-0",children:[j.progress_percentage,"%"]})]},j.id))}):a.jsx("p",{className:"text-sm text-muted-foreground italic",children:e.adminUsers.noCompleted})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"font-display font-semibold flex items-center gap-2",children:[a.jsx(dT,{className:"w-4 h-4 text-accent"}),e.adminUsers.pointsHistory]}),f.pointsHistory.length>0?a.jsx("div",{className:"space-y-2",children:f.pointsHistory.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/20 border border-muted/50",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-sm",children:j.description||j.type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(j.created_at).toLocaleDateString()})]}),a.jsxs(Mt,{className:j.points>=0?"bg-green-500":"bg-red-500",children:[j.points>=0?"+":"",j.points]})]},j.id))}):a.jsx("p",{className:"text-sm text-muted-foreground italic",children:e.adminUsers.noHistory})]})]})]})})]})})}function Q5(){const{t:e}=Oe();return a.jsx(He,{children:a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.nav.batches}),a.jsx("p",{className:"text-muted-foreground",children:e.adminBatches.subtitle})]})})})}function Z5(){const{t:e,dir:t}=Oe(),{toast:r}=Zt(),[n,s]=h.useState(!0),[o,i]=h.useState([]),[l,c]=h.useState(""),[u,d]=h.useState([]),[f,g]=h.useState(!1),[m,b]=h.useState({title:"",date:new Date().toISOString().split("T")[0],duration:1}),[p,x]=h.useState(!1),[v,y]=h.useState(null),[w,_]=h.useState([]),[C,j]=h.useState({}),[S,E]=h.useState(!1);h.useEffect(()=>{N()},[]),h.useEffect(()=>{l?k(l):d([])},[l]);const N=async()=>{try{s(!0);const{data:O,error:B}=await M.from("batches").select("*, courses(title)").eq("is_active",!0);if(B)throw B;i(O||[])}catch(O){r({title:e.common.error,description:O.message,variant:"destructive"})}finally{s(!1)}},k=async O=>{try{const{data:B,error:P}=await M.from("course_sessions").select("*").eq("batch_id",O).order("session_date",{ascending:!1});if(P)throw P;d(B||[])}catch(B){r({title:e.common.error,description:B.message,variant:"destructive"})}},T=async()=>{if(!(!m.title||!l))try{const{error:O}=await M.from("course_sessions").insert({batch_id:l,title:m.title,session_date:m.date,duration_hours:m.duration});if(O)throw O;r({title:e.adminAttendance.sessionCreated}),g(!1),b({title:"",date:new Date().toISOString().split("T")[0],duration:1}),k(l)}catch(O){r({title:e.common.error,description:O.message,variant:"destructive"})}},R=async O=>{y(O),x(!0),j({});try{const{data:B,error:P}=await M.from("enrollments").select("user_id, profiles(full_name)").eq("batch_id",l);if(P)throw P;_(B||[]);const{data:A,error:U}=await M.from("attendance").select("user_id, attended").eq("session_id",O.id);if(U)throw U;const J={};(A||[]).forEach(K=>{J[K.user_id]=K.attended}),j(J)}catch(B){r({title:e.common.error,description:B.message,variant:"destructive"})}},q=(O,B)=>{j(P=>({...P,[O]:B}))},D=async()=>{if(v)try{E(!0);const O=w.map(P=>({session_id:v.id,user_id:P.user_id,attended:C[P.user_id]||!1,hours_attended:C[P.user_id]?v.duration_hours:0})),{error:B}=await M.from("attendance").upsert(O,{onConflict:"session_id, user_id"});if(B)throw B;await Promise.all(w.map(P=>mj(P.user_id))),r({title:e.adminAttendance.saveSuccess}),x(!1)}catch(O){r({title:e.common.error,description:O.message,variant:"destructive"})}finally{E(!1)}},G=t==="rtl"?sT:bm;return a.jsx(He,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.nav.attendance}),a.jsx("p",{className:"text-muted-foreground",children:e.adminAttendance.subtitle})]}),l&&a.jsxs(Z,{onClick:()=>g(!0),className:"gradient-primary",children:[a.jsx(Qa,{className:"w-4 h-4 me-2"}),e.adminAttendance.addSession]})]}),a.jsxs(Se,{className:"border-accent/10",children:[a.jsx(nt,{className:"pb-3",children:a.jsxs(st,{className:"text-lg flex items-center gap-2",children:[a.jsx(qr,{className:"w-5 h-5 text-accent"}),e.adminAttendance.selectBatch]})}),a.jsx(ke,{children:a.jsxs(xl,{value:l,onValueChange:c,children:[a.jsx(Li,{className:"w-full md:w-[400px]",children:a.jsx(wl,{placeholder:e.adminAttendance.selectPlaceholder})}),a.jsx($i,{children:o.map(O=>a.jsxs(Fr,{value:O.id,children:[O.courses.title," - ",O.name]},O.id))})]})})]}),l?a.jsx("div",{className:"space-y-4",children:u.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(O=>a.jsxs(Se,{className:"hover:shadow-md transition-shadow duration-300",children:[a.jsxs(nt,{className:"pb-3",children:[a.jsx(st,{className:"text-lg",children:O.title}),a.jsxs(Ot,{className:"flex items-center gap-1.5",children:[a.jsx(_i,{className:"w-3.5 h-3.5"}),new Date(O.session_date).toLocaleDateString()]})]}),a.jsx(ke,{children:a.jsxs(Z,{variant:"outline",className:"w-full justify-between hover:bg-accent/5 hover:text-accent border-accent/20",onClick:()=>R(O),children:[e.adminAttendance.markAttendance,a.jsx(G,{className:"w-4 h-4"})]})})]},O.id))}):a.jsx("p",{className:"text-center py-12 text-muted-foreground bg-muted/20 rounded-xl border border-dashed",children:e.adminAttendance.noSessions})}):a.jsxs("div",{className:"text-center py-20 bg-muted/10 rounded-2xl border border-dashed",children:[a.jsx(_i,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:e.adminAttendance.selectPlaceholder})]}),a.jsx(Ri,{open:f,onOpenChange:g,children:a.jsxs(co,{children:[a.jsxs(Ai,{children:[a.jsx(Oi,{children:e.adminAttendance.createSessionTitle}),a.jsx(Ii,{children:e.adminAttendance.createSessionDesc})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"title",children:e.adminAttendance.sessionTitle}),a.jsx(Fe,{id:"title",value:m.title,onChange:O=>b({...m,title:O.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"date",children:e.adminAttendance.sessionDate}),a.jsx(Fe,{id:"date",type:"date",value:m.date,onChange:O=>b({...m,date:O.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"duration",children:e.common.hours}),a.jsx(Fe,{id:"duration",type:"number",step:"0.1",value:m.duration,onChange:O=>b({...m,duration:parseFloat(O.target.value)})})]})]})]}),a.jsxs(vl,{children:[a.jsx(Z,{variant:"outline",onClick:()=>g(!1),children:e.common.cancel}),a.jsx(Z,{onClick:T,className:"gradient-primary",children:e.adminAttendance.createBtn})]})]})}),a.jsx(Ri,{open:p,onOpenChange:x,children:a.jsxs(co,{className:"max-w-2xl max-h-[85vh] flex flex-col p-0 overflow-hidden",children:[a.jsxs(Ai,{className:"p-6 pb-2",children:[a.jsxs(Oi,{className:"text-xl flex items-center gap-2",children:[a.jsx(Vs,{className:"w-6 h-6 text-green-500"}),e.adminAttendance.markAttendance,": ",v==null?void 0:v.title]}),a.jsx(Ii,{children:v&&new Date(v.session_date).toLocaleDateString()})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-2",children:w.length>0?a.jsx("div",{className:"divide-y divide-border",children:w.map(O=>a.jsxs("div",{className:"py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center text-accent",children:a.jsx(cu,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium",children:O.profiles.full_name||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:`text-xs font-medium uppercase tracking-wider ${C[O.user_id]?"text-green-500":"text-red-400"}`,children:C[O.user_id]?e.adminAttendance.attended:e.adminAttendance.absent}),a.jsx(Nd,{checked:!!C[O.user_id],onCheckedChange:B=>q(O.user_id,B)})]})]},O.user_id))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:e.adminAttendance.noBatches})})}),a.jsxs(vl,{className:"p-6 pt-2 border-t bg-muted/10",children:[a.jsx(Z,{variant:"outline",onClick:()=>x(!1),children:e.common.cancel}),a.jsxs(Z,{onClick:D,className:"gradient-primary",disabled:S,children:[S&&a.jsx(cn,{className:"w-4 h-4 me-2 animate-spin"}),e.common.save]})]})]})})]})})}const Mf={course_id:"",discount_percentage:0,max_students:null,is_active:!0};function J5(){const{t:e}=Oe(),[t,r]=h.useState([]),[n,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[f,g]=h.useState(!1),[m,b]=h.useState(null),[p,x]=h.useState(null),[v,y]=h.useState(Mf),{toast:w}=Zt();h.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0);const[T,R]=await Promise.all([M.from("offers").select("*, courses(*)").order("created_at",{ascending:!1}),M.from("courses").select("*").eq("is_active",!0)]);if(T.error)throw T.error;if(R.error)throw R.error;r(T.data||[]),s(R.data||[])}catch(T){console.error("Error fetching data:",T),w({title:e.common.error,description:"Failed to load offers or courses.",variant:"destructive"})}finally{i(!1)}},C=T=>{T?(b(T),y({course_id:T.course_id,discount_percentage:T.discount_percentage,max_students:T.max_students,is_active:T.is_active??!0})):(b(null),y({...Mf,course_id:n.length>0?n[0].id:""})),d(!0)},j=()=>{d(!1),b(null),y(Mf)},S=async T=>{if(T.preventDefault(),!v.course_id||v.course_id===""){w({title:e.adminOffers.validationError,description:e.adminOffers.selectCourseError,variant:"destructive"});return}if(v.discount_percentage<=0){w({title:e.adminOffers.validationError,description:e.adminOffers.discountError,variant:"destructive"});return}c(!0);try{if(m){const{error:R}=await M.from("offers").update({course_id:v.course_id,discount_percentage:v.discount_percentage,max_students:v.max_students,is_active:v.is_active}).eq("id",m.id);if(R)throw R;w({title:e.common.success,description:e.adminOffers.updateSuccess})}else{const{error:R}=await M.from("offers").insert({course_id:v.course_id,discount_percentage:v.discount_percentage,max_students:v.max_students,is_active:v.is_active});if(R)throw R;w({title:e.common.success,description:e.adminOffers.createSuccess})}j(),_()}catch(R){console.error("Error saving offer:",R),w({title:e.common.error,description:e.adminOffers.saveError,variant:"destructive"})}finally{c(!1)}},E=T=>{x(T),g(!0)},N=async()=>{if(p)try{const{error:T}=await M.from("offers").delete().eq("id",p.id);if(T)throw T;w({title:e.common.success,description:e.adminOffers.deleteSuccess}),_()}catch(T){console.error("Error deleting offer:",T),w({title:e.common.error,description:e.adminOffers.deleteError,variant:"destructive"})}finally{g(!1),x(null)}},k=(T,R)=>{y(q=>({...q,[T]:R}))};return a.jsxs(He,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.nav.offers}),a.jsx("p",{className:"text-muted-foreground",children:e.adminOffers.subtitle})]}),a.jsxs(Z,{onClick:()=>C(),className:"gap-2 gradient-accent text-accent-foreground",children:[a.jsx(Qa,{className:"w-4 h-4"}),e.adminOffers.addOffer]})]}),a.jsx(Se,{className:"border-0 shadow-md",children:a.jsx(ke,{className:"p-0",children:o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(cn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):t.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Za,{className:"w-12 h-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:e.adminOffers.noOffers}),a.jsx("p",{className:"text-muted-foreground mb-4",children:e.adminOffers.noOffersDesc}),a.jsxs(Z,{onClick:()=>C(),className:"gap-2",children:[a.jsx(Qa,{className:"w-4 h-4"}),e.adminOffers.addOffer]})]}):a.jsxs(Cg,{children:[a.jsx(Ng,{children:a.jsxs(yl,{children:[a.jsx(kt,{children:e.adminOffers.course}),a.jsx(kt,{children:e.adminOffers.discount}),a.jsx(kt,{children:e.adminOffers.originalPrice}),a.jsx(kt,{children:e.adminOffers.offerPrice}),a.jsx(kt,{children:e.adminOffers.usage}),a.jsx(kt,{children:e.common.status}),a.jsx(kt,{className:"text-end",children:e.common.actions})]})}),a.jsx(Eg,{children:t.map(T=>{const R=T.courses.price||0,q=R*(1-T.discount_percentage/100);return a.jsxs(yl,{children:[a.jsx(Tt,{className:"font-medium",children:T.courses.title}),a.jsx(Tt,{children:a.jsxs(Mt,{variant:"secondary",className:"bg-accent/10 text-accent",children:[T.discount_percentage,"% ",e.courses.off]})}),a.jsxs(Tt,{className:"text-muted-foreground line-through",children:["$",R.toFixed(2)]}),a.jsxs(Tt,{className:"font-bold text-primary",children:["$",q.toFixed(2)]}),a.jsxs(Tt,{children:[T.used_count||0," / ",T.max_students||""]}),a.jsx(Tt,{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.is_active?"bg-success/10 text-success":"bg-muted text-muted-foreground"}`,children:T.is_active?e.common.active:e.common.inactive})}),a.jsx(Tt,{className:"text-end",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>C(T),children:a.jsx(Fb,{className:"w-4 h-4"})}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>E(T),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(zb,{className:"w-4 h-4"})})]})})]},T.id)})})]})})})]}),a.jsx(Ri,{open:u,onOpenChange:d,children:a.jsxs(co,{className:"max-w-md",children:[a.jsxs(Ai,{children:[a.jsx(Oi,{children:m?e.adminOffers.editTitle:e.adminOffers.createTitle}),a.jsx(Ii,{children:e.adminOffers.dialogDesc})]}),a.jsxs("form",{onSubmit:S,children:[a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"course",children:e.adminOffers.selectCourse}),a.jsxs(xl,{value:v.course_id,onValueChange:T=>k("course_id",T),disabled:!!m,children:[a.jsx(Li,{children:a.jsx(wl,{placeholder:e.adminOffers.selectPlaceholder})}),a.jsx($i,{children:n.length===0?a.jsx(Fr,{value:"none",disabled:!0,children:e.adminOffers.noCourses}):n.map(T=>a.jsxs(Fr,{value:T.id,children:[T.title," ($",T.price,")"]},T.id))})]}),n.length===0&&a.jsx("p",{className:"text-[10px] text-destructive font-medium mt-1",children:e.adminOffers.mustCreateCourse}),!m&&n.length>0&&a.jsx("p",{className:"text-[10px] text-muted-foreground",children:e.adminOffers.courseHint.split("{link}").map((T,R,q)=>a.jsxs("span",{children:[T,R<q.length-1&&a.jsx("a",{href:"/admin/courses",className:"text-primary hover:underline",children:e.nav.courses})]},R))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"discount",children:e.adminOffers.discountLabel}),a.jsx(Fe,{id:"discount",type:"number",min:"1",max:"100",value:v.discount_percentage,onChange:T=>k("discount_percentage",parseInt(T.target.value)||0)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(be,{htmlFor:"max_students",children:e.adminOffers.maxStudents}),a.jsx(Fe,{id:"max_students",type:"number",min:"1",placeholder:e.adminOffers.unlimited,value:v.max_students||"",onChange:T=>k("max_students",parseInt(T.target.value)||null)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nd,{id:"offer_active",checked:v.is_active,onCheckedChange:T=>k("is_active",T)}),a.jsx(be,{htmlFor:"offer_active",children:e.adminOffers.isActive})]})]}),a.jsxs(vl,{children:[a.jsx(Z,{type:"button",variant:"outline",onClick:j,children:e.common.cancel}),a.jsxs(Z,{type:"submit",disabled:l,className:"gradient-primary",children:[l&&a.jsx(cn,{className:"w-4 h-4 me-2 animate-spin"}),m?e.adminOffers.updateBtn:e.adminOffers.createBtn]})]})]})]})}),a.jsx(Uj,{open:f,onOpenChange:g,children:a.jsxs(kg,{children:[a.jsxs(Tg,{children:[a.jsx(Rg,{children:e.adminOffers.deleteTitle}),a.jsx(Ag,{children:e.adminOffers.deleteConfirm})]}),a.jsxs(Pg,{children:[a.jsx(Ig,{children:e.common.cancel}),a.jsx(Og,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e.common.delete})]})]})})]})}function X5(){const{t:e}=Oe();return a.jsx(He,{children:a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e.nav.statistics}),a.jsx("p",{className:"text-muted-foreground",children:e.adminStats.subtitle})]})})})}const e3=()=>{const e=vo();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function t3(){var g,m,b;const{user:e,profile:t,refreshProfile:r,isAdmin:n}=Vt(),{t:s}=Oe(),{toast:o}=Zt(),i=ks(),[l,c]=h.useState((t==null?void 0:t.full_name)||""),[u,d]=h.useState(!1),f=async p=>{var x,v;p.preventDefault(),d(!0);try{const{error:y}=await M.from("profiles").update({full_name:l.trim()}).eq("user_id",e==null?void 0:e.id);if(y)throw y;await r(),o({title:((x=s.profile)==null?void 0:x.updateSuccess)||"Profile updated",description:((v=s.profile)==null?void 0:v.updateSuccessDesc)||"Your profile has been updated successfully"})}catch(y){o({title:s.common.error,description:y.message,variant:"destructive"})}finally{d(!1)}};return a.jsx(He,{children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:s.profile.title}),a.jsx("p",{className:"text-muted-foreground",children:s.profile.subtitle})]}),a.jsxs(Se,{children:[a.jsxs(nt,{children:[a.jsx(st,{children:s.profile.personalInfo}),a.jsx(Ot,{children:s.profile.personalInfoDesc})]}),a.jsx(ke,{className:"space-y-6",children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{htmlFor:"fullName",children:[a.jsx(cu,{className:"w-4 h-4 inline me-2"}),s.auth.fullName]}),a.jsx(Fe,{id:"fullName",value:l,onChange:p=>c(p.target.value),placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be,{htmlFor:"email",children:[a.jsx(lu,{className:"w-4 h-4 inline me-2"}),s.auth.email]}),a.jsx(Fe,{id:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:((g=s.profile)==null?void 0:g.emailHint)||"Email cannot be changed"})]}),a.jsxs(Z,{type:"submit",disabled:u,className:"w-full sm:w-auto",children:[a.jsx(wT,{className:"w-4 h-4 me-2"}),u?s.common.save+"...":s.common.save]})]})})]}),a.jsxs(Se,{children:[a.jsx(nt,{children:a.jsx(st,{children:s.profile.accountStats})}),a.jsx(ke,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ft,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s.common.points})]}),a.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.total_points)||0})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-accent/5 border border-accent/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(_i,{className:"w-4 h-4 text-accent"}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:s.profile.memberSince})]}),a.jsx("div",{className:"text-2xl font-bold",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-secondary/50 border border-secondary",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?a.jsx(cu,{className:"w-4 h-4 text-secondary-foreground"}):a.jsx(Ja,{className:`w-4 h-4 ${(t==null?void 0:t.student_level)==="advanced"?"text-amber-500":(t==null?void 0:t.student_level)==="intermediate"?"text-blue-500":"text-slate-400"}`}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n?((m=s.profile)==null?void 0:m.accountType)||"Account Type":s.common.level})]}),a.jsx("div",{className:`text-2xl font-bold capitalize ${!n&&(t==null?void 0:t.student_level)==="advanced"?"text-amber-600":!n&&(t==null?void 0:t.student_level)==="intermediate"?"text-blue-600":""}`,children:n?((b=s.profile)==null?void 0:b.admin)||"Admin":(t==null?void 0:t.student_level)==="advanced"?s.common.advanced:(t==null?void 0:t.student_level)==="intermediate"?s.common.intermediate:s.common.beginner})]})]})})]}),a.jsxs(Se,{children:[a.jsxs(nt,{children:[a.jsx(st,{children:s.profile.security}),a.jsx(Ot,{children:s.profile.securityDesc})]}),a.jsx(ke,{children:a.jsxs(Z,{variant:"outline",onClick:()=>i("/change-password"),className:"w-full sm:w-auto",children:[a.jsx(_m,{className:"w-4 h-4 me-2"}),s.profile.changePassword]})})]})]})})}function r3(){var w;const{user:e}=Vt(),{t}=Oe(),{toast:r}=Zt(),n=ks(),[s,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(!1),[g,m]=h.useState(!1),[b,p]=h.useState(!1),[x,v]=h.useState(!1),y=async _=>{var C;if(_.preventDefault(),i!==c){r({title:t.password.mismatch,description:t.password.mismatchDesc,variant:"destructive"});return}if(i.length<6){r({title:t.validation.passwordMin,variant:"destructive"});return}v(!0);try{const{error:j}=await M.auth.signInWithPassword({email:(e==null?void 0:e.email)||"",password:s});if(j)throw new Error(((C=t.password)==null?void 0:C.incorrectCurrent)||"Current password is incorrect");const{error:S}=await M.auth.updateUser({password:i});if(S)throw S;r({title:t.password.changeSuccess,description:t.password.changeSuccessDesc}),o(""),l(""),u(""),setTimeout(()=>{n("/profile")},1500)}catch(j){r({title:t.common.error,description:j.message,variant:"destructive"})}finally{v(!1)}};return a.jsx(He,{children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:t.password.changeTitle}),a.jsx("p",{className:"text-muted-foreground",children:t.password.changeDesc})]}),a.jsxs(Se,{children:[a.jsxs(nt,{children:[a.jsx(st,{children:t.password.changeTitle}),a.jsx(Ot,{children:t.password.requirements})]}),a.jsx(ke,{children:a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"currentPassword",children:t.password.current}),a.jsxs("div",{className:"relative",children:[a.jsx(Fe,{id:"currentPassword",type:d?"text":"password",value:s,onChange:_=>o(_.target.value),required:!0,className:"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>f(!d),children:d?a.jsx(Ea,{className:"w-4 h-4"}):a.jsx(ka,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"newPassword",children:t.password.new}),a.jsxs("div",{className:"relative",children:[a.jsx(Fe,{id:"newPassword",type:g?"text":"password",value:i,onChange:_=>l(_.target.value),required:!0,className:"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>m(!g),children:g?a.jsx(Ea,{className:"w-4 h-4"}):a.jsx(ka,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"confirmPassword",children:t.password.confirm}),a.jsxs("div",{className:"relative",children:[a.jsx(Fe,{id:"confirmPassword",type:b?"text":"password",value:c,onChange:_=>u(_.target.value),required:!0,className:"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>p(!b),children:b?a.jsx(Ea,{className:"w-4 h-4"}):a.jsx(ka,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(Z,{type:"submit",disabled:x,className:"flex-1",children:[a.jsx(_m,{className:"w-4 h-4 me-2"}),x?t.common.loading:((w=t.password)==null?void 0:w.changeBtn)||"Change Password"]}),a.jsx(Z,{type:"button",variant:"outline",onClick:()=>n("/profile"),disabled:x,children:t.common.cancel})]})]})})]})]})})}function n3(){const{t:e,dir:t}=Oe(),{toast:r}=Zt(),[n,s]=h.useState(""),[o,i]=h.useState(!1),[l,c]=h.useState(!1),u=async d=>{var f,g;d.preventDefault(),i(!0);try{const{error:m}=await M.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/reset-password`});if(m)throw m;c(!0),r({title:((f=e.password)==null?void 0:f.resetEmailSent)||"Reset email sent",description:((g=e.password)==null?void 0:g.resetEmailSentDesc)||"Check your email for the password reset link"})}catch(m){r({title:e.common.error,description:m.message,variant:"destructive"})}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",dir:t,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx(Il,{})}),a.jsxs(Se,{className:"border-0 shadow-lg",children:[a.jsxs(nt,{className:"text-center",children:[a.jsx(st,{className:"text-2xl font-display",children:e.password.forgotTitle}),a.jsx(Ot,{children:e.password.forgotDesc})]}),a.jsx(ke,{children:l?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-success/10 flex items-center justify-center",children:a.jsx(lu,{className:"w-8 h-8 text-success"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:e.password.checkEmail}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.password.resetLinkSent," ",a.jsx("span",{className:"font-medium",children:n})]})]}),a.jsx(xt,{to:"/auth",children:a.jsxs(Z,{variant:"outline",className:"w-full",children:[a.jsx(bi,{className:"w-4 h-4 me-2"}),e.password.backToLogin]})})]}):a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"email",children:e.auth.email}),a.jsx(Fe,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:d=>s(d.target.value),required:!0})]}),a.jsxs(Z,{type:"submit",className:"w-full",disabled:o,children:[a.jsx(lu,{className:"w-4 h-4 me-2"}),o?e.common.loading:e.password.sendResetLink]}),a.jsx(xt,{to:"/auth",children:a.jsxs(Z,{variant:"ghost",className:"w-full",children:[a.jsx(bi,{className:"w-4 h-4 me-2"}),e.password.backToLogin]})})]})})]})]})})}function s3(){const{t:e,dir:t}=Oe(),{toast:r}=Zt(),n=ks(),[s,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[g,m]=h.useState(!1);h.useEffect(()=>{M.auth.getSession().then(({data:{session:p}})=>{p||(r({title:e.password.invalidLink,description:e.password.invalidLinkDesc,variant:"destructive"}),n("/forgot-password"))})},[n,r,e]);const b=async p=>{if(p.preventDefault(),s!==i){r({title:e.password.mismatch,description:e.password.mismatchDesc,variant:"destructive"});return}if(s.length<6){r({title:e.validation.passwordMin,variant:"destructive"});return}m(!0);try{const{error:x}=await M.auth.updateUser({password:s});if(x)throw x;r({title:e.password.resetSuccess,description:e.password.resetSuccessDesc}),await M.auth.signOut(),n("/auth")}catch(x){r({title:e.common.error,description:x.message,variant:"destructive"})}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",dir:t,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx(Il,{})}),a.jsxs(Se,{className:"border-0 shadow-lg",children:[a.jsxs(nt,{className:"text-center",children:[a.jsx(st,{className:"text-2xl font-display",children:e.password.resetTitle}),a.jsx(Ot,{children:e.password.resetDesc})]}),a.jsx(ke,{children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"newPassword",children:e.password.new}),a.jsxs("div",{className:"relative",children:[a.jsx(Fe,{id:"newPassword",type:c?"text":"password",value:s,onChange:p=>o(p.target.value),required:!0,className:"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>u(!c),children:c?a.jsx(Ea,{className:"w-4 h-4"}):a.jsx(ka,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(be,{htmlFor:"confirmPassword",children:e.password.confirm}),a.jsxs("div",{className:"relative",children:[a.jsx(Fe,{id:"confirmPassword",type:d?"text":"password",value:i,onChange:p=>l(p.target.value),required:!0,className:"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>f(!d),children:d?a.jsx(Ea,{className:"w-4 h-4"}):a.jsx(ka,{className:"w-4 h-4"})})]})]}),a.jsxs(Z,{type:"submit",className:"w-full",disabled:g,children:[a.jsx(_m,{className:"w-4 h-4 me-2"}),g?e.common.loading:e.password.resetBtn]})]})})]})]})})}const o3=new WA;function Nt({children:e,adminOnly:t=!1}){const{user:r,loading:n,isAdmin:s}=Vt(),{t:o}=Oe();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.common.loading}):r?t&&!s?a.jsx(Py,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e}):a.jsx(Py,{to:"/auth",replace:!0})}function i3(){return a.jsxs(M2,{children:[a.jsx(Ye,{path:"/",element:a.jsx(N4,{})}),a.jsx(Ye,{path:"/auth",element:a.jsx(nL,{})}),a.jsx(Ye,{path:"/dashboard",element:a.jsx(Nt,{children:a.jsx(A$,{})})}),a.jsx(Ye,{path:"/courses",element:a.jsx(Nt,{children:a.jsx(uM,{})})}),a.jsx(Ye,{path:"/my-courses",element:a.jsx(Nt,{children:a.jsx(yM,{})})}),a.jsx(Ye,{path:"/points",element:a.jsx(Nt,{children:a.jsx(xM,{})})}),a.jsx(Ye,{path:"/offers",element:a.jsx(Nt,{children:a.jsx(bM,{})})}),a.jsx(Ye,{path:"/quiz/:courseId",element:a.jsx(Nt,{children:a.jsx(WM,{})})}),a.jsx(Ye,{path:"/profile",element:a.jsx(Nt,{children:a.jsx(t3,{})})}),a.jsx(Ye,{path:"/change-password",element:a.jsx(Nt,{children:a.jsx(r3,{})})}),a.jsx(Ye,{path:"/forgot-password",element:a.jsx(n3,{})}),a.jsx(Ye,{path:"/reset-password",element:a.jsx(s3,{})}),a.jsx(Ye,{path:"/admin",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(HM,{})})}),a.jsx(Ye,{path:"/admin/courses",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(h5,{})})}),a.jsx(Ye,{path:"/admin/notifications",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(G5,{})})}),a.jsx(Ye,{path:"/admin/users",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(Y5,{})})}),a.jsx(Ye,{path:"/admin/batches",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(Q5,{})})}),a.jsx(Ye,{path:"/admin/attendance",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(Z5,{})})}),a.jsx(Ye,{path:"/admin/offers",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(J5,{})})}),a.jsx(Ye,{path:"/admin/stats",element:a.jsx(Nt,{adminOnly:!0,children:a.jsx(X5,{})})}),a.jsx(Ye,{path:"*",element:a.jsx(e3,{})})]})}const a3=()=>a.jsx(KA,{client:o3,children:a.jsx(LD,{defaultTheme:"system",storageKey:"learnhub-theme",children:a.jsx(ID,{children:a.jsxs(bA,{children:[a.jsx(oP,{}),a.jsx($P,{}),a.jsx(W2,{children:a.jsx(PD,{children:a.jsx(i3,{})})})]})})})});ab(document.getElementById("root")).render(a.jsx(a3,{}));
